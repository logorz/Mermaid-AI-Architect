/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/page";
exports.ids = ["app/page"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "worker_threads":
/*!*********************************!*\
  !*** external "worker_threads" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("worker_threads");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=%2FUsers%2Fliyuerui%2FTRAE%2FMermaid-AI-Architect%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fliyuerui%2FTRAE%2FMermaid-AI-Architect&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=%2FUsers%2Fliyuerui%2FTRAE%2FMermaid-AI-Architect%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fliyuerui%2FTRAE%2FMermaid-AI-Architect&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default.a),\n/* harmony export */   __next_app__: () => (/* binding */ __next_app__),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   pages: () => (/* binding */ pages),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   tree: () => (/* binding */ tree)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-page/module.compiled */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/module.compiled.js?d969\");\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/client/components/error-boundary */ \"(rsc)/./node_modules/next/dist/client/components/error-boundary.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/app-render/entry-base */ \"(rsc)/./node_modules/next/dist/server/app-render/entry-base.js\");\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__) if([\"default\",\"tree\",\"pages\",\"GlobalError\",\"originalPathname\",\"__next_app__\",\"routeModule\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\"TURBOPACK { transition: next-ssr }\";\n\n\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: ['__PAGE__', {}, {\n          page: [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/page.tsx */ \"(rsc)/./src/app/page.tsx\")), \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx\"],\n          \n        }]\n      },\n        {\n        'layout': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/layout.tsx */ \"(rsc)/./src/app/layout.tsx\")), \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/layout.tsx\"],\n'not-found': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/not-found-error */ \"(rsc)/./node_modules/next/dist/client/components/not-found-error.js\", 23)), \"next/dist/client/components/not-found-error\"],\n        \n      }\n      ]\n      }.children;\nconst pages = [\"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx\"];\n\n\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nconst originalPathname = \"/page\";\nconst __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\n\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppPageRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,\n        page: \"/page\",\n        pathname: \"/\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\",\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    }\n});\n\n//# sourceMappingURL=app-page.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZwYWdlJnBhZ2U9JTJGcGFnZSZhcHBQYXRocz0lMkZwYWdlJnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGcGFnZS50c3gmYXBwRGlyPSUyRlVzZXJzJTJGbGl5dWVydWklMkZUUkFFJTJGTWVybWFpZC1BSS1BcmNoaXRlY3QlMkZzcmMlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGbGl5dWVydWklMkZUUkFFJTJGTWVybWFpZC1BSS1BcmNoaXRlY3QmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxhQUFhLHNCQUFzQjtBQUNpRTtBQUNyQztBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakMsdUJBQXVCLGdKQUErRjtBQUN0SDtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQSx5QkFBeUIsb0pBQWlHO0FBQzFILG9CQUFvQiwwTkFBZ0Y7QUFDcEc7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ3VCO0FBQzZEO0FBQ3BGLDZCQUE2QixtQkFBbUI7QUFDaEQ7QUFDTztBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ3VEO0FBQ3ZEO0FBQ08sd0JBQXdCLDhHQUFrQjtBQUNqRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXJtYWlkLWFpLWFyY2hpdGVjdC8/OTJiYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcIlRVUkJPUEFDSyB7IHRyYW5zaXRpb246IG5leHQtc3NyIH1cIjtcbmltcG9ydCB7IEFwcFBhZ2VSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1wYWdlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbi8vIFdlIGluamVjdCB0aGUgdHJlZSBhbmQgcGFnZXMgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IHRyZWUgPSB7XG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICcnLFxuICAgICAgICB7XG4gICAgICAgIGNoaWxkcmVuOiBbJ19fUEFHRV9fJywge30sIHtcbiAgICAgICAgICBwYWdlOiBbKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvbGl5dWVydWkvVFJBRS9NZXJtYWlkLUFJLUFyY2hpdGVjdC9zcmMvYXBwL3BhZ2UudHN4XCIpLCBcIi9Vc2Vycy9saXl1ZXJ1aS9UUkFFL01lcm1haWQtQUktQXJjaGl0ZWN0L3NyYy9hcHAvcGFnZS50c3hcIl0sXG4gICAgICAgICAgXG4gICAgICAgIH1dXG4gICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICdsYXlvdXQnOiBbKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvbGl5dWVydWkvVFJBRS9NZXJtYWlkLUFJLUFyY2hpdGVjdC9zcmMvYXBwL2xheW91dC50c3hcIiksIFwiL1VzZXJzL2xpeXVlcnVpL1RSQUUvTWVybWFpZC1BSS1BcmNoaXRlY3Qvc3JjL2FwcC9sYXlvdXQudHN4XCJdLFxuJ25vdC1mb3VuZCc6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9ub3QtZm91bmQtZXJyb3JcIiksIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL25vdC1mb3VuZC1lcnJvclwiXSxcbiAgICAgICAgXG4gICAgICB9XG4gICAgICBdXG4gICAgICB9LmNoaWxkcmVuO1xuY29uc3QgcGFnZXMgPSBbXCIvVXNlcnMvbGl5dWVydWkvVFJBRS9NZXJtYWlkLUFJLUFyY2hpdGVjdC9zcmMvYXBwL3BhZ2UudHN4XCJdO1xuZXhwb3J0IHsgdHJlZSwgcGFnZXMgfTtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgR2xvYmFsRXJyb3IgfSBmcm9tIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2Vycm9yLWJvdW5kYXJ5XCI7XG5jb25zdCBfX25leHRfYXBwX3JlcXVpcmVfXyA9IF9fd2VicGFja19yZXF1aXJlX19cbmNvbnN0IF9fbmV4dF9hcHBfbG9hZF9jaHVua19fID0gKCkgPT4gUHJvbWlzZS5yZXNvbHZlKClcbmV4cG9ydCBjb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvcGFnZVwiO1xuZXhwb3J0IGNvbnN0IF9fbmV4dF9hcHBfXyA9IHtcbiAgICByZXF1aXJlOiBfX25leHRfYXBwX3JlcXVpcmVfXyxcbiAgICBsb2FkQ2h1bms6IF9fbmV4dF9hcHBfbG9hZF9jaHVua19fXG59O1xuZXhwb3J0ICogZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvYXBwLXJlbmRlci9lbnRyeS1iYXNlXCI7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBQYWdlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9QQUdFLFxuICAgICAgICBwYWdlOiBcIi9wYWdlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9cIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIixcbiAgICAgICAgYXBwUGF0aHM6IFtdXG4gICAgfSxcbiAgICB1c2VybGFuZDoge1xuICAgICAgICBsb2FkZXJUcmVlOiB0cmVlXG4gICAgfVxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1wYWdlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=%2FUsers%2Fliyuerui%2FTRAE%2FMermaid-AI-Architect%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fliyuerui%2FTRAE%2FMermaid-AI-Architect&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fliyuerui%2FTRAE%2FMermaid-AI-Architect%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fliyuerui%2FTRAE%2FMermaid-AI-Architect%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fliyuerui%2FTRAE%2FMermaid-AI-Architect%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fliyuerui%2FTRAE%2FMermaid-AI-Architect%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fliyuerui%2FTRAE%2FMermaid-AI-Architect%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fliyuerui%2FTRAE%2FMermaid-AI-Architect%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fliyuerui%2FTRAE%2FMermaid-AI-Architect%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fliyuerui%2FTRAE%2FMermaid-AI-Architect%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fliyuerui%2FTRAE%2FMermaid-AI-Architect%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fliyuerui%2FTRAE%2FMermaid-AI-Architect%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fliyuerui%2FTRAE%2FMermaid-AI-Architect%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fliyuerui%2FTRAE%2FMermaid-AI-Architect%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/app-router.js */ \"(ssr)/./node_modules/next/dist/client/components/app-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/client-page.js */ \"(ssr)/./node_modules/next/dist/client/components/client-page.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/error-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/error-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/layout-router.js */ \"(ssr)/./node_modules/next/dist/client/components/layout-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/not-found-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/not-found-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/render-from-template-context.js */ \"(ssr)/./node_modules/next/dist/client/components/render-from-template-context.js\", 23));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGbGl5dWVydWklMkZUUkFFJTJGTWVybWFpZC1BSS1BcmNoaXRlY3QlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZhcHAtcm91dGVyLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGbGl5dWVydWklMkZUUkFFJTJGTWVybWFpZC1BSS1BcmNoaXRlY3QlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZjbGllbnQtcGFnZS5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRmxpeXVlcnVpJTJGVFJBRSUyRk1lcm1haWQtQUktQXJjaGl0ZWN0JTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGZXJyb3ItYm91bmRhcnkuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZsaXl1ZXJ1aSUyRlRSQUUlMkZNZXJtYWlkLUFJLUFyY2hpdGVjdCUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRmxheW91dC1yb3V0ZXIuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZsaXl1ZXJ1aSUyRlRSQUUlMkZNZXJtYWlkLUFJLUFyY2hpdGVjdCUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRm5vdC1mb3VuZC1ib3VuZGFyeS5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRmxpeXVlcnVpJTJGVFJBRSUyRk1lcm1haWQtQUktQXJjaGl0ZWN0JTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGcmVuZGVyLWZyb20tdGVtcGxhdGUtY29udGV4dC5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsa09BQXFJO0FBQ3JJO0FBQ0Esb09BQXNJO0FBQ3RJO0FBQ0EsME9BQXlJO0FBQ3pJO0FBQ0Esd09BQXdJO0FBQ3hJO0FBQ0Esa1BBQTZJO0FBQzdJO0FBQ0Esc1FBQXVKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVybWFpZC1haS1hcmNoaXRlY3QvPzdkZjIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvbGl5dWVydWkvVFJBRS9NZXJtYWlkLUFJLUFyY2hpdGVjdC9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2FwcC1yb3V0ZXIuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9saXl1ZXJ1aS9UUkFFL01lcm1haWQtQUktQXJjaGl0ZWN0L25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvY2xpZW50LXBhZ2UuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9saXl1ZXJ1aS9UUkFFL01lcm1haWQtQUktQXJjaGl0ZWN0L25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvZXJyb3ItYm91bmRhcnkuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9saXl1ZXJ1aS9UUkFFL01lcm1haWQtQUktQXJjaGl0ZWN0L25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbGF5b3V0LXJvdXRlci5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2xpeXVlcnVpL1RSQUUvTWVybWFpZC1BSS1BcmNoaXRlY3Qvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9ub3QtZm91bmQtYm91bmRhcnkuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9saXl1ZXJ1aS9UUkFFL01lcm1haWQtQUktQXJjaGl0ZWN0L25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvcmVuZGVyLWZyb20tdGVtcGxhdGUtY29udGV4dC5qc1wiKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fliyuerui%2FTRAE%2FMermaid-AI-Architect%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fliyuerui%2FTRAE%2FMermaid-AI-Architect%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fliyuerui%2FTRAE%2FMermaid-AI-Architect%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fliyuerui%2FTRAE%2FMermaid-AI-Architect%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fliyuerui%2FTRAE%2FMermaid-AI-Architect%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fliyuerui%2FTRAE%2FMermaid-AI-Architect%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fliyuerui%2FTRAE%2FMermaid-AI-Architect%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fscript.js%22%2C%22ids%22%3A%5B%22*%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fliyuerui%2FTRAE%2FMermaid-AI-Architect%2Fsrc%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fliyuerui%2FTRAE%2FMermaid-AI-Architect%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fscript.js%22%2C%22ids%22%3A%5B%22*%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fliyuerui%2FTRAE%2FMermaid-AI-Architect%2Fsrc%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/script.js */ \"(ssr)/./node_modules/next/dist/client/script.js\", 23));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGbGl5dWVydWklMkZUUkFFJTJGTWVybWFpZC1BSS1BcmNoaXRlY3QlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRnNjcmlwdC5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiUyMiolMjIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZsaXl1ZXJ1aSUyRlRSQUUlMkZNZXJtYWlkLUFJLUFyY2hpdGVjdCUyRnNyYyUyRmFwcCUyRmdsb2JhbHMuY3NzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJnNlcnZlcj10cnVlISIsIm1hcHBpbmdzIjoiQUFBQSxvTUFBc0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXJtYWlkLWFpLWFyY2hpdGVjdC8/Y2YyYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9saXl1ZXJ1aS9UUkFFL01lcm1haWQtQUktQXJjaGl0ZWN0L25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L3NjcmlwdC5qc1wiKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fliyuerui%2FTRAE%2FMermaid-AI-Architect%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fscript.js%22%2C%22ids%22%3A%5B%22*%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fliyuerui%2FTRAE%2FMermaid-AI-Architect%2Fsrc%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fliyuerui%2FTRAE%2FMermaid-AI-Architect%2Fsrc%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!****************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fliyuerui%2FTRAE%2FMermaid-AI-Architect%2Fsrc%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \****************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/page.tsx */ \"(ssr)/./src/app/page.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGbGl5dWVydWklMkZUUkFFJTJGTWVybWFpZC1BSS1BcmNoaXRlY3QlMkZzcmMlMkZhcHAlMkZwYWdlLnRzeCUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsZ0pBQStGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVybWFpZC1haS1hcmNoaXRlY3QvPzFkZGQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvbGl5dWVydWkvVFJBRS9NZXJtYWlkLUFJLUFyY2hpdGVjdC9zcmMvYXBwL3BhZ2UudHN4XCIpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fliyuerui%2FTRAE%2FMermaid-AI-Architect%2Fsrc%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./src/app/page.tsx":
/*!**************************!*\
  !*** ./src/app/page.tsx ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_MermaidRenderer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/MermaidRenderer */ \"(ssr)/./src/components/MermaidRenderer.tsx\");\n/* harmony import */ var _components_ChatPanel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/ChatPanel */ \"(ssr)/./src/components/ChatPanel.tsx\");\n/* harmony import */ var _components_CodeEditor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/CodeEditor */ \"(ssr)/./src/components/CodeEditor.tsx\");\n/* harmony import */ var _components_GalleryModal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/GalleryModal */ \"(ssr)/./src/components/GalleryModal.tsx\");\n/* harmony import */ var _services_geminiService__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../services/geminiService */ \"(ssr)/./src/services/geminiService.ts\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../constants */ \"(ssr)/./src/constants.ts\");\n/* harmony import */ var _barrel_optimize_names_ChevronDownIcon_MoonIcon_SunIcon_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDownIcon,MoonIcon,SunIcon!=!@heroicons/react/24/outline */ \"(ssr)/./node_modules/@heroicons/react/24/outline/esm/SunIcon.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronDownIcon_MoonIcon_SunIcon_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDownIcon,MoonIcon,SunIcon!=!@heroicons/react/24/outline */ \"(ssr)/./node_modules/@heroicons/react/24/outline/esm/MoonIcon.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronDownIcon_MoonIcon_SunIcon_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDownIcon,MoonIcon,SunIcon!=!@heroicons/react/24/outline */ \"(ssr)/./node_modules/@heroicons/react/24/outline/esm/ChevronDownIcon.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\n\n\nconst Page = ()=>{\n    // State\n    const [mermaidCode, setMermaidCode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_constants__WEBPACK_IMPORTED_MODULE_7__.GALLERY_EXAMPLES[0].code);\n    const [chatHistory, setChatHistory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [activeTab, setActiveTab] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"chat\");\n    const [isProcessing, setIsProcessing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isFixing, setIsFixing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isGalleryOpen, setIsGalleryOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isDarkMode, setIsDarkMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [isDownloadMenuOpen, setIsDownloadMenuOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Theme Toggle Effect\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const root = window.document.documentElement;\n        if (isDarkMode) {\n            root.classList.add(\"dark\");\n        } else {\n            root.classList.remove(\"dark\");\n        }\n    }, [\n        isDarkMode\n    ]);\n    // Handlers\n    const handleSendMessage = async (text, attachment, type = \"auto\")=>{\n        setIsProcessing(true);\n        // Construct new user message\n        const newMessage = {\n            id: Date.now().toString(),\n            role: \"user\",\n            content: text,\n            attachment: attachment\n        };\n        // Optimistic UI update: add user message immediately\n        const updatedHistory = [\n            ...chatHistory,\n            newMessage\n        ];\n        setChatHistory(updatedHistory);\n        try {\n            // Call service with full history\n            const response = await _services_geminiService__WEBPACK_IMPORTED_MODULE_6__.GeminiService.generateFromHistory(updatedHistory, mermaidCode, type);\n            if (response.type === \"code\") {\n                // It's a diagram update\n                setMermaidCode(response.content);\n                const aiResponse = {\n                    id: (Date.now() + 1).toString(),\n                    role: \"model\",\n                    content: `âœ… å·²æ ¹æ®æ‚¨çš„è¦æ±‚ç”Ÿæˆ/æ›´æ–°äº†å›¾è¡¨ã€‚\\nå¦‚æžœç»†èŠ‚ä¸å‡†ç¡®ï¼Œæ‚¨å¯ä»¥ç»§ç»­å‘Šè¯‰æˆ‘ã€‚`,\n                    type: \"code\"\n                };\n                setChatHistory((prev)=>[\n                        ...prev,\n                        aiResponse\n                    ]);\n            } else {\n                // It's a conversational message (question or chat)\n                const aiResponse = {\n                    id: (Date.now() + 1).toString(),\n                    role: \"model\",\n                    content: response.content,\n                    type: \"message\"\n                };\n                setChatHistory((prev)=>[\n                        ...prev,\n                        aiResponse\n                    ]);\n            }\n        } catch (err) {\n            const errorMsg = {\n                id: (Date.now() + 1).toString(),\n                role: \"model\",\n                content: \"æŠ±æ­‰ï¼Œå¤„ç†æ‚¨çš„è¯·æ±‚æ—¶é‡åˆ°é”™è¯¯ï¼Œè¯·é‡è¯•ã€‚\",\n                isError: true\n            };\n            setChatHistory((prev)=>[\n                    ...prev,\n                    errorMsg\n                ]);\n        } finally{\n            setIsProcessing(false);\n        }\n    };\n    const handleFixError = async (code, error)=>{\n        setIsFixing(true);\n        try {\n            const result = await _services_geminiService__WEBPACK_IMPORTED_MODULE_6__.GeminiService.fixDiagram(code, error);\n            setMermaidCode(result.code);\n            const fixMessage = {\n                id: Date.now().toString(),\n                role: \"model\",\n                content: `ðŸ”§ å·²ä¿®å¤è¯­æ³•é”™è¯¯ã€‚\\n\\nåŽŸå› : ${result.explanation}`\n            };\n            setChatHistory((prev)=>[\n                    ...prev,\n                    fixMessage\n                ]);\n            if (activeTab !== \"chat\") setActiveTab(\"chat\");\n        } catch (err) {\n            alert(\"æ— æ³•è‡ªåŠ¨ä¿®å¤ï¼Œè¯·æ£€æŸ¥ä»£ç ã€‚\");\n        } finally{\n            setIsFixing(false);\n        }\n    };\n    const loadExample = (template)=>{\n        setMermaidCode(template.code);\n        // Reset history when loading a template to avoid context confusion? \n        // Usually better to just add a system note, but here strictly adding a message is fine.\n        setChatHistory((prev)=>[\n                ...prev,\n                {\n                    id: Date.now().toString(),\n                    role: \"model\",\n                    content: `å·²åŠ è½½æ¨¡æ¿: ${template.name}`\n                }\n            ]);\n        setIsGalleryOpen(false);\n    };\n    const copyToClipboard = ()=>{\n        navigator.clipboard.writeText(mermaidCode);\n        alert(\"ä»£ç å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼\");\n    };\n    const downloadSVG = ()=>{\n        const svgElement = document.querySelector(\"#mermaid-chart-container svg\");\n        if (svgElement) {\n            const svgData = new XMLSerializer().serializeToString(svgElement);\n            const blob = new Blob([\n                svgData\n            ], {\n                type: \"image/svg+xml;charset=utf-8\"\n            });\n            const url = URL.createObjectURL(blob);\n            const link = document.createElement(\"a\");\n            link.href = url;\n            link.download = `mermaid-diagram-${Date.now()}.svg`;\n            document.body.appendChild(link);\n            link.click();\n            document.body.removeChild(link);\n        } else {\n            alert(\"æ²¡æœ‰å¯ä¸‹è½½çš„å›¾è¡¨æ¸²æŸ“å†…å®¹ã€‚\");\n        }\n    };\n    const downloadPNG = ()=>{\n        const svgElement = document.querySelector(\"#mermaid-chart-container svg\");\n        if (svgElement) {\n            const svgData = new XMLSerializer().serializeToString(svgElement);\n            const canvas = document.createElement(\"canvas\");\n            const ctx = canvas.getContext(\"2d\");\n            if (!ctx) return;\n            const img = new Image();\n            img.onload = ()=>{\n                const scaleFactor = 3;\n                canvas.width = img.width * scaleFactor;\n                canvas.height = img.height * scaleFactor;\n                const isDark = document.documentElement.classList.contains(\"dark\");\n                ctx.fillStyle = isDark ? \"#0f172a\" : \"#ffffff\";\n                ctx.fillRect(0, 0, canvas.width, canvas.height);\n                ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\n                canvas.toBlob((blob)=>{\n                    if (blob) {\n                        const url = URL.createObjectURL(blob);\n                        const link = document.createElement(\"a\");\n                        link.href = url;\n                        link.download = `mermaid-diagram-${Date.now()}.png`;\n                        document.body.appendChild(link);\n                        link.click();\n                        document.body.removeChild(link);\n                    }\n                }, \"image/png\");\n            };\n            img.src = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(svgData)}`;\n        } else {\n            alert(\"æ²¡æœ‰å¯ä¸‹è½½çš„å›¾è¡¨æ¸²æŸ“å†…å®¹ã€‚\");\n        }\n    };\n    const downloadJPG = ()=>{\n        const svgElement = document.querySelector(\"#mermaid-chart-container svg\");\n        if (svgElement) {\n            const svgData = new XMLSerializer().serializeToString(svgElement);\n            const canvas = document.createElement(\"canvas\");\n            const ctx = canvas.getContext(\"2d\");\n            if (!ctx) return;\n            const img = new Image();\n            img.onload = ()=>{\n                const scaleFactor = 3;\n                canvas.width = img.width * scaleFactor;\n                canvas.height = img.height * scaleFactor;\n                const isDark = document.documentElement.classList.contains(\"dark\");\n                ctx.fillStyle = isDark ? \"#0f172a\" : \"#ffffff\";\n                ctx.fillRect(0, 0, canvas.width, canvas.height);\n                ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\n                canvas.toBlob((blob)=>{\n                    if (blob) {\n                        const url = URL.createObjectURL(blob);\n                        const link = document.createElement(\"a\");\n                        link.href = url;\n                        link.download = `mermaid-diagram-${Date.now()}.jpg`;\n                        document.body.appendChild(link);\n                        link.click();\n                        document.body.removeChild(link);\n                    }\n                }, \"image/jpeg\", 0.9);\n            };\n            img.src = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(svgData)}`;\n        } else {\n            alert(\"æ²¡æœ‰å¯ä¸‹è½½çš„å›¾è¡¨æ¸²æŸ“å†…å®¹ã€‚\");\n        }\n    };\n    const downloadPDF = ()=>{\n        const svgElement = document.querySelector(\"#mermaid-chart-container svg\");\n        if (svgElement) {\n            const svgData = new XMLSerializer().serializeToString(svgElement);\n            const canvas = document.createElement(\"canvas\");\n            const ctx = canvas.getContext(\"2d\");\n            if (!ctx) return;\n            const img = new Image();\n            img.onload = ()=>{\n                const scaleFactor = 3;\n                canvas.width = img.width * scaleFactor;\n                canvas.height = img.height * scaleFactor;\n                const isDark = document.documentElement.classList.contains(\"dark\");\n                ctx.fillStyle = isDark ? \"#0f172a\" : \"#ffffff\";\n                ctx.fillRect(0, 0, canvas.width, canvas.height);\n                ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\n                canvas.toBlob((blob)=>{\n                    if (blob) {\n                        const reader = new FileReader();\n                        reader.onload = ()=>{\n                            const imgData = reader.result;\n                            const { jsPDF } = __webpack_require__(/*! jspdf */ \"(ssr)/./node_modules/jspdf/dist/jspdf.node.min.js\");\n                            const pdf = new jsPDF({\n                                orientation: canvas.width > canvas.height ? \"landscape\" : \"portrait\",\n                                unit: \"mm\",\n                                format: \"a4\"\n                            });\n                            const pdfWidth = pdf.internal.pageSize.getWidth();\n                            const pdfHeight = pdf.internal.pageSize.getHeight();\n                            const imgRatio = canvas.width / canvas.height;\n                            const pdfRatio = pdfWidth / pdfHeight;\n                            let imgWidth, imgHeight;\n                            if (imgRatio > pdfRatio) {\n                                imgWidth = pdfWidth - 20;\n                                imgHeight = imgWidth / imgRatio;\n                            } else {\n                                imgHeight = pdfHeight - 20;\n                                imgWidth = imgHeight * imgRatio;\n                            }\n                            const x = (pdfWidth - imgWidth) / 2;\n                            const y = (pdfHeight - imgHeight) / 2;\n                            pdf.addImage(imgData, \"PNG\", x, y, imgWidth, imgHeight);\n                            pdf.save(`mermaid-diagram-${Date.now()}.pdf`);\n                        };\n                        reader.readAsDataURL(blob);\n                    }\n                }, \"image/png\");\n            };\n            img.src = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(svgData)}`;\n        } else {\n            alert(\"æ²¡æœ‰å¯ä¸‹è½½çš„å›¾è¡¨æ¸²æŸ“å†…å®¹ã€‚\");\n        }\n    };\n    const downloadCode = ()=>{\n        const blob = new Blob([\n            mermaidCode\n        ], {\n            type: \"text/plain;charset=utf-8\"\n        });\n        const url = URL.createObjectURL(blob);\n        const link = document.createElement(\"a\");\n        link.href = url;\n        link.download = `mermaid-diagram-${Date.now()}.mmd`;\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:bg-gradient-to-br from-dark-950 to-dark-900 text-slate-900 dark:text-slate-100 font-sans relative transition-colors duration-300\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                className: \"h-16 border-b border-slate-200/50 dark:border-slate-800/50 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md flex items-center justify-between px-6 shadow-lg shadow-slate-200/50 dark:shadow-slate-900/50 z-30 relative transition-all duration-300\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-primary-700 flex items-center justify-center text-white font-bold text-xl shadow-glow shadow-primary-500/30\",\n                                children: \"M\"\n                            }, void 0, false, {\n                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx\",\n                                lineNumber: 300,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                className: \"font-bold text-xl tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-primary-500 to-accent-500 dark:from-primary-400 dark:to-accent-400\",\n                                children: \"Mermaid AI Architect\"\n                            }, void 0, false, {\n                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx\",\n                                lineNumber: 301,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx\",\n                        lineNumber: 299,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setIsDarkMode(!isDarkMode),\n                                className: \"p-2.5 text-slate-500 hover:text-primary-500 dark:text-slate-400 dark:hover:text-primary-400 rounded-lg hover:bg-slate-100/80 dark:hover:bg-slate-800/80 backdrop-blur-sm transition-all duration-300\",\n                                title: isDarkMode ? \"åˆ‡æ¢åˆ°æ—¥é—´æ¨¡å¼\" : \"åˆ‡æ¢åˆ°å¤œé—´æ¨¡å¼\",\n                                children: isDarkMode ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDownIcon_MoonIcon_SunIcon_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                    className: \"w-5 h-5\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx\",\n                                    lineNumber: 310,\n                                    columnNumber: 29\n                                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDownIcon_MoonIcon_SunIcon_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                    className: \"w-5 h-5\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx\",\n                                    lineNumber: 310,\n                                    columnNumber: 63\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx\",\n                                lineNumber: 305,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setIsGalleryOpen(true),\n                                className: \"hidden md:flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 rounded-lg shadow-lg shadow-primary-500/30 hover:shadow-xl hover:shadow-primary-500/40 transition-all duration-300\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"\\uD83D\\uDCCA\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx\",\n                                        lineNumber: 317,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    \"å›¾è¡¨åº“\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx\",\n                                lineNumber: 313,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"h-6 w-px bg-slate-200/50 dark:bg-slate-700/50 mx-2 hidden md:block\"\n                            }, void 0, false, {\n                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx\",\n                                lineNumber: 321,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: copyToClipboard,\n                                className: \"p-2.5 text-slate-500 hover:text-primary-500 dark:text-slate-400 dark:hover:text-primary-400 rounded-lg hover:bg-slate-100/80 dark:hover:bg-slate-800/80 backdrop-blur-sm transition-all duration-300\",\n                                title: \"å¤åˆ¶ Mermaid ä»£ç \",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    children: \"\\uD83D\\uDCCB\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx\",\n                                    lineNumber: 324,\n                                    columnNumber: 15\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx\",\n                                lineNumber: 323,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"relative\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setIsDownloadMenuOpen(!isDownloadMenuOpen),\n                                        className: \"p-2.5 text-slate-500 hover:text-primary-500 dark:text-slate-400 dark:hover:text-primary-400 rounded-lg hover:bg-slate-100/80 dark:hover:bg-slate-800/80 backdrop-blur-sm transition-all duration-300 flex items-center gap-1\",\n                                        title: \"ä¸‹è½½å›¾è¡¨\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: \"\\uD83D\\uDCE5\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx\",\n                                                lineNumber: 332,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDownIcon_MoonIcon_SunIcon_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                                className: `w-4 h-4 transition-transform ${isDownloadMenuOpen ? \"rotate-180\" : \"\"}`\n                                            }, void 0, false, {\n                                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx\",\n                                                lineNumber: 333,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx\",\n                                        lineNumber: 327,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    isDownloadMenuOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute right-0 mt-2 w-48 bg-white dark:bg-slate-800 rounded-md shadow-lg ring-1 ring-black ring-opacity-5 z-50\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"py-1\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: ()=>{\n                                                        downloadSVG();\n                                                        setIsDownloadMenuOpen(false);\n                                                    },\n                                                    className: \"block px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700 w-full text-left\",\n                                                    children: \"ä¸‹è½½ SVG\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx\",\n                                                    lineNumber: 338,\n                                                    columnNumber: 21\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: ()=>{\n                                                        downloadPNG();\n                                                        setIsDownloadMenuOpen(false);\n                                                    },\n                                                    className: \"block px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700 w-full text-left\",\n                                                    children: \"ä¸‹è½½ PNG\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx\",\n                                                    lineNumber: 344,\n                                                    columnNumber: 21\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: ()=>{\n                                                        downloadJPG();\n                                                        setIsDownloadMenuOpen(false);\n                                                    },\n                                                    className: \"block px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700 w-full text-left\",\n                                                    children: \"ä¸‹è½½ JPG\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx\",\n                                                    lineNumber: 350,\n                                                    columnNumber: 21\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: ()=>{\n                                                        downloadPDF();\n                                                        setIsDownloadMenuOpen(false);\n                                                    },\n                                                    className: \"block px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700 w-full text-left\",\n                                                    children: \"ä¸‹è½½ PDF\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx\",\n                                                    lineNumber: 356,\n                                                    columnNumber: 21\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: ()=>{\n                                                        downloadCode();\n                                                        setIsDownloadMenuOpen(false);\n                                                    },\n                                                    className: \"block px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700 w-full text-left\",\n                                                    children: \"ä¸‹è½½ Mermaid ä»£ç \"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx\",\n                                                    lineNumber: 362,\n                                                    columnNumber: 21\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx\",\n                                            lineNumber: 337,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx\",\n                                        lineNumber: 336,\n                                        columnNumber: 17\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx\",\n                                lineNumber: 326,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx\",\n                        lineNumber: 304,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx\",\n                lineNumber: 298,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                className: \"flex-1 flex overflow-hidden z-0\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-full md:w-[480px] flex flex-col border-r border-slate-200/50 dark:border-slate-800/50 bg-white/90 dark:bg-slate-900/90 backdrop-blur-md z-10 shadow-xl shadow-slate-200/50 dark:shadow-slate-900/50 transition-all duration-300 overflow-hidden\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex border-b border-slate-200/50 dark:border-slate-800/50\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setActiveTab(\"chat\"),\n                                        className: `flex-1 py-4 text-sm font-medium flex items-center justify-center gap-2 border-b-2 transition-all ${activeTab === \"chat\" ? \"border-primary-500 text-primary-500 dark:text-primary-400 bg-slate-50/80 dark:bg-slate-800/80\" : \"border-transparent text-slate-500 hover:text-slate-700 dark:hover:text-slate-300\"}`,\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: \"\\uD83D\\uDCAC\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx\",\n                                                lineNumber: 386,\n                                                columnNumber: 15\n                                            }, undefined),\n                                            \"AI åŠ©æ‰‹\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx\",\n                                        lineNumber: 382,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setActiveTab(\"code\"),\n                                        className: `flex-1 py-4 text-sm font-medium flex items-center justify-center gap-2 border-b-2 transition-all ${activeTab === \"code\" ? \"border-primary-500 text-primary-500 dark:text-primary-400 bg-slate-50/80 dark:bg-slate-800/80\" : \"border-transparent text-slate-500 hover:text-slate-700 dark:hover:text-slate-300\"}`,\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: \"\\uD83D\\uDCDD\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx\",\n                                                lineNumber: 393,\n                                                columnNumber: 15\n                                            }, undefined),\n                                            \"ä»£ç ç¼–è¾‘\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx\",\n                                        lineNumber: 389,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx\",\n                                lineNumber: 381,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1 relative\",\n                                children: activeTab === \"chat\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ChatPanel__WEBPACK_IMPORTED_MODULE_3__.ChatPanel, {\n                                    history: chatHistory,\n                                    onSendMessage: handleSendMessage,\n                                    isLoading: isProcessing,\n                                    onOptimizeText: async (text)=>{\n                                        try {\n                                            const response = await _services_geminiService__WEBPACK_IMPORTED_MODULE_6__.GeminiService.optimizePrompt(text);\n                                            return response.content;\n                                        } catch (error) {\n                                            console.error(\"AI ä¼˜åŒ–é”™è¯¯:\", error);\n                                            return text;\n                                        }\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx\",\n                                    lineNumber: 401,\n                                    columnNumber: 15\n                                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_CodeEditor__WEBPACK_IMPORTED_MODULE_4__.CodeEditor, {\n                                    code: mermaidCode,\n                                    onChange: setMermaidCode\n                                }, void 0, false, {\n                                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx\",\n                                    lineNumber: 416,\n                                    columnNumber: 15\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx\",\n                                lineNumber: 399,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx\",\n                        lineNumber: 379,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1 bg-gradient-to-br from-slate-100 to-slate-200 dark:bg-gradient-to-br from-dark-900 to-dark-950 relative overflow-hidden flex flex-col transition-colors duration-300\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex-1 relative\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(99,102,241,0.05),transparent_70%)]\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx\",\n                                    lineNumber: 424,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_MermaidRenderer__WEBPACK_IMPORTED_MODULE_2__.MermaidRenderer, {\n                                    code: mermaidCode,\n                                    onFixError: handleFixError,\n                                    isFixing: isFixing,\n                                    onUpdateCode: setMermaidCode,\n                                    onRequestChange: (code)=>{\n                                        // åˆ‡æ¢åˆ°èŠå¤©æ ‡ç­¾é¡µï¼Œå¹¶æ·»åŠ ä¸€ä¸ªæ–°çš„æ¶ˆæ¯ï¼Œæç¤ºç”¨æˆ·å¯ä»¥é’ˆå¯¹å½“å‰æµç¨‹å›¾æå‡ºä¿®æ”¹éœ€æ±‚\n                                        setActiveTab(\"chat\");\n                                        setChatHistory((prev)=>[\n                                                ...prev,\n                                                {\n                                                    id: Date.now().toString(),\n                                                    role: \"model\",\n                                                    content: `ðŸ”„ å½“å‰æ­£åœ¨ç¼–è¾‘çš„æµç¨‹å›¾å·²åŠ è½½ã€‚è¯·å‘Šè¯‰æˆ‘æ‚¨å¸Œæœ›å¦‚ä½•ä¿®æ”¹è¿™ä¸ªæµç¨‹å›¾ï¼Œæˆ‘ä¼šæ ¹æ®æ‚¨çš„éœ€æ±‚è¿›è¡Œè°ƒæ•´ã€‚`\n                                                }\n                                            ]);\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx\",\n                                    lineNumber: 425,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx\",\n                            lineNumber: 423,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx\",\n                        lineNumber: 422,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx\",\n                lineNumber: 376,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_GalleryModal__WEBPACK_IMPORTED_MODULE_5__.GalleryModal, {\n                isOpen: isGalleryOpen,\n                onClose: ()=>setIsGalleryOpen(false),\n                onSelect: loadExample\n            }, void 0, false, {\n                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx\",\n                lineNumber: 446,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx\",\n        lineNumber: 296,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Page);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SSxhQUFhO3dDQUNiRixlQUFlbUMsQ0FBQUEsT0FBUTttREFBSUE7Z0RBQU07b0RBQy9CVixJQUFJQyxLQUFLQyxHQUFHLEdBQUdDLFFBQVE7b0RBQ3ZCQyxNQUFNO29EQUNOQyxTQUFTLENBQUMsK0NBQStDLENBQUM7Z0RBQzVEOzZDQUFFO29DQUNKOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzswQkFRUiw4REFBQ3pDLGtFQUFZQTtnQkFDWG1KLFFBQVFqSTtnQkFDUmtJLFNBQVMsSUFBTWpJLGlCQUFpQjtnQkFDaENrSSxVQUFVNUY7Ozs7Ozs7Ozs7OztBQUlsQjtBQUVBLGlFQUFlbkQsSUFBSUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL21lcm1haWQtYWktYXJjaGl0ZWN0Ly4vc3JjL2FwcC9wYWdlLnRzeD9mNjhhIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBNZXJtYWlkUmVuZGVyZXIgfSBmcm9tICcuLi9jb21wb25lbnRzL01lcm1haWRSZW5kZXJlcic7XG5pbXBvcnQgeyBDaGF0UGFuZWwgfSBmcm9tICcuLi9jb21wb25lbnRzL0NoYXRQYW5lbCc7XG5pbXBvcnQgeyBDb2RlRWRpdG9yIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Db2RlRWRpdG9yJztcbmltcG9ydCB7IEdhbGxlcnlNb2RhbCB9IGZyb20gJy4uL2NvbXBvbmVudHMvR2FsbGVyeU1vZGFsJztcbmltcG9ydCB7IEdlbWluaVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9nZW1pbmlTZXJ2aWNlJztcbmltcG9ydCB7IENoYXRNZXNzYWdlLCBFeGFtcGxlVGVtcGxhdGUsIERpYWdyYW1UeXBlLCBDaGF0QXR0YWNobWVudCB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IEdBTExFUllfRVhBTVBMRVMgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgXG4gIFN1bkljb24sXG4gIE1vb25JY29uLFxuICBDaGV2cm9uRG93bkljb25cbn0gZnJvbSAnQGhlcm9pY29ucy9yZWFjdC8yNC9vdXRsaW5lJztcblxuY29uc3QgUGFnZSA9ICgpID0+IHtcbiAgLy8gU3RhdGVcbiAgY29uc3QgW21lcm1haWRDb2RlLCBzZXRNZXJtYWlkQ29kZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KEdBTExFUllfRVhBTVBMRVNbMF0uY29kZSk7XG4gIGNvbnN0IFtjaGF0SGlzdG9yeSwgc2V0Q2hhdEhpc3RvcnldID0gdXNlU3RhdGU8Q2hhdE1lc3NhZ2VbXT4oW10pO1xuICBjb25zdCBbYWN0aXZlVGFiLCBzZXRBY3RpdmVUYWJdID0gdXNlU3RhdGU8J2NoYXQnIHwgJ2NvZGUnPignY2hhdCcpO1xuICBjb25zdCBbaXNQcm9jZXNzaW5nLCBzZXRJc1Byb2Nlc3NpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNGaXhpbmcsIHNldElzRml4aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lzR2FsbGVyeU9wZW4sIHNldElzR2FsbGVyeU9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNEYXJrTW9kZSwgc2V0SXNEYXJrTW9kZV0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2lzRG93bmxvYWRNZW51T3Blbiwgc2V0SXNEb3dubG9hZE1lbnVPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAvLyBUaGVtZSBUb2dnbGUgRWZmZWN0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgcm9vdCA9IHdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgaWYgKGlzRGFya01vZGUpIHtcbiAgICAgIHJvb3QuY2xhc3NMaXN0LmFkZCgnZGFyaycpO1xuICAgIH0gZWxzZSB7XG4gICAgICByb290LmNsYXNzTGlzdC5yZW1vdmUoJ2RhcmsnKTtcbiAgICB9XG4gIH0sIFtpc0RhcmtNb2RlXSk7XG5cbiAgLy8gSGFuZGxlcnNcbiAgY29uc3QgaGFuZGxlU2VuZE1lc3NhZ2UgPSBhc3luYyAodGV4dDogc3RyaW5nLCBhdHRhY2htZW50PzogQ2hhdEF0dGFjaG1lbnQsIHR5cGU6IERpYWdyYW1UeXBlID0gJ2F1dG8nKSA9PiB7XG4gICAgc2V0SXNQcm9jZXNzaW5nKHRydWUpO1xuICAgIFxuICAgIC8vIENvbnN0cnVjdCBuZXcgdXNlciBtZXNzYWdlXG4gICAgY29uc3QgbmV3TWVzc2FnZTogQ2hhdE1lc3NhZ2UgPSB7XG4gICAgICBpZDogRGF0ZS5ub3coKS50b1N0cmluZygpLFxuICAgICAgcm9sZTogJ3VzZXInLFxuICAgICAgY29udGVudDogdGV4dCxcbiAgICAgIGF0dGFjaG1lbnQ6IGF0dGFjaG1lbnQsXG4gICAgfTtcbiAgICBcbiAgICAvLyBPcHRpbWlzdGljIFVJIHVwZGF0ZTogYWRkIHVzZXIgbWVzc2FnZSBpbW1lZGlhdGVseVxuICAgIGNvbnN0IHVwZGF0ZWRIaXN0b3J5ID0gWy4uLmNoYXRIaXN0b3J5LCBuZXdNZXNzYWdlXTtcbiAgICBzZXRDaGF0SGlzdG9yeSh1cGRhdGVkSGlzdG9yeSk7XG5cbiAgICB0cnkge1xuICAgICAgLy8gQ2FsbCBzZXJ2aWNlIHdpdGggZnVsbCBoaXN0b3J5XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEdlbWluaVNlcnZpY2UuZ2VuZXJhdGVGcm9tSGlzdG9yeSh1cGRhdGVkSGlzdG9yeSwgbWVybWFpZENvZGUsIHR5cGUpO1xuXG4gICAgICBpZiAocmVzcG9uc2UudHlwZSA9PT0gJ2NvZGUnKSB7XG4gICAgICAgIC8vIEl0J3MgYSBkaWFncmFtIHVwZGF0ZVxuICAgICAgICBzZXRNZXJtYWlkQ29kZShyZXNwb25zZS5jb250ZW50KTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGFpUmVzcG9uc2U6IENoYXRNZXNzYWdlID0ge1xuICAgICAgICAgIGlkOiAoRGF0ZS5ub3coKSArIDEpLnRvU3RyaW5nKCksXG4gICAgICAgICAgcm9sZTogJ21vZGVsJyxcbiAgICAgICAgICBjb250ZW50OiBg4pyFIOW3suagueaNruaCqOeahOimgeaxgueUn+aIkC/mm7TmlrDkuoblm77ooajjgIJcXG7lpoLmnpznu4boioLkuI3lh4bnoa7vvIzmgqjlj6/ku6Xnu6fnu63lkYror4nmiJHjgIJgLFxuICAgICAgICAgIHR5cGU6ICdjb2RlJ1xuICAgICAgICB9O1xuICAgICAgICBzZXRDaGF0SGlzdG9yeShwcmV2ID0+IFsuLi5wcmV2LCBhaVJlc3BvbnNlXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBJdCdzIGEgY29udmVyc2F0aW9uYWwgbWVzc2FnZSAocXVlc3Rpb24gb3IgY2hhdClcbiAgICAgICAgY29uc3QgYWlSZXNwb25zZTogQ2hhdE1lc3NhZ2UgPSB7XG4gICAgICAgICAgaWQ6IChEYXRlLm5vdygpICsgMSkudG9TdHJpbmcoKSxcbiAgICAgICAgICByb2xlOiAnbW9kZWwnLFxuICAgICAgICAgIGNvbnRlbnQ6IHJlc3BvbnNlLmNvbnRlbnQsXG4gICAgICAgICAgdHlwZTogJ21lc3NhZ2UnXG4gICAgICAgIH07XG4gICAgICAgIHNldENoYXRIaXN0b3J5KHByZXYgPT4gWy4uLnByZXYsIGFpUmVzcG9uc2VdKTtcbiAgICAgIH1cblxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc3QgZXJyb3JNc2c6IENoYXRNZXNzYWdlID0ge1xuICAgICAgICBpZDogKERhdGUubm93KCkgKyAxKS50b1N0cmluZygpLFxuICAgICAgICByb2xlOiAnbW9kZWwnLFxuICAgICAgICBjb250ZW50OiBcIuaKseatie+8jOWkhOeQhuaCqOeahOivt+axguaXtumBh+WIsOmUmeivr++8jOivt+mHjeivleOAglwiLFxuICAgICAgICBpc0Vycm9yOiB0cnVlXG4gICAgICB9O1xuICAgICAgc2V0Q2hhdEhpc3RvcnkocHJldiA9PiBbLi4ucHJldiwgZXJyb3JNc2ddKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNQcm9jZXNzaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRml4RXJyb3IgPSBhc3luYyAoY29kZTogc3RyaW5nLCBlcnJvcjogc3RyaW5nKSA9PiB7XG4gICAgc2V0SXNGaXhpbmcodHJ1ZSk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IEdlbWluaVNlcnZpY2UuZml4RGlhZ3JhbShjb2RlLCBlcnJvcik7XG4gICAgICBzZXRNZXJtYWlkQ29kZShyZXN1bHQuY29kZSk7XG4gICAgICBcbiAgICAgIGNvbnN0IGZpeE1lc3NhZ2U6IENoYXRNZXNzYWdlID0ge1xuICAgICAgICBpZDogRGF0ZS5ub3coKS50b1N0cmluZygpLFxuICAgICAgICByb2xlOiAnbW9kZWwnLFxuICAgICAgICBjb250ZW50OiBg8J+UpyDlt7Lkv67lpI3or63ms5XplJnor6/jgIJcXG5cXG7ljp/lm6A6ICR7cmVzdWx0LmV4cGxhbmF0aW9ufWBcbiAgICAgIH07XG4gICAgICBzZXRDaGF0SGlzdG9yeShwcmV2ID0+IFsuLi5wcmV2LCBmaXhNZXNzYWdlXSk7XG4gICAgICBpZiAoYWN0aXZlVGFiICE9PSAnY2hhdCcpIHNldEFjdGl2ZVRhYignY2hhdCcpO1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBhbGVydChcIuaXoOazleiHquWKqOS/ruWkje+8jOivt+ajgOafpeS7o+eggeOAglwiKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNGaXhpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBsb2FkRXhhbXBsZSA9ICh0ZW1wbGF0ZTogRXhhbXBsZVRlbXBsYXRlKSA9PiB7XG4gICAgc2V0TWVybWFpZENvZGUodGVtcGxhdGUuY29kZSk7XG4gICAgLy8gUmVzZXQgaGlzdG9yeSB3aGVuIGxvYWRpbmcgYSB0ZW1wbGF0ZSB0byBhdm9pZCBjb250ZXh0IGNvbmZ1c2lvbj8gXG4gICAgLy8gVXN1YWxseSBiZXR0ZXIgdG8ganVzdCBhZGQgYSBzeXN0ZW0gbm90ZSwgYnV0IGhlcmUgc3RyaWN0bHkgYWRkaW5nIGEgbWVzc2FnZSBpcyBmaW5lLlxuICAgIHNldENoYXRIaXN0b3J5KHByZXYgPT4gWy4uLnByZXYsIHtcbiAgICAgIGlkOiBEYXRlLm5vdygpLnRvU3RyaW5nKCksXG4gICAgICByb2xlOiAnbW9kZWwnLFxuICAgICAgY29udGVudDogYOW3suWKoOi9veaooeadvzogJHt0ZW1wbGF0ZS5uYW1lfWBcbiAgICB9XSk7XG4gICAgc2V0SXNHYWxsZXJ5T3BlbihmYWxzZSk7XG4gIH07XG5cbiAgY29uc3QgY29weVRvQ2xpcGJvYXJkID0gKCkgPT4ge1xuICAgIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KG1lcm1haWRDb2RlKTtcbiAgICBhbGVydChcIuS7o+eggeW3suWkjeWItuWIsOWJqui0tOadv++8gVwiKTtcbiAgfTtcblxuICBjb25zdCBkb3dubG9hZFNWRyA9ICgpID0+IHtcbiAgICBjb25zdCBzdmdFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21lcm1haWQtY2hhcnQtY29udGFpbmVyIHN2ZycpO1xuICAgIGlmIChzdmdFbGVtZW50KSB7XG4gICAgICBjb25zdCBzdmdEYXRhID0gbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyhzdmdFbGVtZW50KTtcbiAgICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbc3ZnRGF0YV0sIHsgdHlwZTogJ2ltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCcgfSk7XG4gICAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgIGxpbmsuaHJlZiA9IHVybDtcbiAgICAgIGxpbmsuZG93bmxvYWQgPSBgbWVybWFpZC1kaWFncmFtLSR7RGF0ZS5ub3coKX0uc3ZnYDtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7XG4gICAgICBsaW5rLmNsaWNrKCk7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspO1xuICAgIH0gZWxzZSB7XG4gICAgICBhbGVydChcIuayoeacieWPr+S4i+i9veeahOWbvuihqOa4suafk+WGheWuueOAglwiKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZG93bmxvYWRQTkcgPSAoKSA9PiB7XG4gICAgY29uc3Qgc3ZnRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtZXJtYWlkLWNoYXJ0LWNvbnRhaW5lciBzdmcnKTtcbiAgICBpZiAoc3ZnRWxlbWVudCkge1xuICAgICAgY29uc3Qgc3ZnRGF0YSA9IG5ldyBYTUxTZXJpYWxpemVyKCkuc2VyaWFsaXplVG9TdHJpbmcoc3ZnRWxlbWVudCk7XG4gICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgaWYgKCFjdHgpIHJldHVybjtcblxuICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICBpbWcub25sb2FkID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBzY2FsZUZhY3RvciA9IDM7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IGltZy53aWR0aCAqIHNjYWxlRmFjdG9yO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaW1nLmhlaWdodCAqIHNjYWxlRmFjdG9yO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgaXNEYXJrID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnZGFyaycpO1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gaXNEYXJrID8gJyMwZjE3MmEnIDogJyNmZmZmZmYnO1xuICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgXG4gICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICBjYW52YXMudG9CbG9iKChibG9iKSA9PiB7XG4gICAgICAgICAgaWYgKGJsb2IpIHtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICAgICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICAgICAgbGluay5ocmVmID0gdXJsO1xuICAgICAgICAgICAgbGluay5kb3dubG9hZCA9IGBtZXJtYWlkLWRpYWdyYW0tJHtEYXRlLm5vdygpfS5wbmdgO1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTtcbiAgICAgICAgICAgIGxpbmsuY2xpY2soKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobGluayk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCAnaW1hZ2UvcG5nJyk7XG4gICAgICB9O1xuICAgICAgaW1nLnNyYyA9IGBkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwke2VuY29kZVVSSUNvbXBvbmVudChzdmdEYXRhKX1gO1xuICAgIH0gZWxzZSB7XG4gICAgICBhbGVydChcIuayoeacieWPr+S4i+i9veeahOWbvuihqOa4suafk+WGheWuueOAglwiKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZG93bmxvYWRKUEcgPSAoKSA9PiB7XG4gICAgY29uc3Qgc3ZnRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtZXJtYWlkLWNoYXJ0LWNvbnRhaW5lciBzdmcnKTtcbiAgICBpZiAoc3ZnRWxlbWVudCkge1xuICAgICAgY29uc3Qgc3ZnRGF0YSA9IG5ldyBYTUxTZXJpYWxpemVyKCkuc2VyaWFsaXplVG9TdHJpbmcoc3ZnRWxlbWVudCk7XG4gICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgaWYgKCFjdHgpIHJldHVybjtcblxuICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICBpbWcub25sb2FkID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBzY2FsZUZhY3RvciA9IDM7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IGltZy53aWR0aCAqIHNjYWxlRmFjdG9yO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaW1nLmhlaWdodCAqIHNjYWxlRmFjdG9yO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgaXNEYXJrID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnZGFyaycpO1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gaXNEYXJrID8gJyMwZjE3MmEnIDogJyNmZmZmZmYnO1xuICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgXG4gICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICBjYW52YXMudG9CbG9iKChibG9iKSA9PiB7XG4gICAgICAgICAgaWYgKGJsb2IpIHtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICAgICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICAgICAgbGluay5ocmVmID0gdXJsO1xuICAgICAgICAgICAgbGluay5kb3dubG9hZCA9IGBtZXJtYWlkLWRpYWdyYW0tJHtEYXRlLm5vdygpfS5qcGdgO1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTtcbiAgICAgICAgICAgIGxpbmsuY2xpY2soKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobGluayk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCAnaW1hZ2UvanBlZycsIDAuOSk7XG4gICAgICB9O1xuICAgICAgaW1nLnNyYyA9IGBkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwke2VuY29kZVVSSUNvbXBvbmVudChzdmdEYXRhKX1gO1xuICAgIH0gZWxzZSB7XG4gICAgICBhbGVydChcIuayoeacieWPr+S4i+i9veeahOWbvuihqOa4suafk+WGheWuueOAglwiKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZG93bmxvYWRQREYgPSAoKSA9PiB7XG4gICAgY29uc3Qgc3ZnRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtZXJtYWlkLWNoYXJ0LWNvbnRhaW5lciBzdmcnKTtcbiAgICBpZiAoc3ZnRWxlbWVudCkge1xuICAgICAgY29uc3Qgc3ZnRGF0YSA9IG5ldyBYTUxTZXJpYWxpemVyKCkuc2VyaWFsaXplVG9TdHJpbmcoc3ZnRWxlbWVudCk7XG4gICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgaWYgKCFjdHgpIHJldHVybjtcblxuICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICBpbWcub25sb2FkID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBzY2FsZUZhY3RvciA9IDM7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IGltZy53aWR0aCAqIHNjYWxlRmFjdG9yO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaW1nLmhlaWdodCAqIHNjYWxlRmFjdG9yO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgaXNEYXJrID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnZGFyaycpO1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gaXNEYXJrID8gJyMwZjE3MmEnIDogJyNmZmZmZmYnO1xuICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgXG4gICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICBjYW52YXMudG9CbG9iKChibG9iKSA9PiB7XG4gICAgICAgICAgaWYgKGJsb2IpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgICAgICByZWFkZXIub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBpbWdEYXRhID0gcmVhZGVyLnJlc3VsdCBhcyBzdHJpbmc7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBjb25zdCB7IGpzUERGIH0gPSByZXF1aXJlKCdqc3BkZicpO1xuICAgICAgICAgICAgICBjb25zdCBwZGYgPSBuZXcganNQREYoe1xuICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uOiBjYW52YXMud2lkdGggPiBjYW52YXMuaGVpZ2h0ID8gJ2xhbmRzY2FwZScgOiAncG9ydHJhaXQnLFxuICAgICAgICAgICAgICAgIHVuaXQ6ICdtbScsXG4gICAgICAgICAgICAgICAgZm9ybWF0OiAnYTQnXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgY29uc3QgcGRmV2lkdGggPSBwZGYuaW50ZXJuYWwucGFnZVNpemUuZ2V0V2lkdGgoKTtcbiAgICAgICAgICAgICAgY29uc3QgcGRmSGVpZ2h0ID0gcGRmLmludGVybmFsLnBhZ2VTaXplLmdldEhlaWdodCgpO1xuICAgICAgICAgICAgICBjb25zdCBpbWdSYXRpbyA9IGNhbnZhcy53aWR0aCAvIGNhbnZhcy5oZWlnaHQ7XG4gICAgICAgICAgICAgIGNvbnN0IHBkZlJhdGlvID0gcGRmV2lkdGggLyBwZGZIZWlnaHQ7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBsZXQgaW1nV2lkdGgsIGltZ0hlaWdodDtcbiAgICAgICAgICAgICAgaWYgKGltZ1JhdGlvID4gcGRmUmF0aW8pIHtcbiAgICAgICAgICAgICAgICBpbWdXaWR0aCA9IHBkZldpZHRoIC0gMjA7XG4gICAgICAgICAgICAgICAgaW1nSGVpZ2h0ID0gaW1nV2lkdGggLyBpbWdSYXRpbztcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbWdIZWlnaHQgPSBwZGZIZWlnaHQgLSAyMDtcbiAgICAgICAgICAgICAgICBpbWdXaWR0aCA9IGltZ0hlaWdodCAqIGltZ1JhdGlvO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBjb25zdCB4ID0gKHBkZldpZHRoIC0gaW1nV2lkdGgpIC8gMjtcbiAgICAgICAgICAgICAgY29uc3QgeSA9IChwZGZIZWlnaHQgLSBpbWdIZWlnaHQpIC8gMjtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHBkZi5hZGRJbWFnZShpbWdEYXRhLCAnUE5HJywgeCwgeSwgaW1nV2lkdGgsIGltZ0hlaWdodCk7XG4gICAgICAgICAgICAgIHBkZi5zYXZlKGBtZXJtYWlkLWRpYWdyYW0tJHtEYXRlLm5vdygpfS5wZGZgKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChibG9iKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sICdpbWFnZS9wbmcnKTtcbiAgICAgIH07XG4gICAgICBpbWcuc3JjID0gYGRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCR7ZW5jb2RlVVJJQ29tcG9uZW50KHN2Z0RhdGEpfWA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFsZXJ0KFwi5rKh5pyJ5Y+v5LiL6L2955qE5Zu+6KGo5riy5p+T5YaF5a6544CCXCIpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBkb3dubG9hZENvZGUgPSAoKSA9PiB7XG4gICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFttZXJtYWlkQ29kZV0sIHsgdHlwZTogJ3RleHQvcGxhaW47Y2hhcnNldD11dGYtOCcgfSk7XG4gICAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIGxpbmsuaHJlZiA9IHVybDtcbiAgICBsaW5rLmRvd25sb2FkID0gYG1lcm1haWQtZGlhZ3JhbS0ke0RhdGUubm93KCl9Lm1tZGA7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTtcbiAgICBsaW5rLmNsaWNrKCk7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChsaW5rKTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBoLXNjcmVlbiBiZy1ncmFkaWVudC10by1iciBmcm9tLXNsYXRlLTUwIHRvLXNsYXRlLTEwMCBkYXJrOmJnLWdyYWRpZW50LXRvLWJyIGZyb20tZGFyay05NTAgdG8tZGFyay05MDAgdGV4dC1zbGF0ZS05MDAgZGFyazp0ZXh0LXNsYXRlLTEwMCBmb250LXNhbnMgcmVsYXRpdmUgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMzAwXCI+XG4gICAgICB7LyogTmF2YmFyICovfVxuICAgICAgPGhlYWRlciBjbGFzc05hbWU9XCJoLTE2IGJvcmRlci1iIGJvcmRlci1zbGF0ZS0yMDAvNTAgZGFyazpib3JkZXItc2xhdGUtODAwLzUwIGJnLXdoaXRlLzgwIGRhcms6Ymctc2xhdGUtOTAwLzgwIGJhY2tkcm9wLWJsdXItbWQgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHB4LTYgc2hhZG93LWxnIHNoYWRvdy1zbGF0ZS0yMDAvNTAgZGFyazpzaGFkb3ctc2xhdGUtOTAwLzUwIHotMzAgcmVsYXRpdmUgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAgaC0xMCByb3VuZGVkLXhsIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tcHJpbWFyeS01MDAgdG8tcHJpbWFyeS03MDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC13aGl0ZSBmb250LWJvbGQgdGV4dC14bCBzaGFkb3ctZ2xvdyBzaGFkb3ctcHJpbWFyeS01MDAvMzBcIj5NPC9kaXY+XG4gICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsIHRyYWNraW5nLXRpZ2h0IHRleHQtdHJhbnNwYXJlbnQgYmctY2xpcC10ZXh0IGJnLWdyYWRpZW50LXRvLXIgZnJvbS1wcmltYXJ5LTUwMCB0by1hY2NlbnQtNTAwIGRhcms6ZnJvbS1wcmltYXJ5LTQwMCBkYXJrOnRvLWFjY2VudC00MDBcIj5NZXJtYWlkIEFJIEFyY2hpdGVjdDwvaDE+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0SXNEYXJrTW9kZSghaXNEYXJrTW9kZSl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtMi41IHRleHQtc2xhdGUtNTAwIGhvdmVyOnRleHQtcHJpbWFyeS01MDAgZGFyazp0ZXh0LXNsYXRlLTQwMCBkYXJrOmhvdmVyOnRleHQtcHJpbWFyeS00MDAgcm91bmRlZC1sZyBob3ZlcjpiZy1zbGF0ZS0xMDAvODAgZGFyazpob3ZlcjpiZy1zbGF0ZS04MDAvODAgYmFja2Ryb3AtYmx1ci1zbSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDBcIlxuICAgICAgICAgICAgICB0aXRsZT17aXNEYXJrTW9kZSA/IFwi5YiH5o2i5Yiw5pel6Ze05qih5byPXCIgOiBcIuWIh+aNouWIsOWknOmXtOaooeW8j1wifVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7aXNEYXJrTW9kZSA/IDxTdW5JY29uIGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPiA6IDxNb29uSWNvbiBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz59XG4gICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0SXNHYWxsZXJ5T3Blbih0cnVlKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaGlkZGVuIG1kOmZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHB4LTQgcHktMiB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtd2hpdGUgYmctZ3JhZGllbnQtdG8tciBmcm9tLXByaW1hcnktNTAwIHRvLXByaW1hcnktNjAwIGhvdmVyOmZyb20tcHJpbWFyeS02MDAgaG92ZXI6dG8tcHJpbWFyeS03MDAgcm91bmRlZC1sZyBzaGFkb3ctbGcgc2hhZG93LXByaW1hcnktNTAwLzMwIGhvdmVyOnNoYWRvdy14bCBob3ZlcjpzaGFkb3ctcHJpbWFyeS01MDAvNDAgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4+8J+Tijwvc3Bhbj5cbiAgICAgICAgICAgICAg5Zu+6KGo5bqTXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLTYgdy1weCBiZy1zbGF0ZS0yMDAvNTAgZGFyazpiZy1zbGF0ZS03MDAvNTAgbXgtMiBoaWRkZW4gbWQ6YmxvY2tcIj48L2Rpdj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtjb3B5VG9DbGlwYm9hcmR9IGNsYXNzTmFtZT1cInAtMi41IHRleHQtc2xhdGUtNTAwIGhvdmVyOnRleHQtcHJpbWFyeS01MDAgZGFyazp0ZXh0LXNsYXRlLTQwMCBkYXJrOmhvdmVyOnRleHQtcHJpbWFyeS00MDAgcm91bmRlZC1sZyBob3ZlcjpiZy1zbGF0ZS0xMDAvODAgZGFyazpob3ZlcjpiZy1zbGF0ZS04MDAvODAgYmFja2Ryb3AtYmx1ci1zbSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDBcIiB0aXRsZT1cIuWkjeWItiBNZXJtYWlkIOS7o+eggVwiPlxuICAgICAgICAgICAgICA8c3Bhbj7wn5OLPC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0SXNEb3dubG9hZE1lbnVPcGVuKCFpc0Rvd25sb2FkTWVudU9wZW4pfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtMi41IHRleHQtc2xhdGUtNTAwIGhvdmVyOnRleHQtcHJpbWFyeS01MDAgZGFyazp0ZXh0LXNsYXRlLTQwMCBkYXJrOmhvdmVyOnRleHQtcHJpbWFyeS00MDAgcm91bmRlZC1sZyBob3ZlcjpiZy1zbGF0ZS0xMDAvODAgZGFyazpob3ZlcjpiZy1zbGF0ZS04MDAvODAgYmFja2Ryb3AtYmx1ci1zbSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIlxuICAgICAgICAgICAgICAgIHRpdGxlPVwi5LiL6L295Zu+6KGoXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxzcGFuPvCfk6U8L3NwYW4+XG4gICAgICAgICAgICAgICAgPENoZXZyb25Eb3duSWNvbiBjbGFzc05hbWU9e2B3LTQgaC00IHRyYW5zaXRpb24tdHJhbnNmb3JtICR7aXNEb3dubG9hZE1lbnVPcGVuID8gJ3JvdGF0ZS0xODAnIDogJyd9YH0gLz5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIHtpc0Rvd25sb2FkTWVudU9wZW4gJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgcmlnaHQtMCBtdC0yIHctNDggYmctd2hpdGUgZGFyazpiZy1zbGF0ZS04MDAgcm91bmRlZC1tZCBzaGFkb3ctbGcgcmluZy0xIHJpbmctYmxhY2sgcmluZy1vcGFjaXR5LTUgei01MFwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweS0xXCI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4geyBkb3dubG9hZFNWRygpOyBzZXRJc0Rvd25sb2FkTWVudU9wZW4oZmFsc2UpOyB9fVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJsb2NrIHB4LTQgcHktMiB0ZXh0LXNtIHRleHQtc2xhdGUtNzAwIGRhcms6dGV4dC1zbGF0ZS0yMDAgaG92ZXI6Ymctc2xhdGUtMTAwIGRhcms6aG92ZXI6Ymctc2xhdGUtNzAwIHctZnVsbCB0ZXh0LWxlZnRcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAg5LiL6L29IFNWR1xuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7IGRvd25sb2FkUE5HKCk7IHNldElzRG93bmxvYWRNZW51T3BlbihmYWxzZSk7IH19XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmxvY2sgcHgtNCBweS0yIHRleHQtc20gdGV4dC1zbGF0ZS03MDAgZGFyazp0ZXh0LXNsYXRlLTIwMCBob3ZlcjpiZy1zbGF0ZS0xMDAgZGFyazpob3ZlcjpiZy1zbGF0ZS03MDAgdy1mdWxsIHRleHQtbGVmdFwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICDkuIvovb0gUE5HXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHsgZG93bmxvYWRKUEcoKTsgc2V0SXNEb3dubG9hZE1lbnVPcGVuKGZhbHNlKTsgfX1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJibG9jayBweC00IHB5LTIgdGV4dC1zbSB0ZXh0LXNsYXRlLTcwMCBkYXJrOnRleHQtc2xhdGUtMjAwIGhvdmVyOmJnLXNsYXRlLTEwMCBkYXJrOmhvdmVyOmJnLXNsYXRlLTcwMCB3LWZ1bGwgdGV4dC1sZWZ0XCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIOS4i+i9vSBKUEdcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4geyBkb3dubG9hZFBERigpOyBzZXRJc0Rvd25sb2FkTWVudU9wZW4oZmFsc2UpOyB9fVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJsb2NrIHB4LTQgcHktMiB0ZXh0LXNtIHRleHQtc2xhdGUtNzAwIGRhcms6dGV4dC1zbGF0ZS0yMDAgaG92ZXI6Ymctc2xhdGUtMTAwIGRhcms6aG92ZXI6Ymctc2xhdGUtNzAwIHctZnVsbCB0ZXh0LWxlZnRcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAg5LiL6L29IFBERlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7IGRvd25sb2FkQ29kZSgpOyBzZXRJc0Rvd25sb2FkTWVudU9wZW4oZmFsc2UpOyB9fVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJsb2NrIHB4LTQgcHktMiB0ZXh0LXNtIHRleHQtc2xhdGUtNzAwIGRhcms6dGV4dC1zbGF0ZS0yMDAgaG92ZXI6Ymctc2xhdGUtMTAwIGRhcms6aG92ZXI6Ymctc2xhdGUtNzAwIHctZnVsbCB0ZXh0LWxlZnRcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAg5LiL6L29IE1lcm1haWQg5Luj56CBXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2hlYWRlcj5cblxuICAgICAgey8qIE1haW4gQ29udGVudCAqL31cbiAgICAgIDxtYWluIGNsYXNzTmFtZT1cImZsZXgtMSBmbGV4IG92ZXJmbG93LWhpZGRlbiB6LTBcIj5cbiAgICAgICAgXG4gICAgICAgIHsvKiBMZWZ0IFBhbmVsOiBDb250cm9scyAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgbWQ6dy1bNDgwcHhdIGZsZXggZmxleC1jb2wgYm9yZGVyLXIgYm9yZGVyLXNsYXRlLTIwMC81MCBkYXJrOmJvcmRlci1zbGF0ZS04MDAvNTAgYmctd2hpdGUvOTAgZGFyazpiZy1zbGF0ZS05MDAvOTAgYmFja2Ryb3AtYmx1ci1tZCB6LTEwIHNoYWRvdy14bCBzaGFkb3ctc2xhdGUtMjAwLzUwIGRhcms6c2hhZG93LXNsYXRlLTkwMC81MCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgICAgey8qIFRhYnMgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGJvcmRlci1iIGJvcmRlci1zbGF0ZS0yMDAvNTAgZGFyazpib3JkZXItc2xhdGUtODAwLzUwXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEFjdGl2ZVRhYignY2hhdCcpfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2BmbGV4LTEgcHktNCB0ZXh0LXNtIGZvbnQtbWVkaXVtIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0yIGJvcmRlci1iLTIgdHJhbnNpdGlvbi1hbGwgJHthY3RpdmVUYWIgPT09ICdjaGF0JyA/ICdib3JkZXItcHJpbWFyeS01MDAgdGV4dC1wcmltYXJ5LTUwMCBkYXJrOnRleHQtcHJpbWFyeS00MDAgYmctc2xhdGUtNTAvODAgZGFyazpiZy1zbGF0ZS04MDAvODAnIDogJ2JvcmRlci10cmFuc3BhcmVudCB0ZXh0LXNsYXRlLTUwMCBob3Zlcjp0ZXh0LXNsYXRlLTcwMCBkYXJrOmhvdmVyOnRleHQtc2xhdGUtMzAwJ31gfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3Bhbj7wn5KsPC9zcGFuPlxuICAgICAgICAgICAgICBBSSDliqnmiYtcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRBY3RpdmVUYWIoJ2NvZGUnKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgZmxleC0xIHB5LTQgdGV4dC1zbSBmb250LW1lZGl1bSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMiBib3JkZXItYi0yIHRyYW5zaXRpb24tYWxsICR7YWN0aXZlVGFiID09PSAnY29kZScgPyAnYm9yZGVyLXByaW1hcnktNTAwIHRleHQtcHJpbWFyeS01MDAgZGFyazp0ZXh0LXByaW1hcnktNDAwIGJnLXNsYXRlLTUwLzgwIGRhcms6Ymctc2xhdGUtODAwLzgwJyA6ICdib3JkZXItdHJhbnNwYXJlbnQgdGV4dC1zbGF0ZS01MDAgaG92ZXI6dGV4dC1zbGF0ZS03MDAgZGFyazpob3Zlcjp0ZXh0LXNsYXRlLTMwMCd9YH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4+8J+TnTwvc3Bhbj5cbiAgICAgICAgICAgICAg5Luj56CB57yW6L6RXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHsvKiBUYWIgQ29udGVudCAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSByZWxhdGl2ZVwiPlxuICAgICAgICAgICAge2FjdGl2ZVRhYiA9PT0gJ2NoYXQnID8gKFxuICAgICAgICAgICAgICA8Q2hhdFBhbmVsIFxuICAgICAgICAgICAgICAgIGhpc3Rvcnk9e2NoYXRIaXN0b3J5fSBcbiAgICAgICAgICAgICAgICBvblNlbmRNZXNzYWdlPXtoYW5kbGVTZW5kTWVzc2FnZX0gXG4gICAgICAgICAgICAgICAgaXNMb2FkaW5nPXtpc1Byb2Nlc3Npbmd9IFxuICAgICAgICAgICAgICAgIG9uT3B0aW1pemVUZXh0PXthc3luYyAodGV4dCkgPT4ge1xuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBHZW1pbmlTZXJ2aWNlLm9wdGltaXplUHJvbXB0KHRleHQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuY29udGVudDtcbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBSSDkvJjljJbplJnor686XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDxDb2RlRWRpdG9yIGNvZGU9e21lcm1haWRDb2RlfSBvbkNoYW5nZT17c2V0TWVybWFpZENvZGV9IC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7LyogUmlnaHQgUGFuZWw6IFByZXZpZXcgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tc2xhdGUtMTAwIHRvLXNsYXRlLTIwMCBkYXJrOmJnLWdyYWRpZW50LXRvLWJyIGZyb20tZGFyay05MDAgdG8tZGFyay05NTAgcmVsYXRpdmUgb3ZlcmZsb3ctaGlkZGVuIGZsZXggZmxleC1jb2wgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMzAwXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgcmVsYXRpdmVcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBiZy1bcmFkaWFsLWdyYWRpZW50KGNpcmNsZV9hdF81MCVfNTAlLHJnYmEoOTksMTAyLDI0MSwwLjA1KSx0cmFuc3BhcmVudF83MCUpXVwiPjwvZGl2PlxuICAgICAgICAgICAgPE1lcm1haWRSZW5kZXJlciBcbiAgICAgICAgICAgICAgY29kZT17bWVybWFpZENvZGV9IFxuICAgICAgICAgICAgICBvbkZpeEVycm9yPXtoYW5kbGVGaXhFcnJvcn1cbiAgICAgICAgICAgICAgaXNGaXhpbmc9e2lzRml4aW5nfVxuICAgICAgICAgICAgICBvblVwZGF0ZUNvZGU9e3NldE1lcm1haWRDb2RlfSAvLyBQYXNzIHRoaXMgZm9yIGNvbG9yIHVwZGF0ZXNcbiAgICAgICAgICAgICAgb25SZXF1ZXN0Q2hhbmdlPXsoY29kZSkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIOWIh+aNouWIsOiBiuWkqeagh+etvumhte+8jOW5tua3u+WKoOS4gOS4quaWsOeahOa2iOaBr++8jOaPkOekuueUqOaIt+WPr+S7pemSiOWvueW9k+WJjea1geeoi+WbvuaPkOWHuuS/ruaUuemcgOaxglxuICAgICAgICAgICAgICAgIHNldEFjdGl2ZVRhYignY2hhdCcpO1xuICAgICAgICAgICAgICAgIHNldENoYXRIaXN0b3J5KHByZXYgPT4gWy4uLnByZXYsIHtcbiAgICAgICAgICAgICAgICAgIGlkOiBEYXRlLm5vdygpLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICByb2xlOiAnbW9kZWwnLFxuICAgICAgICAgICAgICAgICAgY29udGVudDogYPCflIQg5b2T5YmN5q2j5Zyo57yW6L6R55qE5rWB56iL5Zu+5bey5Yqg6L2944CC6K+35ZGK6K+J5oiR5oKo5biM5pyb5aaC5L2V5L+u5pS56L+Z5Liq5rWB56iL5Zu+77yM5oiR5Lya5qC55o2u5oKo55qE6ZyA5rGC6L+b6KGM6LCD5pW044CCYFxuICAgICAgICAgICAgICAgIH1dKTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICA8L21haW4+XG5cbiAgICAgIHsvKiBHYWxsZXJ5IE1vZGFsIC0gUmVuZGVyZWQgbGFzdCB0byBzdGF5IG9uIHRvcCAqL31cbiAgICAgIDxHYWxsZXJ5TW9kYWwgXG4gICAgICAgIGlzT3Blbj17aXNHYWxsZXJ5T3Blbn0gXG4gICAgICAgIG9uQ2xvc2U9eygpID0+IHNldElzR2FsbGVyeU9wZW4oZmFsc2UpfSBcbiAgICAgICAgb25TZWxlY3Q9e2xvYWRFeGFtcGxlfSBcbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBQYWdlO1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJNZXJtYWlkUmVuZGVyZXIiLCJDaGF0UGFuZWwiLCJDb2RlRWRpdG9yIiwiR2FsbGVyeU1vZGFsIiwiR2VtaW5pU2VydmljZSIsIkdBTExFUllfRVhBTVBMRVMiLCJTdW5JY29uIiwiTW9vbkljb24iLCJDaGV2cm9uRG93bkljb24iLCJQYWdlIiwibWVybWFpZENvZGUiLCJzZXRNZXJtYWlkQ29kZSIsImNvZGUiLCJjaGF0SGlzdG9yeSIsInNldENoYXRIaXN0b3J5IiwiYWN0aXZlVGFiIiwic2V0QWN0aXZlVGFiIiwiaXNQcm9jZXNzaW5nIiwic2V0SXNQcm9jZXNzaW5nIiwiaXNGaXhpbmciLCJzZXRJc0ZpeGluZyIsImlzR2FsbGVyeU9wZW4iLCJzZXRJc0dhbGxlcnlPcGVuIiwiaXNEYXJrTW9kZSIsInNldElzRGFya01vZGUiLCJpc0Rvd25sb2FkTWVudU9wZW4iLCJzZXRJc0Rvd25sb2FkTWVudU9wZW4iLCJyb290Iiwid2luZG93IiwiZG9jdW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJoYW5kbGVTZW5kTWVzc2FnZSIsInRleHQiLCJhdHRhY2htZW50IiwidHlwZSIsIm5ld01lc3NhZ2UiLCJpZCIsIkRhdGUiLCJub3ciLCJ0b1N0cmluZyIsInJvbGUiLCJjb250ZW50IiwidXBkYXRlZEhpc3RvcnkiLCJyZXNwb25zZSIsImdlbmVyYXRlRnJvbUhpc3RvcnkiLCJhaVJlc3BvbnNlIiwicHJldiIsImVyciIsImVycm9yTXNnIiwiaXNFcnJvciIsImhhbmRsZUZpeEVycm9yIiwiZXJyb3IiLCJyZXN1bHQiLCJmaXhEaWFncmFtIiwiZml4TWVzc2FnZSIsImV4cGxhbmF0aW9uIiwiYWxlcnQiLCJsb2FkRXhhbXBsZSIsInRlbXBsYXRlIiwibmFtZSIsImNvcHlUb0NsaXBib2FyZCIsIm5hdmlnYXRvciIsImNsaXBib2FyZCIsIndyaXRlVGV4dCIsImRvd25sb2FkU1ZHIiwic3ZnRWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJzdmdEYXRhIiwiWE1MU2VyaWFsaXplciIsInNlcmlhbGl6ZVRvU3RyaW5nIiwiYmxvYiIsIkJsb2IiLCJ1cmwiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJsaW5rIiwiY3JlYXRlRWxlbWVudCIsImhyZWYiLCJkb3dubG9hZCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImNsaWNrIiwicmVtb3ZlQ2hpbGQiLCJkb3dubG9hZFBORyIsImNhbnZhcyIsImN0eCIsImdldENvbnRleHQiLCJpbWciLCJJbWFnZSIsIm9ubG9hZCIsInNjYWxlRmFjdG9yIiwid2lkdGgiLCJoZWlnaHQiLCJpc0RhcmsiLCJjb250YWlucyIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwiZHJhd0ltYWdlIiwidG9CbG9iIiwic3JjIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZG93bmxvYWRKUEciLCJkb3dubG9hZFBERiIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJpbWdEYXRhIiwianNQREYiLCJyZXF1aXJlIiwicGRmIiwib3JpZW50YXRpb24iLCJ1bml0IiwiZm9ybWF0IiwicGRmV2lkdGgiLCJpbnRlcm5hbCIsInBhZ2VTaXplIiwiZ2V0V2lkdGgiLCJwZGZIZWlnaHQiLCJnZXRIZWlnaHQiLCJpbWdSYXRpbyIsInBkZlJhdGlvIiwiaW1nV2lkdGgiLCJpbWdIZWlnaHQiLCJ4IiwieSIsImFkZEltYWdlIiwic2F2ZSIsInJlYWRBc0RhdGFVUkwiLCJkb3dubG9hZENvZGUiLCJkaXYiLCJjbGFzc05hbWUiLCJoZWFkZXIiLCJoMSIsImJ1dHRvbiIsIm9uQ2xpY2siLCJ0aXRsZSIsInNwYW4iLCJtYWluIiwiaGlzdG9yeSIsIm9uU2VuZE1lc3NhZ2UiLCJpc0xvYWRpbmciLCJvbk9wdGltaXplVGV4dCIsIm9wdGltaXplUHJvbXB0IiwiY29uc29sZSIsIm9uQ2hhbmdlIiwib25GaXhFcnJvciIsIm9uVXBkYXRlQ29kZSIsIm9uUmVxdWVzdENoYW5nZSIsImlzT3BlbiIsIm9uQ2xvc2UiLCJvblNlbGVjdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/app/page.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/ChatPanel.tsx":
/*!**************************************!*\
  !*** ./src/components/ChatPanel.tsx ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatPanel: () => (/* binding */ ChatPanel)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ \"(ssr)/./src/constants.ts\");\n/* harmony import */ var _barrel_optimize_names_ChevronDownIcon_ClipboardIcon_XMarkIcon_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDownIcon,ClipboardIcon,XMarkIcon!=!@heroicons/react/24/outline */ \"(ssr)/./node_modules/@heroicons/react/24/outline/esm/XMarkIcon.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronDownIcon_ClipboardIcon_XMarkIcon_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDownIcon,ClipboardIcon,XMarkIcon!=!@heroicons/react/24/outline */ \"(ssr)/./node_modules/@heroicons/react/24/outline/esm/ClipboardIcon.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronDownIcon_ClipboardIcon_XMarkIcon_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDownIcon,ClipboardIcon,XMarkIcon!=!@heroicons/react/24/outline */ \"(ssr)/./node_modules/@heroicons/react/24/outline/esm/ChevronDownIcon.js\");\n\n\n\n\nconst ChatPanel = ({ history, onSendMessage, isLoading, onOptimizeText })=>{\n    const [inputText, setInputText] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [selectedFile, setSelectedFile] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [selectedType, setSelectedType] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"auto\");\n    const [isOptimizing, setIsOptimizing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const fileInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const scrollToBottom = ()=>{\n        messagesEndRef.current?.scrollIntoView({\n            behavior: \"smooth\"\n        });\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        scrollToBottom();\n    }, [\n        history\n    ]);\n    const handleFileSelect = (e)=>{\n        if (e.target.files && e.target.files[0]) {\n            const file = e.target.files[0];\n            const reader = new FileReader();\n            reader.onload = (ev)=>{\n                if (ev.target?.result) {\n                    setSelectedFile({\n                        content: ev.target.result,\n                        mimeType: file.type,\n                        fileName: file.name\n                    });\n                }\n            };\n            reader.readAsDataURL(file);\n        }\n    };\n    const handleSubmit = async (e)=>{\n        e?.preventDefault();\n        if (!inputText.trim() && !selectedFile || isLoading) return;\n        const text = inputText;\n        const attachment = selectedFile;\n        const type = selectedType;\n        setInputText(\"\");\n        setSelectedFile(null);\n        if (fileInputRef.current) fileInputRef.current.value = \"\";\n        await onSendMessage(text, attachment || undefined, type);\n    };\n    const handleKeyDown = (e)=>{\n        // Send on Ctrl + Enter or Command + Enter\n        if (e.key === \"Enter\" && (e.metaKey || e.ctrlKey)) {\n            e.preventDefault();\n            handleSubmit();\n        }\n    };\n    const handleOptimizeText = async ()=>{\n        if (!inputText.trim() || !onOptimizeText || isOptimizing) return;\n        setIsOptimizing(true);\n        try {\n            const optimizedText = await onOptimizeText(inputText);\n            setInputText(optimizedText);\n        } catch (error) {\n            console.error(\"AI ä¼˜åŒ–é”™è¯¯:\", error);\n        } finally{\n            setIsOptimizing(false);\n        }\n    };\n    const renderAttachmentPreview = (attachment, allowRemove = false)=>{\n        const isImage = attachment.mimeType.startsWith(\"image/\");\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: `relative inline-flex items-center gap-2 p-2 bg-slate-100 dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 ${allowRemove ? \"mb-2\" : \"mb-2\"}`,\n            children: [\n                isImage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                    src: attachment.content,\n                    alt: \"Preview\",\n                    className: \"h-12 w-auto rounded border border-slate-300 dark:border-slate-600\"\n                }, void 0, false, {\n                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                    lineNumber: 96,\n                    columnNumber: 12\n                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"h-12 w-12 flex items-center justify-center bg-white dark:bg-slate-700 rounded border border-slate-300 dark:border-slate-600 text-brand-500\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"text-2xl\",\n                        children: \"\\uD83D\\uDCC4\"\n                    }, void 0, false, {\n                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                        lineNumber: 99,\n                        columnNumber: 15\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                    lineNumber: 98,\n                    columnNumber: 12\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-col justify-center max-w-[120px]\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"text-xs font-medium text-slate-700 dark:text-slate-200 truncate w-full\",\n                            title: attachment.fileName,\n                            children: attachment.fileName || (isImage ? \"å›¾ç‰‡\" : \"æ–‡ä»¶\")\n                        }, void 0, false, {\n                            fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                            lineNumber: 104,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"text-[10px] text-slate-400 uppercase\",\n                            children: attachment.mimeType.split(\"/\")[1]\n                        }, void 0, false, {\n                            fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                            lineNumber: 107,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                    lineNumber: 103,\n                    columnNumber: 9\n                }, undefined),\n                allowRemove && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: ()=>{\n                        setSelectedFile(null);\n                        if (fileInputRef.current) fileInputRef.current.value = \"\";\n                    },\n                    className: \"absolute -top-2 -right-2 bg-slate-100 dark:bg-slate-800 text-slate-500 hover:text-red-500 rounded-full p-1 border border-slate-300 dark:border-slate-600 shadow-sm\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDownIcon_ClipboardIcon_XMarkIcon_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                        className: \"w-3 h-3\"\n                    }, void 0, false, {\n                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                        lineNumber: 118,\n                        columnNumber: 13\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                    lineNumber: 111,\n                    columnNumber: 11\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n            lineNumber: 94,\n            columnNumber: 7\n        }, undefined);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col h-full bg-white dark:bg-slate-900 border-r border-slate-200 dark:border-slate-700 transition-colors duration-300\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-4 border-b border-slate-200 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-800/30\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-lg font-semibold text-brand-600 dark:text-brand-300 flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"w-2 h-2 rounded-full bg-brand-500 animate-pulse\"\n                            }, void 0, false, {\n                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                                lineNumber: 130,\n                                columnNumber: 11\n                            }, undefined),\n                            \"AI æž¶æž„å¸ˆ\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                        lineNumber: 129,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-xs text-slate-500 dark:text-slate-400\",\n                        children: \"æ”¯æŒ PDF æ–‡æ¡£è§£æžä¸Žå›¾ç‰‡è¯†åˆ«\"\n                    }, void 0, false, {\n                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                        lineNumber: 133,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                lineNumber: 128,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 overflow-y-auto p-4 space-y-4\",\n                children: [\n                    history.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center text-slate-400 dark:text-slate-500 mt-10\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                children: \"æš‚æ— æ¶ˆæ¯ã€‚\"\n                            }, void 0, false, {\n                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                                lineNumber: 140,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-sm mt-2\",\n                                children: \"è¯•è¯•ä¸Šä¼ ä¸€ä¸ªéœ€æ±‚ PDF æˆ–æ‰‹ç»˜è‰å›¾\"\n                            }, void 0, false, {\n                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                                lineNumber: 141,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                        lineNumber: 139,\n                        columnNumber: 11\n                    }, undefined),\n                    history.map((msg)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: `flex flex-col max-w-[90%] ${msg.role === \"user\" ? \"ml-auto items-end\" : \"mr-auto items-start\"}`,\n                            children: [\n                                msg.role === \"model\" && msg.type === \"message\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mb-2 w-full\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>onSendMessage(`åŸºäºŽä»¥ä¸‹å¯¹è¯å†…å®¹ç”Ÿæˆæµç¨‹å›¾ï¼š${msg.content}`, undefined, \"auto\"),\n                                        className: \"w-full px-4 py-2 text-xs font-medium text-slate-700 dark:text-slate-300 bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-lg border border-slate-200 dark:border-slate-700 transition-colors flex items-center justify-center gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDownIcon_ClipboardIcon_XMarkIcon_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                                className: \"w-3 h-3\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                                                lineNumber: 157,\n                                                columnNumber: 19\n                                            }, undefined),\n                                            \"åŸºäºŽå¯¹è¯å†…å®¹ç”Ÿæˆæµç¨‹å›¾\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                                        lineNumber: 153,\n                                        columnNumber: 17\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                                    lineNumber: 152,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: `p-3 rounded-lg text-sm shadow-sm ${msg.role === \"user\" ? \"bg-brand-600 text-white rounded-tr-none shadow-brand-500/20\" : \"bg-slate-100 dark:bg-slate-700 text-slate-800 dark:text-slate-200 rounded-tl-none border border-slate-200 dark:border-slate-600\"} ${msg.isError ? \"bg-red-50 dark:bg-red-900/50 border-red-200 dark:border-red-500 text-red-800 dark:text-red-100\" : \"\"}`,\n                                    children: [\n                                        msg.attachment && renderAttachmentPreview(msg.attachment, false),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"whitespace-pre-wrap\",\n                                            children: msg.content\n                                        }, void 0, false, {\n                                            fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                                            lineNumber: 167,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                                    lineNumber: 163,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, msg.id, true, {\n                            fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                            lineNumber: 146,\n                            columnNumber: 11\n                        }, undefined)),\n                    isLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center space-x-2 text-brand-500 dark:text-brand-400 text-sm p-2 animate-pulse\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"w-4 h-4 animate-spin\",\n                                children: \"âŸ³\"\n                            }, void 0, false, {\n                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                                lineNumber: 174,\n                                columnNumber: 14\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                children: \"AI æ­£åœ¨é˜…è¯»æ–‡æ¡£å¹¶æž„å»ºå›¾è¡¨...\"\n                            }, void 0, false, {\n                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                                lineNumber: 175,\n                                columnNumber: 14\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                        lineNumber: 173,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        ref: messagesEndRef\n                    }, void 0, false, {\n                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                        lineNumber: 178,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                lineNumber: 137,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-4 bg-slate-50 dark:bg-slate-800/50 border-t border-slate-200 dark:border-slate-700 transition-colors\",\n                children: [\n                    selectedFile && renderAttachmentPreview(selectedFile, true),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                        onSubmit: handleSubmit,\n                        className: \"relative flex flex-col gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-2\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"relative flex-1 max-w-[180px]\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                            value: selectedType,\n                                            onChange: (e)=>setSelectedType(e.target.value),\n                                            className: \"w-full appearance-none bg-white dark:bg-slate-900 text-slate-700 dark:text-slate-300 text-xs border border-slate-300 dark:border-slate-600 rounded px-2 py-1.5 focus:outline-none focus:border-brand-500 pr-6 transition-colors\",\n                                            children: _constants__WEBPACK_IMPORTED_MODULE_2__.DIAGRAM_TYPES.map((type)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: type.value,\n                                                    children: type.label\n                                                }, type.value, false, {\n                                                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                                                    lineNumber: 195,\n                                                    columnNumber: 19\n                                                }, undefined))\n                                        }, void 0, false, {\n                                            fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                                            lineNumber: 189,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDownIcon_ClipboardIcon_XMarkIcon_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                            className: \"absolute right-2 top-1.5 w-3 h-3 text-slate-500 pointer-events-none\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                                            lineNumber: 198,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                                    lineNumber: 188,\n                                    columnNumber: 13\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                                lineNumber: 187,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                value: inputText,\n                                onChange: (e)=>setInputText(e.target.value),\n                                onKeyDown: handleKeyDown,\n                                placeholder: \"æè¿°æ‚¨çš„éœ€æ±‚æˆ–ä¸Šä¼ æ–‡ä»¶... (Enter æ¢è¡Œ, Ctrl+Enter å‘é€)\",\n                                className: \"w-full bg-white dark:bg-slate-950 border border-slate-300 dark:border-slate-700 rounded-xl pl-4 pr-12 py-3 text-sm focus:outline-none focus:ring-1 focus:ring-brand-500 focus:border-brand-500 resize-none scrollbar-hide text-slate-800 dark:text-slate-200 transition-colors placeholder:text-slate-400\",\n                                rows: selectedFile ? 2 : 3\n                            }, void 0, false, {\n                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                                lineNumber: 202,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute right-2 bottom-2 flex items-center space-x-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"file\",\n                                        ref: fileInputRef,\n                                        accept: \"image/*,application/pdf\",\n                                        className: \"hidden\",\n                                        onChange: handleFileSelect\n                                    }, void 0, false, {\n                                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                                        lineNumber: 212,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        type: \"button\",\n                                        onClick: ()=>fileInputRef.current?.click(),\n                                        className: `p-2 rounded-lg transition-colors ${selectedFile ? \"text-brand-500 bg-brand-50 dark:bg-brand-900/20\" : \"text-slate-400 hover:text-brand-500 hover:bg-slate-100 dark:hover:bg-slate-800\"}`,\n                                        title: \"ä¸Šä¼ å›¾ç‰‡æˆ– PDF\",\n                                        children: selectedFile ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            children: \"\\uD83D\\uDCCB\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                                            lineNumber: 225,\n                                            columnNumber: 31\n                                        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            children: \"\\uD83D\\uDCF7\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                                            lineNumber: 225,\n                                            columnNumber: 49\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                                        lineNumber: 219,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    onOptimizeText && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        type: \"button\",\n                                        onClick: handleOptimizeText,\n                                        disabled: !inputText.trim() || isOptimizing,\n                                        className: `p-2 rounded-lg transition-colors ${isOptimizing ? \"text-brand-500 bg-brand-50 dark:bg-brand-900/20\" : \"text-slate-400 hover:text-brand-500 hover:bg-slate-100 dark:hover:bg-slate-800\"} disabled:opacity-50 disabled:cursor-not-allowed`,\n                                        title: \"AI ä¼˜åŒ–éœ€æ±‚æè¿°\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: `w-5 h-5 flex items-center justify-center ${isOptimizing ? \"animate-spin\" : \"\"}`,\n                                            children: \"âœ¨\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                                            lineNumber: 235,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                                        lineNumber: 228,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        type: \"submit\",\n                                        disabled: isLoading || !inputText && !selectedFile,\n                                        className: \"p-2 bg-brand-600 hover:bg-brand-500 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-brand-900/20\",\n                                        title: \"Ctrl + Enter å‘é€\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            children: \"âœˆï¸\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                                            lineNumber: 244,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                                        lineNumber: 238,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                                lineNumber: 211,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                        lineNumber: 185,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n                lineNumber: 182,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/ChatPanel.tsx\",\n        lineNumber: 126,\n        columnNumber: 5\n    }, undefined);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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c0RBQUU7Ozs7Ozs7Ozs7O2tEQUd2Ryw4REFBQ21EO3dDQUNDL0IsTUFBSzt3Q0FDTHVELFVBQVVuRixhQUFjLENBQUNFLGFBQWEsQ0FBQ0U7d0NBQ3ZDZ0QsV0FBVTt3Q0FDVkssT0FBTTtrREFFTiw0RUFBQ0Q7c0RBQUs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBT3BCLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXJtYWlkLWFpLWFyY2hpdGVjdC8uL3NyYy9jb21wb25lbnRzL0NoYXRQYW5lbC50c3g/ZTY3YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZVJlZiwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQ2hhdE1lc3NhZ2UsIERpYWdyYW1UeXBlLCBDaGF0QXR0YWNobWVudCB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IERJQUdSQU1fVFlQRVMgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgXG4gIFBhcGVyQWlycGxhbmVJY29uLCBcbiAgUGhvdG9JY29uLCBcbiAgWE1hcmtJY29uLFxuICBDaGV2cm9uRG93bkljb24sXG4gIENsaXBib2FyZEljb25cbn0gZnJvbSAnQGhlcm9pY29ucy9yZWFjdC8yNC9vdXRsaW5lJztcblxuaW50ZXJmYWNlIENoYXRQYW5lbFByb3BzIHtcbiAgaGlzdG9yeTogQ2hhdE1lc3NhZ2VbXTtcbiAgb25TZW5kTWVzc2FnZTogKHRleHQ6IHN0cmluZywgYXR0YWNobWVudD86IENoYXRBdHRhY2htZW50LCB0eXBlPzogRGlhZ3JhbVR5cGUpID0+IFByb21pc2U8dm9pZD47XG4gIGlzTG9hZGluZzogYm9vbGVhbjtcbiAgb25PcHRpbWl6ZVRleHQ/OiAodGV4dDogc3RyaW5nKSA9PiBQcm9taXNlPHN0cmluZz47XG59XG5cbmV4cG9ydCBjb25zdCBDaGF0UGFuZWw6IFJlYWN0LkZDPENoYXRQYW5lbFByb3BzPiA9ICh7IGhpc3RvcnksIG9uU2VuZE1lc3NhZ2UsIGlzTG9hZGluZywgb25PcHRpbWl6ZVRleHQgfSkgPT4ge1xuICBjb25zdCBbaW5wdXRUZXh0LCBzZXRJbnB1dFRleHRdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbc2VsZWN0ZWRGaWxlLCBzZXRTZWxlY3RlZEZpbGVdID0gdXNlU3RhdGU8Q2hhdEF0dGFjaG1lbnQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3NlbGVjdGVkVHlwZSwgc2V0U2VsZWN0ZWRUeXBlXSA9IHVzZVN0YXRlPERpYWdyYW1UeXBlPignYXV0bycpO1xuICBjb25zdCBbaXNPcHRpbWl6aW5nLCBzZXRJc09wdGltaXppbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBcbiAgY29uc3QgbWVzc2FnZXNFbmRSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBmaWxlSW5wdXRSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudD4obnVsbCk7XG5cbiAgY29uc3Qgc2Nyb2xsVG9Cb3R0b20gPSAoKSA9PiB7XG4gICAgbWVzc2FnZXNFbmRSZWYuY3VycmVudD8uc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XG4gIH07XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzY3JvbGxUb0JvdHRvbSgpO1xuICB9LCBbaGlzdG9yeV0pO1xuXG4gIGNvbnN0IGhhbmRsZUZpbGVTZWxlY3QgPSAoZTogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcbiAgICBpZiAoZS50YXJnZXQuZmlsZXMgJiYgZS50YXJnZXQuZmlsZXNbMF0pIHtcbiAgICAgIGNvbnN0IGZpbGUgPSBlLnRhcmdldC5maWxlc1swXTtcbiAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICByZWFkZXIub25sb2FkID0gKGV2KSA9PiB7XG4gICAgICAgIGlmIChldi50YXJnZXQ/LnJlc3VsdCkge1xuICAgICAgICAgIHNldFNlbGVjdGVkRmlsZSh7XG4gICAgICAgICAgICBjb250ZW50OiBldi50YXJnZXQucmVzdWx0IGFzIHN0cmluZyxcbiAgICAgICAgICAgIG1pbWVUeXBlOiBmaWxlLnR5cGUsXG4gICAgICAgICAgICBmaWxlTmFtZTogZmlsZS5uYW1lXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU3VibWl0ID0gYXN5bmMgKGU/OiBSZWFjdC5Gb3JtRXZlbnQpID0+IHtcbiAgICBlPy5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmICgoIWlucHV0VGV4dC50cmltKCkgJiYgIXNlbGVjdGVkRmlsZSkgfHwgaXNMb2FkaW5nKSByZXR1cm47XG5cbiAgICBjb25zdCB0ZXh0ID0gaW5wdXRUZXh0O1xuICAgIGNvbnN0IGF0dGFjaG1lbnQgPSBzZWxlY3RlZEZpbGU7XG4gICAgY29uc3QgdHlwZSA9IHNlbGVjdGVkVHlwZTtcbiAgICBcbiAgICBzZXRJbnB1dFRleHQoJycpO1xuICAgIHNldFNlbGVjdGVkRmlsZShudWxsKTtcbiAgICBpZihmaWxlSW5wdXRSZWYuY3VycmVudCkgZmlsZUlucHV0UmVmLmN1cnJlbnQudmFsdWUgPSAnJztcblxuICAgIGF3YWl0IG9uU2VuZE1lc3NhZ2UodGV4dCwgYXR0YWNobWVudCB8fCB1bmRlZmluZWQsIHR5cGUpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUtleURvd24gPSAoZTogUmVhY3QuS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgIC8vIFNlbmQgb24gQ3RybCArIEVudGVyIG9yIENvbW1hbmQgKyBFbnRlclxuICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJyAmJiAoZS5tZXRhS2V5IHx8IGUuY3RybEtleSkpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGhhbmRsZVN1Ym1pdCgpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVPcHRpbWl6ZVRleHQgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFpbnB1dFRleHQudHJpbSgpIHx8ICFvbk9wdGltaXplVGV4dCB8fCBpc09wdGltaXppbmcpIHJldHVybjtcblxuICAgIHNldElzT3B0aW1pemluZyh0cnVlKTtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgb3B0aW1pemVkVGV4dCA9IGF3YWl0IG9uT3B0aW1pemVUZXh0KGlucHV0VGV4dCk7XG4gICAgICBzZXRJbnB1dFRleHQob3B0aW1pemVkVGV4dCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJBSSDkvJjljJbplJnor686XCIsIGVycm9yKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNPcHRpbWl6aW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcmVuZGVyQXR0YWNobWVudFByZXZpZXcgPSAoYXR0YWNobWVudDogQ2hhdEF0dGFjaG1lbnQsIGFsbG93UmVtb3ZlID0gZmFsc2UpID0+IHtcbiAgICBjb25zdCBpc0ltYWdlID0gYXR0YWNobWVudC5taW1lVHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKTtcbiAgICBcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2ByZWxhdGl2ZSBpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcC0yIGJnLXNsYXRlLTEwMCBkYXJrOmJnLXNsYXRlLTgwMCByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIGRhcms6Ym9yZGVyLXNsYXRlLTcwMCAke2FsbG93UmVtb3ZlID8gJ21iLTInIDogJ21iLTInfWB9PlxuICAgICAgICB7aXNJbWFnZSA/IChcbiAgICAgICAgICAgPGltZyBzcmM9e2F0dGFjaG1lbnQuY29udGVudH0gYWx0PVwiUHJldmlld1wiIGNsYXNzTmFtZT1cImgtMTIgdy1hdXRvIHJvdW5kZWQgYm9yZGVyIGJvcmRlci1zbGF0ZS0zMDAgZGFyazpib3JkZXItc2xhdGUtNjAwXCIgLz5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLTEyIHctMTIgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctd2hpdGUgZGFyazpiZy1zbGF0ZS03MDAgcm91bmRlZCBib3JkZXIgYm9yZGVyLXNsYXRlLTMwMCBkYXJrOmJvcmRlci1zbGF0ZS02MDAgdGV4dC1icmFuZC01MDBcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC0yeGxcIj7wn5OEPC9zcGFuPlxuICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBqdXN0aWZ5LWNlbnRlciBtYXgtdy1bMTIwcHhdXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LXNsYXRlLTcwMCBkYXJrOnRleHQtc2xhdGUtMjAwIHRydW5jYXRlIHctZnVsbFwiIHRpdGxlPXthdHRhY2htZW50LmZpbGVOYW1lfT5cbiAgICAgICAgICAgIHthdHRhY2htZW50LmZpbGVOYW1lIHx8IChpc0ltYWdlID8gJ+WbvueJhycgOiAn5paH5Lu2Jyl9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIHRleHQtc2xhdGUtNDAwIHVwcGVyY2FzZVwiPnthdHRhY2htZW50Lm1pbWVUeXBlLnNwbGl0KCcvJylbMV19PC9zcGFuPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7YWxsb3dSZW1vdmUgJiYgKFxuICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgIHNldFNlbGVjdGVkRmlsZShudWxsKTtcbiAgICAgICAgICAgICAgaWYoZmlsZUlucHV0UmVmLmN1cnJlbnQpIGZpbGVJbnB1dFJlZi5jdXJyZW50LnZhbHVlID0gJyc7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgLXRvcC0yIC1yaWdodC0yIGJnLXNsYXRlLTEwMCBkYXJrOmJnLXNsYXRlLTgwMCB0ZXh0LXNsYXRlLTUwMCBob3Zlcjp0ZXh0LXJlZC01MDAgcm91bmRlZC1mdWxsIHAtMSBib3JkZXIgYm9yZGVyLXNsYXRlLTMwMCBkYXJrOmJvcmRlci1zbGF0ZS02MDAgc2hhZG93LXNtXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8WE1hcmtJY29uIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBoLWZ1bGwgYmctd2hpdGUgZGFyazpiZy1zbGF0ZS05MDAgYm9yZGVyLXIgYm9yZGVyLXNsYXRlLTIwMCBkYXJrOmJvcmRlci1zbGF0ZS03MDAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMzAwXCI+XG4gICAgICB7LyogSGVhZGVyICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgYm9yZGVyLWIgYm9yZGVyLXNsYXRlLTIwMCBkYXJrOmJvcmRlci1zbGF0ZS03MDAgYmctc2xhdGUtNTAvNTAgZGFyazpiZy1zbGF0ZS04MDAvMzBcIj5cbiAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LWJyYW5kLTYwMCBkYXJrOnRleHQtYnJhbmQtMzAwIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidy0yIGgtMiByb3VuZGVkLWZ1bGwgYmctYnJhbmQtNTAwIGFuaW1hdGUtcHVsc2VcIi8+XG4gICAgICAgICAgQUkg5p625p6E5biIXG4gICAgICAgIDwvaDI+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1zbGF0ZS01MDAgZGFyazp0ZXh0LXNsYXRlLTQwMFwiPuaUr+aMgSBQREYg5paH5qGj6Kej5p6Q5LiO5Zu+54mH6K+G5YirPC9wPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBNZXNzYWdlcyAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG92ZXJmbG93LXktYXV0byBwLTQgc3BhY2UteS00XCI+XG4gICAgICAgIHtoaXN0b3J5Lmxlbmd0aCA9PT0gMCAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciB0ZXh0LXNsYXRlLTQwMCBkYXJrOnRleHQtc2xhdGUtNTAwIG10LTEwXCI+XG4gICAgICAgICAgICA8cD7mmoLml6Dmtojmga/jgII8L3A+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIG10LTJcIj7or5Xor5XkuIrkvKDkuIDkuKrpnIDmsYIgUERGIOaIluaJi+e7mOiNieWbvjwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgICAgXG4gICAgICAgIHtoaXN0b3J5Lm1hcCgobXNnKSA9PiAoXG4gICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgIGtleT17bXNnLmlkfSBcbiAgICAgICAgICAgIGNsYXNzTmFtZT17YGZsZXggZmxleC1jb2wgbWF4LXctWzkwJV0gJHttc2cucm9sZSA9PT0gJ3VzZXInID8gJ21sLWF1dG8gaXRlbXMtZW5kJyA6ICdtci1hdXRvIGl0ZW1zLXN0YXJ0J31gfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHsvKiBTaG93IGdlbmVyYXRlIGZsb3djaGFydCBidXR0b24gZm9yIG1lc3NhZ2UgdHlwZSByZXNwb25zZXMgKi99XG4gICAgICAgICAgICB7bXNnLnJvbGUgPT09ICdtb2RlbCcgJiYgbXNnLnR5cGUgPT09ICdtZXNzYWdlJyAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItMiB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gb25TZW5kTWVzc2FnZShg5Z+65LqO5Lul5LiL5a+56K+d5YaF5a6555Sf5oiQ5rWB56iL5Zu+77yaJHttc2cuY29udGVudH1gLCB1bmRlZmluZWQsICdhdXRvJyl9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtNCBweS0yIHRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1zbGF0ZS03MDAgZGFyazp0ZXh0LXNsYXRlLTMwMCBiZy1zbGF0ZS0xMDAgZGFyazpiZy1zbGF0ZS04MDAgaG92ZXI6Ymctc2xhdGUtMjAwIGRhcms6aG92ZXI6Ymctc2xhdGUtNzAwIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgZGFyazpib3JkZXItc2xhdGUtNzAwIHRyYW5zaXRpb24tY29sb3JzIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0yXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8Q2xpcGJvYXJkSWNvbiBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz5cbiAgICAgICAgICAgICAgICAgIOWfuuS6juWvueivneWGheWuueeUn+aIkOa1geeoi+WbvlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YHAtMyByb3VuZGVkLWxnIHRleHQtc20gc2hhZG93LXNtICR7bXNnLnJvbGUgPT09ICd1c2VyJyA/ICdiZy1icmFuZC02MDAgdGV4dC13aGl0ZSByb3VuZGVkLXRyLW5vbmUgc2hhZG93LWJyYW5kLTUwMC8yMCcgOiAnYmctc2xhdGUtMTAwIGRhcms6Ymctc2xhdGUtNzAwIHRleHQtc2xhdGUtODAwIGRhcms6dGV4dC1zbGF0ZS0yMDAgcm91bmRlZC10bC1ub25lIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIGRhcms6Ym9yZGVyLXNsYXRlLTYwMCd9ICR7bXNnLmlzRXJyb3IgPyAnYmctcmVkLTUwIGRhcms6YmctcmVkLTkwMC81MCBib3JkZXItcmVkLTIwMCBkYXJrOmJvcmRlci1yZWQtNTAwIHRleHQtcmVkLTgwMCBkYXJrOnRleHQtcmVkLTEwMCcgOiAnJ31gfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7bXNnLmF0dGFjaG1lbnQgJiYgcmVuZGVyQXR0YWNobWVudFByZXZpZXcobXNnLmF0dGFjaG1lbnQsIGZhbHNlKX1cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwid2hpdGVzcGFjZS1wcmUtd3JhcFwiPnttc2cuY29udGVudH08L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSl9XG4gICAgICAgIFxuICAgICAgICB7aXNMb2FkaW5nICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMiB0ZXh0LWJyYW5kLTUwMCBkYXJrOnRleHQtYnJhbmQtNDAwIHRleHQtc20gcC0yIGFuaW1hdGUtcHVsc2VcIj5cbiAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ3LTQgaC00IGFuaW1hdGUtc3BpblwiPuKfszwvc3Bhbj5cbiAgICAgICAgICAgICA8c3Bhbj5BSSDmraPlnKjpmIXor7vmlofmoaPlubbmnoTlu7rlm77ooaguLi48L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICAgIDxkaXYgcmVmPXttZXNzYWdlc0VuZFJlZn0gLz5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogSW5wdXQgQXJlYSAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IGJnLXNsYXRlLTUwIGRhcms6Ymctc2xhdGUtODAwLzUwIGJvcmRlci10IGJvcmRlci1zbGF0ZS0yMDAgZGFyazpib3JkZXItc2xhdGUtNzAwIHRyYW5zaXRpb24tY29sb3JzXCI+XG4gICAgICAgIHtzZWxlY3RlZEZpbGUgJiYgcmVuZGVyQXR0YWNobWVudFByZXZpZXcoc2VsZWN0ZWRGaWxlLCB0cnVlKX1cbiAgICAgICAgXG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVTdWJtaXR9IGNsYXNzTmFtZT1cInJlbGF0aXZlIGZsZXggZmxleC1jb2wgZ2FwLTJcIj5cbiAgICAgICAgICB7LyogQ29udHJvbHMgQmFyICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgZmxleC0xIG1heC13LVsxODBweF1cIj5cbiAgICAgICAgICAgICAgPHNlbGVjdFxuICAgICAgICAgICAgICAgIHZhbHVlPXtzZWxlY3RlZFR5cGV9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTZWxlY3RlZFR5cGUoZS50YXJnZXQudmFsdWUgYXMgRGlhZ3JhbVR5cGUpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBhcHBlYXJhbmNlLW5vbmUgYmctd2hpdGUgZGFyazpiZy1zbGF0ZS05MDAgdGV4dC1zbGF0ZS03MDAgZGFyazp0ZXh0LXNsYXRlLTMwMCB0ZXh0LXhzIGJvcmRlciBib3JkZXItc2xhdGUtMzAwIGRhcms6Ym9yZGVyLXNsYXRlLTYwMCByb3VuZGVkIHB4LTIgcHktMS41IGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYnJhbmQtNTAwIHByLTYgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge0RJQUdSQU1fVFlQRVMubWFwKHR5cGUgPT4gKFxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiBrZXk9e3R5cGUudmFsdWV9IHZhbHVlPXt0eXBlLnZhbHVlfT57dHlwZS5sYWJlbH08L29wdGlvbj5cbiAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgIDxDaGV2cm9uRG93bkljb24gY2xhc3NOYW1lPVwiYWJzb2x1dGUgcmlnaHQtMiB0b3AtMS41IHctMyBoLTMgdGV4dC1zbGF0ZS01MDAgcG9pbnRlci1ldmVudHMtbm9uZVwiIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgdmFsdWU9e2lucHV0VGV4dH1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0SW5wdXRUZXh0KGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgIG9uS2V5RG93bj17aGFuZGxlS2V5RG93bn1cbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi5o+P6L+w5oKo55qE6ZyA5rGC5oiW5LiK5Lyg5paH5Lu2Li4uIChFbnRlciDmjaLooYwsIEN0cmwrRW50ZXIg5Y+R6YCBKVwiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctd2hpdGUgZGFyazpiZy1zbGF0ZS05NTAgYm9yZGVyIGJvcmRlci1zbGF0ZS0zMDAgZGFyazpib3JkZXItc2xhdGUtNzAwIHJvdW5kZWQteGwgcGwtNCBwci0xMiBweS0zIHRleHQtc20gZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMSBmb2N1czpyaW5nLWJyYW5kLTUwMCBmb2N1czpib3JkZXItYnJhbmQtNTAwIHJlc2l6ZS1ub25lIHNjcm9sbGJhci1oaWRlIHRleHQtc2xhdGUtODAwIGRhcms6dGV4dC1zbGF0ZS0yMDAgdHJhbnNpdGlvbi1jb2xvcnMgcGxhY2Vob2xkZXI6dGV4dC1zbGF0ZS00MDBcIlxuICAgICAgICAgICAgcm93cz17c2VsZWN0ZWRGaWxlID8gMiA6IDN9XG4gICAgICAgICAgLz5cbiAgICAgICAgICBcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHJpZ2h0LTIgYm90dG9tLTIgZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0xXCI+XG4gICAgICAgICAgICA8aW5wdXQgXG4gICAgICAgICAgICAgIHR5cGU9XCJmaWxlXCIgXG4gICAgICAgICAgICAgIHJlZj17ZmlsZUlucHV0UmVmfVxuICAgICAgICAgICAgICBhY2NlcHQ9XCJpbWFnZS8qLGFwcGxpY2F0aW9uL3BkZlwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImhpZGRlblwiXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVGaWxlU2VsZWN0fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGZpbGVJbnB1dFJlZi5jdXJyZW50Py5jbGljaygpfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2BwLTIgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9ycyAke3NlbGVjdGVkRmlsZSA/ICd0ZXh0LWJyYW5kLTUwMCBiZy1icmFuZC01MCBkYXJrOmJnLWJyYW5kLTkwMC8yMCcgOiAndGV4dC1zbGF0ZS00MDAgaG92ZXI6dGV4dC1icmFuZC01MDAgaG92ZXI6Ymctc2xhdGUtMTAwIGRhcms6aG92ZXI6Ymctc2xhdGUtODAwJ31gfVxuICAgICAgICAgICAgICB0aXRsZT1cIuS4iuS8oOWbvueJh+aIliBQREZcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7c2VsZWN0ZWRGaWxlID8gPHNwYW4+8J+Tizwvc3Bhbj4gOiA8c3Bhbj7wn5O3PC9zcGFuPn1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAge29uT3B0aW1pemVUZXh0ICYmIChcbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZU9wdGltaXplVGV4dH1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17IWlucHV0VGV4dC50cmltKCkgfHwgaXNPcHRpbWl6aW5nfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHAtMiByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzICR7aXNPcHRpbWl6aW5nID8gJ3RleHQtYnJhbmQtNTAwIGJnLWJyYW5kLTUwIGRhcms6YmctYnJhbmQtOTAwLzIwJyA6ICd0ZXh0LXNsYXRlLTQwMCBob3Zlcjp0ZXh0LWJyYW5kLTUwMCBob3ZlcjpiZy1zbGF0ZS0xMDAgZGFyazpob3ZlcjpiZy1zbGF0ZS04MDAnfSBkaXNhYmxlZDpvcGFjaXR5LTUwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZGB9XG4gICAgICAgICAgICAgICAgdGl0bGU9XCJBSSDkvJjljJbpnIDmsYLmj4/ov7BcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtgdy01IGgtNSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciAke2lzT3B0aW1pemluZyA/ICdhbmltYXRlLXNwaW4nIDogJyd9YH0+4pyoPC9zcGFuPlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nIHx8ICghaW5wdXRUZXh0ICYmICFzZWxlY3RlZEZpbGUpfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJwLTIgYmctYnJhbmQtNjAwIGhvdmVyOmJnLWJyYW5kLTUwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1jb2xvcnMgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgc2hhZG93LWxnIHNoYWRvdy1icmFuZC05MDAvMjBcIlxuICAgICAgICAgICAgICB0aXRsZT1cIkN0cmwgKyBFbnRlciDlj5HpgIFcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3Bhbj7inIjvuI88L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VSZWYiLCJ1c2VFZmZlY3QiLCJESUFHUkFNX1RZUEVTIiwiWE1hcmtJY29uIiwiQ2hldnJvbkRvd25JY29uIiwiQ2xpcGJvYXJkSWNvbiIsIkNoYXRQYW5lbCIsImhpc3RvcnkiLCJvblNlbmRNZXNzYWdlIiwiaXNMb2FkaW5nIiwib25PcHRpbWl6ZVRleHQiLCJpbnB1dFRleHQiLCJzZXRJbnB1dFRleHQiLCJzZWxlY3RlZEZpbGUiLCJzZXRTZWxlY3RlZEZpbGUiLCJzZWxlY3RlZFR5cGUiLCJzZXRTZWxlY3RlZFR5cGUiLCJpc09wdGltaXppbmciLCJzZXRJc09wdGltaXppbmciLCJtZXNzYWdlc0VuZFJlZiIsImZpbGVJbnB1dFJlZiIsInNjcm9sbFRvQm90dG9tIiwiY3VycmVudCIsInNjcm9sbEludG9WaWV3IiwiYmVoYXZpb3IiLCJoYW5kbGVGaWxlU2VsZWN0IiwiZSIsInRhcmdldCIsImZpbGVzIiwiZmlsZSIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJldiIsInJlc3VsdCIsImNvbnRlbnQiLCJtaW1lVHlwZSIsInR5cGUiLCJmaWxlTmFtZSIsIm5hbWUiLCJyZWFkQXNEYXRhVVJMIiwiaGFuZGxlU3VibWl0IiwicHJldmVudERlZmF1bHQiLCJ0cmltIiwidGV4dCIsImF0dGFjaG1lbnQiLCJ2YWx1ZSIsInVuZGVmaW5lZCIsImhhbmRsZUtleURvd24iLCJrZXkiLCJtZXRhS2V5IiwiY3RybEtleSIsImhhbmRsZU9wdGltaXplVGV4dCIsIm9wdGltaXplZFRleHQiLCJlcnJvciIsImNvbnNvbGUiLCJyZW5kZXJBdHRhY2htZW50UHJldmlldyIsImFsbG93UmVtb3ZlIiwiaXNJbWFnZSIsInN0YXJ0c1dpdGgiLCJkaXYiLCJjbGFzc05hbWUiLCJpbWciLCJzcmMiLCJhbHQiLCJzcGFuIiwidGl0bGUiLCJzcGxpdCIsImJ1dHRvbiIsIm9uQ2xpY2siLCJoMiIsInAiLCJsZW5ndGgiLCJtYXAiLCJtc2ciLCJyb2xlIiwiaXNFcnJvciIsImlkIiwicmVmIiwiZm9ybSIsIm9uU3VibWl0Iiwic2VsZWN0Iiwib25DaGFuZ2UiLCJvcHRpb24iLCJsYWJlbCIsInRleHRhcmVhIiwib25LZXlEb3duIiwicGxhY2Vob2xkZXIiLCJyb3dzIiwiaW5wdXQiLCJhY2NlcHQiLCJjbGljayIsImRpc2FibGVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/components/ChatPanel.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/CodeEditor.tsx":
/*!***************************************!*\
  !*** ./src/components/CodeEditor.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CodeEditor: () => (/* binding */ CodeEditor)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst CodeEditor = ({ code, onChange })=>{\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"h-full flex flex-col bg-white dark:bg-slate-900 border-r border-slate-200 dark:border-slate-700 transition-colors duration-300\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-3 bg-slate-50 dark:bg-slate-800/30 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"text-xs font-mono text-slate-500 dark:text-slate-400\",\n                        children: \"mermaid.mmd\"\n                    }, void 0, false, {\n                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/CodeEditor.tsx\",\n                        lineNumber: 12,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"text-[10px] text-slate-400 dark:text-slate-500\",\n                        children: \"è‡ªåŠ¨ä¿å­˜\"\n                    }, void 0, false, {\n                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/CodeEditor.tsx\",\n                        lineNumber: 13,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/CodeEditor.tsx\",\n                lineNumber: 11,\n                columnNumber: 8\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                className: \"flex-1 w-full h-full bg-slate-50 dark:bg-slate-900 text-slate-800 dark:text-slate-300 font-mono text-sm p-4 focus:outline-none resize-none leading-relaxed transition-colors selection:bg-brand-200 dark:selection:bg-brand-900\",\n                value: code,\n                onChange: (e)=>onChange(e.target.value),\n                spellCheck: false,\n                placeholder: \"åœ¨æ­¤è¾“å…¥ Mermaid ä»£ç ...\"\n            }, void 0, false, {\n                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/CodeEditor.tsx\",\n                lineNumber: 15,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/CodeEditor.tsx\",\n        lineNumber: 10,\n        columnNumber: 5\n    }, undefined);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9Db2RlRWRpdG9yLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBMEI7QUFPbkIsTUFBTUMsYUFBd0MsQ0FBQyxFQUFFQyxJQUFJLEVBQUVDLFFBQVEsRUFBRTtJQUN0RSxxQkFDRSw4REFBQ0M7UUFBSUMsV0FBVTs7MEJBQ1osOERBQUNEO2dCQUFJQyxXQUFVOztrQ0FDZCw4REFBQ0M7d0JBQUtELFdBQVU7a0NBQXVEOzs7Ozs7a0NBQ3ZFLDhEQUFDQzt3QkFBS0QsV0FBVTtrQ0FBaUQ7Ozs7Ozs7Ozs7OzswQkFFbkUsOERBQUNFO2dCQUNDRixXQUFVO2dCQUNWRyxPQUFPTjtnQkFDUEMsVUFBVSxDQUFDTSxJQUFNTixTQUFTTSxFQUFFQyxNQUFNLENBQUNGLEtBQUs7Z0JBQ3hDRyxZQUFZO2dCQUNaQyxhQUFZOzs7Ozs7Ozs7Ozs7QUFJcEIsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL21lcm1haWQtYWktYXJjaGl0ZWN0Ly4vc3JjL2NvbXBvbmVudHMvQ29kZUVkaXRvci50c3g/ZjExMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbnRlcmZhY2UgQ29kZUVkaXRvclByb3BzIHtcbiAgY29kZTogc3RyaW5nO1xuICBvbkNoYW5nZTogKGNvZGU6IHN0cmluZykgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGNvbnN0IENvZGVFZGl0b3I6IFJlYWN0LkZDPENvZGVFZGl0b3JQcm9wcz4gPSAoeyBjb2RlLCBvbkNoYW5nZSB9KSA9PiB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJoLWZ1bGwgZmxleCBmbGV4LWNvbCBiZy13aGl0ZSBkYXJrOmJnLXNsYXRlLTkwMCBib3JkZXItciBib3JkZXItc2xhdGUtMjAwIGRhcms6Ym9yZGVyLXNsYXRlLTcwMCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0zMDBcIj5cbiAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtMyBiZy1zbGF0ZS01MCBkYXJrOmJnLXNsYXRlLTgwMC8zMCBib3JkZXItYiBib3JkZXItc2xhdGUtMjAwIGRhcms6Ym9yZGVyLXNsYXRlLTcwMCBmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyBmb250LW1vbm8gdGV4dC1zbGF0ZS01MDAgZGFyazp0ZXh0LXNsYXRlLTQwMFwiPm1lcm1haWQubW1kPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsxMHB4XSB0ZXh0LXNsYXRlLTQwMCBkYXJrOnRleHQtc2xhdGUtNTAwXCI+6Ieq5Yqo5L+d5a2YPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8dGV4dGFyZWFcbiAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xIHctZnVsbCBoLWZ1bGwgYmctc2xhdGUtNTAgZGFyazpiZy1zbGF0ZS05MDAgdGV4dC1zbGF0ZS04MDAgZGFyazp0ZXh0LXNsYXRlLTMwMCBmb250LW1vbm8gdGV4dC1zbSBwLTQgZm9jdXM6b3V0bGluZS1ub25lIHJlc2l6ZS1ub25lIGxlYWRpbmctcmVsYXhlZCB0cmFuc2l0aW9uLWNvbG9ycyBzZWxlY3Rpb246YmctYnJhbmQtMjAwIGRhcms6c2VsZWN0aW9uOmJnLWJyYW5kLTkwMFwiXG4gICAgICAgIHZhbHVlPXtjb2RlfVxuICAgICAgICBvbkNoYW5nZT17KGUpID0+IG9uQ2hhbmdlKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgc3BlbGxDaGVjaz17ZmFsc2V9XG4gICAgICAgIHBsYWNlaG9sZGVyPVwi5Zyo5q2k6L6T5YWlIE1lcm1haWQg5Luj56CBLi4uXCJcbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwiQ29kZUVkaXRvciIsImNvZGUiLCJvbkNoYW5nZSIsImRpdiIsImNsYXNzTmFtZSIsInNwYW4iLCJ0ZXh0YXJlYSIsInZhbHVlIiwiZSIsInRhcmdldCIsInNwZWxsQ2hlY2siLCJwbGFjZWhvbGRlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/components/CodeEditor.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/GalleryModal.tsx":
/*!*****************************************!*\
  !*** ./src/components/GalleryModal.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GalleryModal: () => (/* binding */ GalleryModal)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ \"(ssr)/./src/constants.ts\");\n/* harmony import */ var _MermaidRenderer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MermaidRenderer */ \"(ssr)/./src/components/MermaidRenderer.tsx\");\n/* harmony import */ var _barrel_optimize_names_XMarkIcon_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=XMarkIcon!=!@heroicons/react/24/outline */ \"(ssr)/./node_modules/@heroicons/react/24/outline/esm/XMarkIcon.js\");\n\n\n\n\n\nconst GalleryModal = ({ isOpen, onClose, onSelect })=>{\n    if (!isOpen) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/50 dark:bg-black/80 backdrop-blur-sm p-4 animate-in fade-in duration-200\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 w-full max-w-6xl max-h-[90vh] rounded-2xl shadow-2xl flex flex-col overflow-hidden transition-colors\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-800/50\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"text-2xl font-bold text-slate-900 dark:text-white\",\n                                    children: \"å›¾è¡¨ç±»åž‹åº“\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/GalleryModal.tsx\",\n                                    lineNumber: 23,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-slate-500 dark:text-slate-400 text-sm mt-1\",\n                                    children: \"é€‰æ‹©ä¸€ä¸ªæ¨¡æ¿å¼€å§‹ç»˜å›¾\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/GalleryModal.tsx\",\n                                    lineNumber: 24,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/GalleryModal.tsx\",\n                            lineNumber: 22,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: onClose,\n                            className: \"p-2 bg-slate-200 dark:bg-slate-800 hover:bg-slate-300 dark:hover:bg-slate-700 text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white rounded-full transition-colors\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_XMarkIcon_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                className: \"w-6 h-6\"\n                            }, void 0, false, {\n                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/GalleryModal.tsx\",\n                                lineNumber: 30,\n                                columnNumber: 13\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/GalleryModal.tsx\",\n                            lineNumber: 26,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/GalleryModal.tsx\",\n                    lineNumber: 21,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex-1 overflow-y-auto p-6 bg-slate-100 dark:bg-slate-950 transition-colors\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\",\n                        children: _constants__WEBPACK_IMPORTED_MODULE_2__.GALLERY_EXAMPLES.map((ex, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>onSelect(ex),\n                                className: \"group flex flex-col bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl overflow-hidden hover:border-brand-500/50 hover:shadow-lg hover:shadow-brand-500/10 transition-all duration-300 text-left\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"h-40 bg-slate-100 dark:bg-slate-800/30 w-full relative overflow-hidden p-2 pointer-events-none border-b border-slate-100 dark:border-slate-800/50\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"absolute inset-0 transform scale-75 origin-top group-hover:scale-90 transition-transform duration-500\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_MermaidRenderer__WEBPACK_IMPORTED_MODULE_3__.MermaidRenderer, {\n                                                code: ex.code,\n                                                uid: `gallery-${idx}`,\n                                                allowFullscreen: false\n                                            }, void 0, false, {\n                                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/GalleryModal.tsx\",\n                                                lineNumber: 46,\n                                                columnNumber: 22\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/GalleryModal.tsx\",\n                                            lineNumber: 45,\n                                            columnNumber: 20\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/GalleryModal.tsx\",\n                                        lineNumber: 44,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"p-4 bg-white dark:bg-slate-900 group-hover:bg-slate-50 dark:group-hover:bg-slate-800/50 transition-colors\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                className: \"font-semibold text-slate-800 dark:text-slate-200 group-hover:text-brand-600 dark:group-hover:text-brand-300\",\n                                                children: ex.name\n                                            }, void 0, false, {\n                                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/GalleryModal.tsx\",\n                                                lineNumber: 56,\n                                                columnNumber: 19\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-xs text-slate-500 mt-1 line-clamp-2\",\n                                                children: ex.description\n                                            }, void 0, false, {\n                                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/GalleryModal.tsx\",\n                                                lineNumber: 57,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/GalleryModal.tsx\",\n                                        lineNumber: 55,\n                                        columnNumber: 17\n                                    }, undefined)\n                                ]\n                            }, ex.name, true, {\n                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/GalleryModal.tsx\",\n                                lineNumber: 38,\n                                columnNumber: 15\n                            }, undefined))\n                    }, void 0, false, {\n                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/GalleryModal.tsx\",\n                        lineNumber: 36,\n                        columnNumber: 11\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/GalleryModal.tsx\",\n                    lineNumber: 35,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/GalleryModal.tsx\",\n            lineNumber: 18,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/GalleryModal.tsx\",\n        lineNumber: 17,\n        columnNumber: 5\n    }, undefined);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9HYWxsZXJ5TW9kYWwudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUEwQjtBQUNzQjtBQUNJO0FBQ0k7QUFTakQsTUFBTUksZUFBNEMsQ0FBQyxFQUFFQyxNQUFNLEVBQUVDLE9BQU8sRUFBRUMsUUFBUSxFQUFFO0lBQ3JGLElBQUksQ0FBQ0YsUUFBUSxPQUFPO0lBRXBCLHFCQUNFLDhEQUFDRztRQUFJQyxXQUFVO2tCQUNiLDRFQUFDRDtZQUFJQyxXQUFVOzs4QkFHYiw4REFBQ0Q7b0JBQUlDLFdBQVU7O3NDQUNiLDhEQUFDRDs7OENBQ0MsOERBQUNFO29DQUFHRCxXQUFVOzhDQUFvRDs7Ozs7OzhDQUNsRSw4REFBQ0U7b0NBQUVGLFdBQVU7OENBQWtEOzs7Ozs7Ozs7Ozs7c0NBRWpFLDhEQUFDRzs0QkFDQ0MsU0FBU1A7NEJBQ1RHLFdBQVU7c0NBRVYsNEVBQUNOLG1HQUFTQTtnQ0FBQ00sV0FBVTs7Ozs7Ozs7Ozs7Ozs7Ozs7OEJBS3pCLDhEQUFDRDtvQkFBSUMsV0FBVTs4QkFDYiw0RUFBQ0Q7d0JBQUlDLFdBQVU7a0NBQ1pSLHdEQUFnQkEsQ0FBQ2EsR0FBRyxDQUFDLENBQUNDLElBQUlDLG9CQUN6Qiw4REFBQ0o7Z0NBRUNDLFNBQVMsSUFBTU4sU0FBU1E7Z0NBQ3hCTixXQUFVOztrREFHViw4REFBQ0Q7d0NBQUlDLFdBQVU7a0RBQ1osNEVBQUNEOzRDQUFJQyxXQUFVO3NEQUNiLDRFQUFDUCw2REFBZUE7Z0RBQ2RlLE1BQU1GLEdBQUdFLElBQUk7Z0RBQ2JDLEtBQUssQ0FBQyxRQUFRLEVBQUVGLElBQUksQ0FBQztnREFDckJHLGlCQUFpQjs7Ozs7Ozs7Ozs7Ozs7OztrREFNeEIsOERBQUNYO3dDQUFJQyxXQUFVOzswREFDYiw4REFBQ1c7Z0RBQUdYLFdBQVU7MERBQStHTSxHQUFHTSxJQUFJOzs7Ozs7MERBQ3BJLDhEQUFDVjtnREFBRUYsV0FBVTswREFBNENNLEdBQUdPLFdBQVc7Ozs7Ozs7Ozs7Ozs7K0JBbEJwRVAsR0FBR00sSUFBSTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUE0QjVCLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXJtYWlkLWFpLWFyY2hpdGVjdC8uL3NyYy9jb21wb25lbnRzL0dhbGxlcnlNb2RhbC50c3g/ODU5OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgR0FMTEVSWV9FWEFNUExFUyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBNZXJtYWlkUmVuZGVyZXIgfSBmcm9tICcuL01lcm1haWRSZW5kZXJlcic7XG5pbXBvcnQgeyBYTWFya0ljb24gfSBmcm9tICdAaGVyb2ljb25zL3JlYWN0LzI0L291dGxpbmUnO1xuaW1wb3J0IHsgRXhhbXBsZVRlbXBsYXRlIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbnRlcmZhY2UgR2FsbGVyeU1vZGFsUHJvcHMge1xuICBpc09wZW46IGJvb2xlYW47XG4gIG9uQ2xvc2U6ICgpID0+IHZvaWQ7XG4gIG9uU2VsZWN0OiAodGVtcGxhdGU6IEV4YW1wbGVUZW1wbGF0ZSkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGNvbnN0IEdhbGxlcnlNb2RhbDogUmVhY3QuRkM8R2FsbGVyeU1vZGFsUHJvcHM+ID0gKHsgaXNPcGVuLCBvbkNsb3NlLCBvblNlbGVjdCB9KSA9PiB7XG4gIGlmICghaXNPcGVuKSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCB6LTUwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLXNsYXRlLTkwMC81MCBkYXJrOmJnLWJsYWNrLzgwIGJhY2tkcm9wLWJsdXItc20gcC00IGFuaW1hdGUtaW4gZmFkZS1pbiBkdXJhdGlvbi0yMDBcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgZGFyazpiZy1zbGF0ZS05MDAgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgZGFyazpib3JkZXItc2xhdGUtNzAwIHctZnVsbCBtYXgtdy02eGwgbWF4LWgtWzkwdmhdIHJvdW5kZWQtMnhsIHNoYWRvdy0yeGwgZmxleCBmbGV4LWNvbCBvdmVyZmxvdy1oaWRkZW4gdHJhbnNpdGlvbi1jb2xvcnNcIj5cbiAgICAgICAgXG4gICAgICAgIHsvKiBIZWFkZXIgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHAtNiBib3JkZXItYiBib3JkZXItc2xhdGUtMjAwIGRhcms6Ym9yZGVyLXNsYXRlLTgwMCBiZy1zbGF0ZS01MCBkYXJrOmJnLXNsYXRlLTgwMC81MFwiPlxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtc2xhdGUtOTAwIGRhcms6dGV4dC13aGl0ZVwiPuWbvuihqOexu+Wei+W6kzwvaDI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNsYXRlLTUwMCBkYXJrOnRleHQtc2xhdGUtNDAwIHRleHQtc20gbXQtMVwiPumAieaLqeS4gOS4quaooeadv+W8gOWni+e7mOWbvjwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgb25DbGljaz17b25DbG9zZX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtMiBiZy1zbGF0ZS0yMDAgZGFyazpiZy1zbGF0ZS04MDAgaG92ZXI6Ymctc2xhdGUtMzAwIGRhcms6aG92ZXI6Ymctc2xhdGUtNzAwIHRleHQtc2xhdGUtNTAwIGRhcms6dGV4dC1zbGF0ZS00MDAgaG92ZXI6dGV4dC1zbGF0ZS04MDAgZGFyazpob3Zlcjp0ZXh0LXdoaXRlIHJvdW5kZWQtZnVsbCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPFhNYXJrSWNvbiBjbGFzc05hbWU9XCJ3LTYgaC02XCIgLz5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIEdyaWQgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG92ZXJmbG93LXktYXV0byBwLTYgYmctc2xhdGUtMTAwIGRhcms6Ymctc2xhdGUtOTUwIHRyYW5zaXRpb24tY29sb3JzXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIGxnOmdyaWQtY29scy0zIHhsOmdyaWQtY29scy00IGdhcC02XCI+XG4gICAgICAgICAgICB7R0FMTEVSWV9FWEFNUExFUy5tYXAoKGV4LCBpZHgpID0+IChcbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGtleT17ZXgubmFtZX1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvblNlbGVjdChleCl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZ3JvdXAgZmxleCBmbGV4LWNvbCBiZy13aGl0ZSBkYXJrOmJnLXNsYXRlLTkwMCBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCBkYXJrOmJvcmRlci1zbGF0ZS04MDAgcm91bmRlZC14bCBvdmVyZmxvdy1oaWRkZW4gaG92ZXI6Ym9yZGVyLWJyYW5kLTUwMC81MCBob3ZlcjpzaGFkb3ctbGcgaG92ZXI6c2hhZG93LWJyYW5kLTUwMC8xMCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgdGV4dC1sZWZ0XCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHsvKiBQcmV2aWV3IEFyZWEgKi99XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLTQwIGJnLXNsYXRlLTEwMCBkYXJrOmJnLXNsYXRlLTgwMC8zMCB3LWZ1bGwgcmVsYXRpdmUgb3ZlcmZsb3ctaGlkZGVuIHAtMiBwb2ludGVyLWV2ZW50cy1ub25lIGJvcmRlci1iIGJvcmRlci1zbGF0ZS0xMDAgZGFyazpib3JkZXItc2xhdGUtODAwLzUwXCI+XG4gICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIHRyYW5zZm9ybSBzY2FsZS03NSBvcmlnaW4tdG9wIGdyb3VwLWhvdmVyOnNjYWxlLTkwIHRyYW5zaXRpb24tdHJhbnNmb3JtIGR1cmF0aW9uLTUwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgPE1lcm1haWRSZW5kZXJlciBcbiAgICAgICAgICAgICAgICAgICAgICAgY29kZT17ZXguY29kZX0gXG4gICAgICAgICAgICAgICAgICAgICAgIHVpZD17YGdhbGxlcnktJHtpZHh9YH0gXG4gICAgICAgICAgICAgICAgICAgICAgIGFsbG93RnVsbHNjcmVlbj17ZmFsc2V9IC8vIERpc2FibGUgZnVsbHNjcmVlbiBpbiBnYWxsZXJ5XG4gICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHsvKiBJbmZvIEFyZWEgKi99XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgYmctd2hpdGUgZGFyazpiZy1zbGF0ZS05MDAgZ3JvdXAtaG92ZXI6Ymctc2xhdGUtNTAgZGFyazpncm91cC1ob3ZlcjpiZy1zbGF0ZS04MDAvNTAgdHJhbnNpdGlvbi1jb2xvcnNcIj5cbiAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtc2xhdGUtODAwIGRhcms6dGV4dC1zbGF0ZS0yMDAgZ3JvdXAtaG92ZXI6dGV4dC1icmFuZC02MDAgZGFyazpncm91cC1ob3Zlcjp0ZXh0LWJyYW5kLTMwMFwiPntleC5uYW1lfTwvaDM+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwIG10LTEgbGluZS1jbGFtcC0yXCI+e2V4LmRlc2NyaXB0aW9ufTwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwiR0FMTEVSWV9FWEFNUExFUyIsIk1lcm1haWRSZW5kZXJlciIsIlhNYXJrSWNvbiIsIkdhbGxlcnlNb2RhbCIsImlzT3BlbiIsIm9uQ2xvc2UiLCJvblNlbGVjdCIsImRpdiIsImNsYXNzTmFtZSIsImgyIiwicCIsImJ1dHRvbiIsIm9uQ2xpY2siLCJtYXAiLCJleCIsImlkeCIsImNvZGUiLCJ1aWQiLCJhbGxvd0Z1bGxzY3JlZW4iLCJoMyIsIm5hbWUiLCJkZXNjcmlwdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/components/GalleryModal.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/MermaidRenderer.tsx":
/*!********************************************!*\
  !*** ./src/components/MermaidRenderer.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MermaidRenderer: () => (/* binding */ MermaidRenderer)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_ArrowLeftIcon_CheckIcon_LinkIcon_MinusIcon_PlusIcon_WrenchIcon_XMarkIcon_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeftIcon,CheckIcon,LinkIcon,MinusIcon,PlusIcon,WrenchIcon,XMarkIcon!=!@heroicons/react/24/outline */ \"(ssr)/./node_modules/@heroicons/react/24/outline/esm/ArrowLeftIcon.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeftIcon_CheckIcon_LinkIcon_MinusIcon_PlusIcon_WrenchIcon_XMarkIcon_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeftIcon,CheckIcon,LinkIcon,MinusIcon,PlusIcon,WrenchIcon,XMarkIcon!=!@heroicons/react/24/outline */ \"(ssr)/./node_modules/@heroicons/react/24/outline/esm/LinkIcon.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeftIcon_CheckIcon_LinkIcon_MinusIcon_PlusIcon_WrenchIcon_XMarkIcon_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeftIcon,CheckIcon,LinkIcon,MinusIcon,PlusIcon,WrenchIcon,XMarkIcon!=!@heroicons/react/24/outline */ \"(ssr)/./node_modules/@heroicons/react/24/outline/esm/WrenchIcon.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeftIcon_CheckIcon_LinkIcon_MinusIcon_PlusIcon_WrenchIcon_XMarkIcon_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeftIcon,CheckIcon,LinkIcon,MinusIcon,PlusIcon,WrenchIcon,XMarkIcon!=!@heroicons/react/24/outline */ \"(ssr)/./node_modules/@heroicons/react/24/outline/esm/MinusIcon.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeftIcon_CheckIcon_LinkIcon_MinusIcon_PlusIcon_WrenchIcon_XMarkIcon_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeftIcon,CheckIcon,LinkIcon,MinusIcon,PlusIcon,WrenchIcon,XMarkIcon!=!@heroicons/react/24/outline */ \"(ssr)/./node_modules/@heroicons/react/24/outline/esm/PlusIcon.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeftIcon_CheckIcon_LinkIcon_MinusIcon_PlusIcon_WrenchIcon_XMarkIcon_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeftIcon,CheckIcon,LinkIcon,MinusIcon,PlusIcon,WrenchIcon,XMarkIcon!=!@heroicons/react/24/outline */ \"(ssr)/./node_modules/@heroicons/react/24/outline/esm/XMarkIcon.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeftIcon_CheckIcon_LinkIcon_MinusIcon_PlusIcon_WrenchIcon_XMarkIcon_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeftIcon,CheckIcon,LinkIcon,MinusIcon,PlusIcon,WrenchIcon,XMarkIcon!=!@heroicons/react/24/outline */ \"(ssr)/./node_modules/@heroicons/react/24/outline/esm/CheckIcon.js\");\n\n\n\n// Helper to manage mermaid init directive\nconst updateInitConfig = (code, configUpdates)=>{\n    const initRegex = /%%\\{init:\\s*({[\\s\\S]*?})\\s*\\}%%/;\n    const match = code.match(initRegex);\n    let config = {\n        themeVariables: {},\n        theme: \"base\"\n    };\n    let prefix = \"\";\n    let suffix = code;\n    if (match) {\n        try {\n            // Relaxed JSON parsing (handling potential non-strict JSON in user code if possible, but standard JSON.parse is safest)\n            // We assume the AI generates valid JSON in init.\n            const existingConfig = JSON.parse(match[1]);\n            config = {\n                ...config,\n                ...existingConfig\n            };\n            if (!config.themeVariables) config.themeVariables = {};\n            prefix = code.substring(0, match.index);\n            suffix = code.substring(match.index + match[0].length);\n        } catch (e) {\n            console.warn(\"Failed to parse existing init config\", e);\n        }\n    }\n    // Update variables\n    Object.entries(configUpdates).forEach(([key, value])=>{\n        config.themeVariables[key] = value;\n    });\n    // Re-assemble\n    const newInitBlock = `%%{init: ${JSON.stringify(config)} }%%`;\n    return `${prefix}${newInitBlock}\\n${suffix.trim()}`;\n};\nconst getInitVariable = (code, key)=>{\n    const initRegex = /%%\\{init:\\s*({[\\s\\S]*?})\\s*\\}%%/;\n    const match = code.match(initRegex);\n    if (match) {\n        try {\n            const config = JSON.parse(match[1]);\n            return config.themeVariables?.[key] || \"\";\n        } catch (e) {\n            return \"\";\n        }\n    }\n    return \"\";\n};\nconst MermaidRenderer = ({ code, uid, onFixError, isFixing, allowFullscreen = true, onUpdateCode, onRequestChange })=>{\n    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [svgContent, setSvgContent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // View State\n    const [scale, setScale] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [position, setPosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        x: 0,\n        y: 0\n    });\n    const [isDragging, setIsDragging] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [dragStart, setDragStart] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        x: 0,\n        y: 0\n    });\n    const [isFullscreen, setIsFullscreen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Color Palette State\n    const [showPalette, setShowPalette] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // We keep a local map of replacements to apply: oldColor -> newColor\n    const [colorReplacements, setColorReplacements] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    // We keep track of global theme variable edits\n    const [themeEdits, setThemeEdits] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        textColor: \"\",\n        primaryColor: \"\",\n        lineColor: \"\"\n    });\n    // Chat Dialog State\n    const [showChatDialog, setShowChatDialog] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [chatInput, setChatInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isChatLoading, setIsChatLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Extract detected hardcoded hex colors\n    const detectedColors = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const hexRegex = /#([0-9a-fA-F]{3,6})\\b/g;\n        const matches = code.match(hexRegex) || [];\n        return Array.from(new Set(matches));\n    }, [\n        code\n    ]);\n    // Sync theme edits with current code when palette opens\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (showPalette) {\n            setThemeEdits({\n                textColor: getInitVariable(code, \"textColor\") || \"#333333\",\n                primaryColor: getInitVariable(code, \"primaryColor\") || \"#ffffff\",\n                lineColor: getInitVariable(code, \"lineColor\") || \"#333333\"\n            });\n            setColorReplacements({});\n        }\n    }, [\n        showPalette,\n        code\n    ]);\n    // Handle ESC\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleKeyDown = (e)=>{\n            if (e.key === \"Escape\") {\n                if (showPalette) setShowPalette(false);\n                else if (isFullscreen) toggleFullscreen();\n            }\n        };\n        window.addEventListener(\"keydown\", handleKeyDown);\n        return ()=>window.removeEventListener(\"keydown\", handleKeyDown);\n    }, [\n        isFullscreen,\n        showPalette\n    ]);\n    // Update grid visibility based on dark mode\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const updateGridStyle = ()=>{\n            const container = containerRef.current;\n            if (container) {\n                const isDark = document.documentElement.classList.contains(\"dark\");\n                if (isDark) {\n                    container.style.backgroundColor = \"#0f172a\";\n                    container.style.backgroundImage = `\n            linear-gradient(to right, rgba(99, 102, 241, 0.15) 1px, transparent 1px),\n            linear-gradient(to bottom, rgba(99, 102, 241, 0.15) 1px, transparent 1px)\n          `;\n                } else {\n                    container.style.backgroundColor = \"#ffffff\";\n                    container.style.backgroundImage = `\n            linear-gradient(to right, rgba(99, 102, 241, 0.08) 1px, transparent 1px),\n            linear-gradient(to bottom, rgba(99, 102, 241, 0.08) 1px, transparent 1px)\n          `;\n                }\n            }\n        };\n        updateGridStyle();\n        const observer = new MutationObserver(updateGridStyle);\n        observer.observe(document.documentElement, {\n            attributes: true,\n            attributeFilter: [\n                \"class\"\n            ]\n        });\n        return ()=>observer.disconnect();\n    }, []);\n    // Render Logic\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let active = true;\n        const renderDiagram = async ()=>{\n            if (!code || !containerRef.current || !window.mermaid) return;\n            try {\n                setError(null);\n                const isDark = document.documentElement.classList.contains(\"dark\");\n                // If the user has explicitly set theme variables in the code (via our tool), use 'base' to respect them.\n                // Otherwise use default/dark.\n                const hasInit = /%%\\{init:/.test(code);\n                const theme = hasInit ? \"base\" : isDark ? \"dark\" : \"default\";\n                window.mermaid.initialize({\n                    startOnLoad: false,\n                    theme: theme,\n                    securityLevel: \"loose\",\n                    fontFamily: \"Fira Code, monospace\"\n                });\n                const uniqueId = `mermaid-${uid || Date.now()}-${Math.random().toString(36).substr(2, 6)}`;\n                const { svg } = await window.mermaid.render(uniqueId, code);\n                if (active) {\n                    setSvgContent(svg);\n                }\n            } catch (err) {\n                if (active) {\n                    console.warn(\"Mermaid Render Error:\", err.message);\n                    setError(err.message || \"è¯­æ³•é”™è¯¯ (Syntax Error)\");\n                }\n            }\n        };\n        const timeoutId = setTimeout(renderDiagram, 100);\n        const observer = new MutationObserver(renderDiagram);\n        observer.observe(document.documentElement, {\n            attributes: true,\n            attributeFilter: [\n                \"class\"\n            ]\n        });\n        return ()=>{\n            active = false;\n            clearTimeout(timeoutId);\n            observer.disconnect();\n        };\n    }, [\n        code,\n        uid\n    ]);\n    // Controls\n    const handleWheel = (e)=>{\n        if (e.ctrlKey || e.metaKey || isFullscreen || true) {\n            const sensitivity = 0.001;\n            const newScale = Math.min(Math.max(0.1, scale - e.deltaY * sensitivity), 10);\n            setScale(newScale);\n        }\n    };\n    const handleMouseDown = (e)=>{\n        if (e.button !== 0) return;\n        setIsDragging(true);\n        setDragStart({\n            x: e.clientX - position.x,\n            y: e.clientY - position.y\n        });\n    };\n    const handleMouseMove = (e)=>{\n        if (isDragging) {\n            setPosition({\n                x: e.clientX - dragStart.x,\n                y: e.clientY - dragStart.y\n            });\n        }\n    };\n    const handleMouseUp = ()=>setIsDragging(false);\n    const zoomIn = ()=>setScale((s)=>Math.min(s + 0.2, 10));\n    const zoomOut = ()=>setScale((s)=>Math.max(s - 0.2, 0.1));\n    const resetView = ()=>{\n        setScale(1);\n        setPosition({\n            x: 0,\n            y: 0\n        });\n    };\n    const toggleFullscreen = ()=>{\n        if (!allowFullscreen) return;\n        setIsFullscreen(!isFullscreen);\n        if (!isFullscreen) {\n            setScale(1);\n            setPosition({\n                x: 0,\n                y: 0\n            });\n        }\n    };\n    // Color Logic\n    const applyColors = ()=>{\n        if (!onUpdateCode) return;\n        let newCode = code;\n        // 1. Apply global theme edits\n        const updates = {};\n        if (themeEdits.textColor) updates[\"primaryTextColor\"] = themeEdits.textColor;\n        if (themeEdits.primaryColor) updates[\"primaryColor\"] = themeEdits.primaryColor;\n        if (themeEdits.lineColor) updates[\"lineColor\"] = themeEdits.lineColor;\n        // Only update if we have values\n        if (Object.keys(updates).length > 0) {\n            newCode = updateInitConfig(newCode, updates);\n        }\n        // 2. Apply explicit hex replacements\n        Object.entries(colorReplacements).forEach(([oldColor, newColor])=>{\n            newCode = newCode.replaceAll(oldColor, newColor);\n        });\n        onUpdateCode(newCode);\n        setShowPalette(false);\n    };\n    const cancelColors = ()=>{\n        setShowPalette(false);\n        setColorReplacements({});\n    };\n    const handleChatSubmit = async ()=>{\n        if (!chatInput.trim() || isChatLoading) return;\n        setIsChatLoading(true);\n        try {\n            // è¿™é‡Œå¯ä»¥æ·»åŠ ä¸ŽAIçš„äº¤äº’é€»è¾‘\n            // æš‚æ—¶å…ˆæ¨¡æ‹Ÿä¸€ä¸ªå“åº”\n            setTimeout(()=>{\n                // å…³é—­å¯¹è¯æ¡†\n                setShowChatDialog(false);\n                setChatInput(\"\");\n                // è°ƒç”¨onRequestChangeå›žè°ƒï¼Œé€šçŸ¥çˆ¶ç»„ä»¶ç”¨æˆ·çš„èŠå¤©å†…å®¹\n                if (onRequestChange) {\n                    onRequestChange(code);\n                }\n            }, 1000);\n        } catch (error) {\n            console.error(\"Chat error:\", error);\n        } finally{\n            setIsChatLoading(false);\n        }\n    };\n    const containerClass = isFullscreen ? \"fixed inset-0 z-50 bg-slate-50 dark:bg-slate-950 flex flex-col\" : \"flex flex-col items-center justify-center w-full h-full bg-slate-100 dark:bg-slate-900/50 relative group overflow-hidden transition-colors duration-300\";\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: containerClass,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: `absolute top-4 right-4 z-20 flex flex-col items-end gap-2 transition-opacity ${!isFullscreen && \"opacity-0 group-hover:opacity-100\"} ${error ? \"hidden\" : \"\"}`,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-2\",\n                        children: [\n                            isFullscreen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: toggleFullscreen,\n                                className: \"bg-slate-200/80 dark:bg-slate-800/80 backdrop-blur text-xs px-4 py-2 rounded-full border border-slate-300 dark:border-slate-700 text-slate-700 dark:text-slate-300 hover:text-white hover:bg-red-500 dark:hover:bg-red-600 shadow-lg flex items-center gap-2 font-bold transition-all\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeftIcon_CheckIcon_LinkIcon_MinusIcon_PlusIcon_WrenchIcon_XMarkIcon_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                        className: \"w-4 h-4\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                        lineNumber: 315,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    \"é€€å‡º (ESC)\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                lineNumber: 311,\n                                columnNumber: 17\n                            }, undefined),\n                            !isFullscreen && allowFullscreen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: toggleFullscreen,\n                                className: \"bg-white/80 dark:bg-slate-800/80 backdrop-blur text-xs px-3 py-1.5 rounded-full border border-slate-300 dark:border-slate-700 text-slate-600 dark:text-slate-300 hover:text-brand-600 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-700 shadow-lg flex items-center gap-1.5\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeftIcon_CheckIcon_LinkIcon_MinusIcon_PlusIcon_WrenchIcon_XMarkIcon_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                        className: \"w-3 h-3\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                        lineNumber: 324,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    \"å®žæ—¶é¢„è§ˆ\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                lineNumber: 320,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                        lineNumber: 309,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-1 bg-white/90 dark:bg-slate-800/90 backdrop-blur rounded-lg border border-slate-300 dark:border-slate-700 p-1 shadow-xl\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setShowPalette(!showPalette),\n                                className: `p-1.5 hover:bg-slate-100 dark:hover:bg-slate-700 rounded transition-colors ${showPalette ? \"text-brand-500 bg-brand-50 dark:bg-brand-900/20\" : \"text-slate-500 dark:text-slate-400\"}`,\n                                title: \"é¢œè‰²ç¼–è¾‘å™¨\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeftIcon_CheckIcon_LinkIcon_MinusIcon_PlusIcon_WrenchIcon_XMarkIcon_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                    className: \"w-4 h-4\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                    lineNumber: 333,\n                                    columnNumber: 14\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                lineNumber: 332,\n                                columnNumber: 12\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-px h-4 bg-slate-300 dark:bg-slate-600 mx-1\"\n                            }, void 0, false, {\n                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                lineNumber: 335,\n                                columnNumber: 12\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: zoomOut,\n                                className: \"p-1.5 hover:bg-slate-100 dark:hover:bg-slate-700 rounded text-slate-500 dark:text-slate-400\",\n                                title: \"ç¼©å°\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeftIcon_CheckIcon_LinkIcon_MinusIcon_PlusIcon_WrenchIcon_XMarkIcon_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                    className: \"w-4 h-4\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                    lineNumber: 337,\n                                    columnNumber: 14\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                lineNumber: 336,\n                                columnNumber: 12\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: resetView,\n                                className: \"p-1.5 hover:bg-slate-100 dark:hover:bg-slate-700 rounded text-slate-500 dark:text-slate-400\",\n                                title: \"å¤ä½\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    children: \"\\uD83D\\uDD04\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                    lineNumber: 340,\n                                    columnNumber: 14\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                lineNumber: 339,\n                                columnNumber: 12\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: zoomIn,\n                                className: \"p-1.5 hover:bg-slate-100 dark:hover:bg-slate-700 rounded text-slate-500 dark:text-slate-400\",\n                                title: \"æ”¾å¤§\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeftIcon_CheckIcon_LinkIcon_MinusIcon_PlusIcon_WrenchIcon_XMarkIcon_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                    className: \"w-4 h-4\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                    lineNumber: 343,\n                                    columnNumber: 14\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                lineNumber: 342,\n                                columnNumber: 12\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-px h-4 bg-slate-300 dark:bg-slate-600 mx-1\"\n                            }, void 0, false, {\n                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                lineNumber: 345,\n                                columnNumber: 12\n                            }, undefined),\n                            onRequestChange && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setShowChatDialog(true),\n                                className: \"p-1.5 hover:bg-slate-100 dark:hover:bg-slate-700 rounded text-slate-500 dark:text-slate-400 border-l border-slate-200 dark:border-slate-700 ml-1\",\n                                title: \"æéœ€æ±‚\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    children: \"\\uD83D\\uDCAC\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                    lineNumber: 348,\n                                    columnNumber: 16\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                lineNumber: 347,\n                                columnNumber: 14\n                            }, undefined),\n                            allowFullscreen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: toggleFullscreen,\n                                className: \"p-1.5 hover:bg-slate-100 dark:hover:bg-slate-700 rounded text-slate-500 dark:text-slate-400 border-l border-slate-200 dark:border-slate-700 ml-1\",\n                                children: isFullscreen ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeftIcon_CheckIcon_LinkIcon_MinusIcon_PlusIcon_WrenchIcon_XMarkIcon_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                    className: \"w-4 h-4\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                    lineNumber: 353,\n                                    columnNumber: 32\n                                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeftIcon_CheckIcon_LinkIcon_MinusIcon_PlusIcon_WrenchIcon_XMarkIcon_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                    className: \"w-4 h-4\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                    lineNumber: 353,\n                                    columnNumber: 72\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                lineNumber: 352,\n                                columnNumber: 14\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                        lineNumber: 331,\n                        columnNumber: 9\n                    }, undefined),\n                    showPalette && onUpdateCode && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 shadow-2xl mt-2 w-64 animate-in slide-in-from-top-2 duration-200 flex flex-col overflow-hidden\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"p-3 border-b border-slate-100 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-xs font-bold text-slate-800 dark:text-slate-200 uppercase tracking-wider\",\n                                    children: \"å›¾è¡¨é…è‰²\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                    lineNumber: 362,\n                                    columnNumber: 20\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                lineNumber: 361,\n                                columnNumber: 17\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"p-4 space-y-4 max-h-[300px] overflow-y-auto\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-[10px] font-semibold text-slate-400 mb-2 uppercase\",\n                                                children: \"å…¨å±€è®¾ç½®\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                                lineNumber: 368,\n                                                columnNumber: 23\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"space-y-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center justify-between\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                className: \"text-xs text-slate-600 dark:text-slate-300\",\n                                                                children: \"æ–‡æœ¬é¢œè‰²\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                                                lineNumber: 371,\n                                                                columnNumber: 27\n                                                            }, undefined),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center gap-2\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                    type: \"color\",\n                                                                    className: \"w-6 h-6 rounded cursor-pointer border-0 p-0 bg-transparent\",\n                                                                    value: themeEdits.textColor,\n                                                                    onChange: (e)=>setThemeEdits({\n                                                                            ...themeEdits,\n                                                                            textColor: e.target.value\n                                                                        })\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                                                    lineNumber: 373,\n                                                                    columnNumber: 30\n                                                                }, undefined)\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                                                lineNumber: 372,\n                                                                columnNumber: 27\n                                                            }, undefined)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                                        lineNumber: 370,\n                                                        columnNumber: 25\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center justify-between\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                className: \"text-xs text-slate-600 dark:text-slate-300\",\n                                                                children: \"çº¿æ¡/è¾¹æ¡†\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                                                lineNumber: 377,\n                                                                columnNumber: 27\n                                                            }, undefined),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center gap-2\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                    type: \"color\",\n                                                                    className: \"w-6 h-6 rounded cursor-pointer border-0 p-0 bg-transparent\",\n                                                                    value: themeEdits.lineColor,\n                                                                    onChange: (e)=>setThemeEdits({\n                                                                            ...themeEdits,\n                                                                            lineColor: e.target.value\n                                                                        })\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                                                    lineNumber: 379,\n                                                                    columnNumber: 30\n                                                                }, undefined)\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                                                lineNumber: 378,\n                                                                columnNumber: 28\n                                                            }, undefined)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                                        lineNumber: 376,\n                                                        columnNumber: 25\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center justify-between\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                className: \"text-xs text-slate-600 dark:text-slate-300\",\n                                                                children: \"é»˜è®¤å¡«å……\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                                                lineNumber: 383,\n                                                                columnNumber: 27\n                                                            }, undefined),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center gap-2\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                    type: \"color\",\n                                                                    className: \"w-6 h-6 rounded cursor-pointer border-0 p-0 bg-transparent\",\n                                                                    value: themeEdits.primaryColor,\n                                                                    onChange: (e)=>setThemeEdits({\n                                                                            ...themeEdits,\n                                                                            primaryColor: e.target.value\n                                                                        })\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                                                    lineNumber: 385,\n                                                                    columnNumber: 30\n                                                                }, undefined)\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                                                lineNumber: 384,\n                                                                columnNumber: 28\n                                                            }, undefined)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                                        lineNumber: 382,\n                                                        columnNumber: 26\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                                lineNumber: 369,\n                                                columnNumber: 23\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                        lineNumber: 367,\n                                        columnNumber: 21\n                                    }, undefined),\n                                    detectedColors.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-[10px] font-semibold text-slate-400 mb-2 uppercase\",\n                                                children: \"æ›¿æ¢çŽ°æœ‰é¢œè‰²\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                                lineNumber: 394,\n                                                columnNumber: 25\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"grid grid-cols-5 gap-2\",\n                                                children: detectedColors.map((color)=>{\n                                                    const activeColor = colorReplacements[color] || color;\n                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"relative group w-8 h-8 rounded-full shadow-sm border border-slate-200 dark:border-slate-600 overflow-hidden ring-offset-1 dark:ring-offset-slate-800 hover:ring-2 ring-brand-500 transition-all\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                            type: \"color\",\n                                                            value: activeColor,\n                                                            title: `Replace ${color}`,\n                                                            onChange: (e)=>setColorReplacements((prev)=>({\n                                                                        ...prev,\n                                                                        [color]: e.target.value\n                                                                    })),\n                                                            className: \"absolute inset-0 w-[150%] h-[150%] -top-1/4 -left-1/4 cursor-pointer p-0 border-0\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                                            lineNumber: 400,\n                                                            columnNumber: 39\n                                                        }, undefined)\n                                                    }, color, false, {\n                                                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                                        lineNumber: 399,\n                                                        columnNumber: 35\n                                                    }, undefined);\n                                                })\n                                            }, void 0, false, {\n                                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                                lineNumber: 395,\n                                                columnNumber: 25\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                        lineNumber: 393,\n                                        columnNumber: 23\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                lineNumber: 365,\n                                columnNumber: 17\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"p-3 bg-slate-50 dark:bg-slate-800/50 border-t border-slate-100 dark:border-slate-700 flex gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: cancelColors,\n                                        className: \"flex-1 py-1.5 px-3 text-xs font-medium text-slate-600 dark:text-slate-300 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded hover:bg-slate-50 dark:hover:bg-slate-600 transition-colors flex items-center justify-center gap-1\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeftIcon_CheckIcon_LinkIcon_MinusIcon_PlusIcon_WrenchIcon_XMarkIcon_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                                className: \"w-3 h-3\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                                lineNumber: 421,\n                                                columnNumber: 22\n                                            }, undefined),\n                                            \" å–æ¶ˆ\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                        lineNumber: 417,\n                                        columnNumber: 20\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: applyColors,\n                                        className: \"flex-1 py-1.5 px-3 text-xs font-medium text-white bg-brand-600 hover:bg-brand-500 rounded shadow-sm transition-colors flex items-center justify-center gap-1\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeftIcon_CheckIcon_LinkIcon_MinusIcon_PlusIcon_WrenchIcon_XMarkIcon_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                className: \"w-3 h-3\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                                lineNumber: 427,\n                                                columnNumber: 22\n                                            }, undefined),\n                                            \" åº”ç”¨æ›´æ”¹\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                        lineNumber: 423,\n                                        columnNumber: 20\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                lineNumber: 416,\n                                columnNumber: 17\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                        lineNumber: 360,\n                        columnNumber: 13\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                lineNumber: 306,\n                columnNumber: 7\n            }, undefined),\n            error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute top-4 left-4 right-4 bg-red-50 border border-red-200 dark:bg-red-500/10 dark:border-red-500/50 text-red-700 dark:text-red-200 p-3 rounded backdrop-blur-md z-30 text-xs font-mono break-all flex items-start justify-between gap-4 shadow-lg\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"font-bold mb-1\",\n                                children: \"æ¸²æŸ“é”™è¯¯:\"\n                            }, void 0, false, {\n                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                lineNumber: 438,\n                                columnNumber: 14\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                children: error\n                            }, void 0, false, {\n                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                lineNumber: 439,\n                                columnNumber: 14\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                        lineNumber: 437,\n                        columnNumber: 11\n                    }, undefined),\n                    onFixError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>onFixError(code, error),\n                        disabled: isFixing,\n                        className: \"flex items-center gap-1 bg-red-100 hover:bg-red-200 dark:bg-red-500/20 dark:hover:bg-red-500/40 border border-red-200 dark:border-red-500/50 text-red-800 dark:text-red-100 px-3 py-1.5 rounded transition-colors whitespace-nowrap text-xs font-bold\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeftIcon_CheckIcon_LinkIcon_MinusIcon_PlusIcon_WrenchIcon_XMarkIcon_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                className: `w-4 h-4 ${isFixing ? \"animate-spin\" : \"\"}`\n                            }, void 0, false, {\n                                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                lineNumber: 447,\n                                columnNumber: 15\n                            }, undefined),\n                            isFixing ? \"ä¿®å¤ä¸­...\" : \"AI è‡ªåŠ¨ä¿®å¤\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                        lineNumber: 442,\n                        columnNumber: 13\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                lineNumber: 436,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: containerRef,\n                className: `w-full h-full overflow-hidden cursor-grab active:cursor-grabbing ${error ? \"opacity-30 pointer-events-none\" : \"opacity-100\"}`,\n                style: {\n                    backgroundColor: \"#ffffff\",\n                    backgroundImage: `\n            linear-gradient(to right, rgba(99, 102, 241, 0.08) 1px, transparent 1px),\n            linear-gradient(to bottom, rgba(99, 102, 241, 0.08) 1px, transparent 1px)\n          `,\n                    backgroundSize: \"20px 20px\",\n                    backgroundPosition: \"0 0, 0 0\"\n                },\n                onWheel: handleWheel,\n                onMouseDown: handleMouseDown,\n                onMouseMove: handleMouseMove,\n                onMouseUp: handleMouseUp,\n                onMouseLeave: handleMouseUp,\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"w-full h-full flex items-center justify-center origin-center transition-transform duration-75 ease-out\",\n                    style: {\n                        transform: `translate(${position.x}px, ${position.y}px) scale(${scale})`\n                    },\n                    dangerouslySetInnerHTML: {\n                        __html: svgContent\n                    },\n                    id: \"mermaid-chart-container\"\n                }, void 0, false, {\n                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                    lineNumber: 473,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                lineNumber: 455,\n                columnNumber: 7\n            }, undefined),\n            !isFullscreen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute bottom-4 left-4 text-[10px] text-slate-400 dark:text-slate-500 select-none pointer-events-none\",\n                children: \"Ctrl + æ»šè½®ç¼©æ”¾ | æ‹–æ‹½ç§»åŠ¨\"\n            }, void 0, false, {\n                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                lineNumber: 485,\n                columnNumber: 9\n            }, undefined),\n            showChatDialog && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-white dark:bg-slate-900 rounded-lg shadow-2xl max-w-md w-full max-h-[80vh] flex flex-col\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-4 border-b border-slate-200 dark:border-slate-700 flex items-center justify-between\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"font-bold text-lg text-slate-800 dark:text-slate-200\",\n                                    children: \"æéœ€æ±‚\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                    lineNumber: 496,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>setShowChatDialog(false),\n                                    className: \"p-1.5 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full text-slate-500 dark:text-slate-400\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeftIcon_CheckIcon_LinkIcon_MinusIcon_PlusIcon_WrenchIcon_XMarkIcon_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                        className: \"w-5 h-5\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                        lineNumber: 501,\n                                        columnNumber: 17\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                    lineNumber: 497,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                            lineNumber: 495,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-4 flex-1 overflow-y-auto\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-sm text-slate-600 dark:text-slate-400 mb-4\",\n                                    children: \"è¯·æè¿°æ‚¨å¯¹å½“å‰æµç¨‹å›¾çš„ä¿®æ”¹éœ€æ±‚ï¼Œæˆ‘ä¼šæ ¹æ®æ‚¨çš„æè¿°è¿›è¡Œè°ƒæ•´ã€‚\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                    lineNumber: 507,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                    value: chatInput,\n                                    onChange: (e)=>setChatInput(e.target.value),\n                                    placeholder: \"ä¾‹å¦‚ï¼šæˆ‘æƒ³åœ¨æµç¨‹å›¾ä¸­æ·»åŠ ä¸€ä¸ªæ–°çš„æ­¥éª¤ï¼Œç”¨äºŽéªŒè¯ç”¨æˆ·èº«ä»½...\",\n                                    className: \"w-full p-3 border border-slate-300 dark:border-slate-700 rounded-lg bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-primary-500 resize-none h-40\",\n                                    disabled: isChatLoading\n                                }, void 0, false, {\n                                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                    lineNumber: 510,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                            lineNumber: 506,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-4 border-t border-slate-200 dark:border-slate-700 flex items-center justify-end gap-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>setShowChatDialog(false),\n                                    className: \"px-4 py-2 text-sm font-medium text-slate-700 dark:text-slate-300 bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 rounded transition-colors\",\n                                    disabled: isChatLoading,\n                                    children: \"å–æ¶ˆ\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                    lineNumber: 521,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleChatSubmit,\n                                    className: \"px-4 py-2 text-sm font-medium text-white bg-primary-500 hover:bg-primary-600 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed\",\n                                    disabled: isChatLoading || !chatInput.trim(),\n                                    children: isChatLoading ? \"å¤„ç†ä¸­...\" : \"æäº¤éœ€æ±‚\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                                    lineNumber: 528,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                            lineNumber: 520,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                    lineNumber: 493,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n                lineNumber: 492,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/components/MermaidRenderer.tsx\",\n        lineNumber: 303,\n        columnNumber: 5\n    }, undefined);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9NZXJtYWlkUmVuZGVyZXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBb0U7QUFTL0I7QUFrQnJDLDBDQUEwQztBQUMxQyxNQUFNWSxtQkFBbUIsQ0FBQ0MsTUFBY0M7SUFDdEMsTUFBTUMsWUFBWTtJQUNsQixNQUFNQyxRQUFRSCxLQUFLRyxLQUFLLENBQUNEO0lBRXpCLElBQUlFLFNBQVM7UUFBRUMsZ0JBQWdCLENBQUM7UUFBNkJDLE9BQU87SUFBTztJQUMzRSxJQUFJQyxTQUFTO0lBQ2IsSUFBSUMsU0FBU1I7SUFFYixJQUFJRyxPQUFPO1FBQ1QsSUFBSTtZQUNGLHdIQUF3SDtZQUN4SCxpREFBaUQ7WUFDakQsTUFBTU0saUJBQWlCQyxLQUFLQyxLQUFLLENBQUNSLEtBQUssQ0FBQyxFQUFFO1lBQzFDQyxTQUFTO2dCQUFFLEdBQUdBLE1BQU07Z0JBQUUsR0FBR0ssY0FBYztZQUFDO1lBQ3hDLElBQUksQ0FBQ0wsT0FBT0MsY0FBYyxFQUFFRCxPQUFPQyxjQUFjLEdBQUcsQ0FBQztZQUVyREUsU0FBU1AsS0FBS1ksU0FBUyxDQUFDLEdBQUdULE1BQU1VLEtBQUs7WUFDdENMLFNBQVNSLEtBQUtZLFNBQVMsQ0FBQ1QsTUFBTVUsS0FBSyxHQUFJVixLQUFLLENBQUMsRUFBRSxDQUFDVyxNQUFNO1FBQ3hELEVBQUUsT0FBT0MsR0FBRztZQUNWQyxRQUFRQyxJQUFJLENBQUMsd0NBQXdDRjtRQUN2RDtJQUNGO0lBRUEsbUJBQW1CO0lBQ25CRyxPQUFPQyxPQUFPLENBQUNsQixlQUFlbUIsT0FBTyxDQUFDLENBQUMsQ0FBQ0MsS0FBS0MsTUFBTTtRQUNqRGxCLE9BQU9DLGNBQWMsQ0FBQ2dCLElBQUksR0FBR0M7SUFDL0I7SUFFQSxjQUFjO0lBQ2QsTUFBTUMsZUFBZSxDQUFDLFNBQVMsRUFBRWIsS0FBS2MsU0FBUyxDQUFDcEIsUUFBUSxJQUFJLENBQUM7SUFDN0QsT0FBTyxDQUFDLEVBQUVHLE9BQU8s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ekk7b0JBQVc7b0JBQzlDMEksSUFBRzs7Ozs7Ozs7Ozs7WUFLUCxDQUFDNUgsOEJBQ0EsOERBQUNnRztnQkFBSUMsV0FBVTswQkFBMEc7Ozs7OztZQU0xSHRGLGdDQUNDLDhEQUFDcUY7Z0JBQUlDLFdBQVU7MEJBQ2IsNEVBQUNEO29CQUFJQyxXQUFVOztzQ0FFYiw4REFBQ0Q7NEJBQUlDLFdBQVU7OzhDQUNiLDhEQUFDSTtvQ0FBR0osV0FBVTs4Q0FBdUQ7Ozs7Ozs4Q0FDckUsOERBQUNwQjtvQ0FDQ3FCLFNBQVMsSUFBTXRGLGtCQUFrQjtvQ0FDakNxRixXQUFVOzhDQUVWLDRFQUFDcEosa0tBQVNBO3dDQUFDb0osV0FBVTs7Ozs7Ozs7Ozs7Ozs7Ozs7c0NBS3pCLDhEQUFDRDs0QkFBSUMsV0FBVTs7OENBQ2IsOERBQUNLO29DQUFFTCxXQUFVOzhDQUFrRDs7Ozs7OzhDQUcvRCw4REFBQzRCO29DQUNDeEosT0FBT3dDO29DQUNQNkYsVUFBVSxDQUFDNUksSUFBTWdELGFBQWFoRCxFQUFFNkksTUFBTSxDQUFDdEksS0FBSztvQ0FDNUN5SixhQUFZO29DQUNaN0IsV0FBVTtvQ0FDVmUsVUFBVWpHOzs7Ozs7Ozs7Ozs7c0NBS2QsOERBQUNpRjs0QkFBSUMsV0FBVTs7OENBQ2IsOERBQUNwQjtvQ0FDQ3FCLFNBQVMsSUFBTXRGLGtCQUFrQjtvQ0FDakNxRixXQUFVO29DQUNWZSxVQUFVakc7OENBQ1g7Ozs7Ozs4Q0FHRCw4REFBQzhEO29DQUNDcUIsU0FBU0o7b0NBQ1RHLFdBQVU7b0NBQ1ZlLFVBQVVqRyxpQkFBaUIsQ0FBQ0YsVUFBVXJDLElBQUk7OENBRXpDdUMsZ0JBQWdCLFdBQVc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBUTVDLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXJtYWlkLWFpLWFyY2hpdGVjdC8uL3NyYy9jb21wb25lbnRzL01lcm1haWRSZW5kZXJlci50c3g/NjcxMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgXG4gIFdyZW5jaEljb24sIFxuICBQbHVzSWNvbiwgXG4gIE1pbnVzSWNvbixcbiAgTGlua0ljb24sXG4gIEFycm93TGVmdEljb24sXG4gIENoZWNrSWNvbixcbiAgWE1hcmtJY29uXG59IGZyb20gJ0BoZXJvaWNvbnMvcmVhY3QvMjQvb3V0bGluZSc7XG5cbmludGVyZmFjZSBNZXJtYWlkUmVuZGVyZXJQcm9wcyB7XG4gIGNvZGU6IHN0cmluZztcbiAgdWlkPzogc3RyaW5nO1xuICBvbkZpeEVycm9yPzogKGNvZGU6IHN0cmluZywgZXJyb3I6IHN0cmluZykgPT4gdm9pZDtcbiAgaXNGaXhpbmc/OiBib29sZWFuO1xuICBhbGxvd0Z1bGxzY3JlZW4/OiBib29sZWFuOyBcbiAgb25VcGRhdGVDb2RlPzogKG5ld0NvZGU6IHN0cmluZykgPT4gdm9pZDtcbiAgb25SZXF1ZXN0Q2hhbmdlPzogKGNvZGU6IHN0cmluZykgPT4gdm9pZDtcbn1cblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgV2luZG93IHtcbiAgICBtZXJtYWlkOiBhbnk7XG4gIH1cbn1cblxuLy8gSGVscGVyIHRvIG1hbmFnZSBtZXJtYWlkIGluaXQgZGlyZWN0aXZlXG5jb25zdCB1cGRhdGVJbml0Q29uZmlnID0gKGNvZGU6IHN0cmluZywgY29uZmlnVXBkYXRlczogUmVjb3JkPHN0cmluZywgc3RyaW5nPikgPT4ge1xuICBjb25zdCBpbml0UmVnZXggPSAvJSVcXHtpbml0Olxccyooe1tcXHNcXFNdKj99KVxccypcXH0lJS87XG4gIGNvbnN0IG1hdGNoID0gY29kZS5tYXRjaChpbml0UmVnZXgpO1xuICBcbiAgbGV0IGNvbmZpZyA9IHsgdGhlbWVWYXJpYWJsZXM6IHt9IGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz4sIHRoZW1lOiAnYmFzZScgfTtcbiAgbGV0IHByZWZpeCA9ICcnO1xuICBsZXQgc3VmZml4ID0gY29kZTtcblxuICBpZiAobWF0Y2gpIHtcbiAgICB0cnkge1xuICAgICAgLy8gUmVsYXhlZCBKU09OIHBhcnNpbmcgKGhhbmRsaW5nIHBvdGVudGlhbCBub24tc3RyaWN0IEpTT04gaW4gdXNlciBjb2RlIGlmIHBvc3NpYmxlLCBidXQgc3RhbmRhcmQgSlNPTi5wYXJzZSBpcyBzYWZlc3QpXG4gICAgICAvLyBXZSBhc3N1bWUgdGhlIEFJIGdlbmVyYXRlcyB2YWxpZCBKU09OIGluIGluaXQuXG4gICAgICBjb25zdCBleGlzdGluZ0NvbmZpZyA9IEpTT04ucGFyc2UobWF0Y2hbMV0pO1xuICAgICAgY29uZmlnID0geyAuLi5jb25maWcsIC4uLmV4aXN0aW5nQ29uZmlnIH07XG4gICAgICBpZiAoIWNvbmZpZy50aGVtZVZhcmlhYmxlcykgY29uZmlnLnRoZW1lVmFyaWFibGVzID0ge307XG4gICAgICBcbiAgICAgIHByZWZpeCA9IGNvZGUuc3Vic3RyaW5nKDAsIG1hdGNoLmluZGV4KTtcbiAgICAgIHN1ZmZpeCA9IGNvZGUuc3Vic3RyaW5nKG1hdGNoLmluZGV4ISArIG1hdGNoWzBdLmxlbmd0aCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS53YXJuKFwiRmFpbGVkIHRvIHBhcnNlIGV4aXN0aW5nIGluaXQgY29uZmlnXCIsIGUpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFVwZGF0ZSB2YXJpYWJsZXNcbiAgT2JqZWN0LmVudHJpZXMoY29uZmlnVXBkYXRlcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgY29uZmlnLnRoZW1lVmFyaWFibGVzW2tleV0gPSB2YWx1ZTtcbiAgfSk7XG5cbiAgLy8gUmUtYXNzZW1ibGVcbiAgY29uc3QgbmV3SW5pdEJsb2NrID0gYCUle2luaXQ6ICR7SlNPTi5zdHJpbmdpZnkoY29uZmlnKX0gfSUlYDtcbiAgcmV0dXJuIGAke3ByZWZpeH0ke25ld0luaXRCbG9ja31cXG4ke3N1ZmZpeC50cmltKCl9YDtcbn07XG5cbmNvbnN0IGdldEluaXRWYXJpYWJsZSA9IChjb2RlOiBzdHJpbmcsIGtleTogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgIGNvbnN0IGluaXRSZWdleCA9IC8lJVxce2luaXQ6XFxzKih7W1xcc1xcU10qP30pXFxzKlxcfSUlLztcbiAgIGNvbnN0IG1hdGNoID0gY29kZS5tYXRjaChpbml0UmVnZXgpO1xuICAgaWYgKG1hdGNoKSB7XG4gICAgIHRyeSB7XG4gICAgICAgY29uc3QgY29uZmlnID0gSlNPTi5wYXJzZShtYXRjaFsxXSk7XG4gICAgICAgcmV0dXJuIGNvbmZpZy50aGVtZVZhcmlhYmxlcz8uW2tleV0gfHwgJyc7XG4gICAgIH0gY2F0Y2ggKGUpIHsgcmV0dXJuICcnOyB9XG4gICB9XG4gICByZXR1cm4gJyc7XG59O1xuXG5leHBvcnQgY29uc3QgTWVybWFpZFJlbmRlcmVyOiBSZWFjdC5GQzxNZXJtYWlkUmVuZGVyZXJQcm9wcz4gPSAoeyBcbiAgY29kZSwgXG4gIHVpZCwgXG4gIG9uRml4RXJyb3IsIFxuICBpc0ZpeGluZyxcbiAgYWxsb3dGdWxsc2NyZWVuID0gdHJ1ZSxcbiAgb25VcGRhdGVDb2RlLFxuICBvblJlcXVlc3RDaGFuZ2Vcbn0pID0+IHtcbiAgY29uc3QgY29udGFpbmVyUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3QgW3N2Z0NvbnRlbnQsIHNldFN2Z0NvbnRlbnRdID0gdXNlU3RhdGU8c3RyaW5nPignJyk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIFxuICAvLyBWaWV3IFN0YXRlXG4gIGNvbnN0IFtzY2FsZSwgc2V0U2NhbGVdID0gdXNlU3RhdGUoMSk7XG4gIGNvbnN0IFtwb3NpdGlvbiwgc2V0UG9zaXRpb25dID0gdXNlU3RhdGUoeyB4OiAwLCB5OiAwIH0pO1xuICBjb25zdCBbaXNEcmFnZ2luZywgc2V0SXNEcmFnZ2luZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtkcmFnU3RhcnQsIHNldERyYWdTdGFydF0gPSB1c2VTdGF0ZSh7IHg6IDAsIHk6IDAgfSk7XG4gIGNvbnN0IFtpc0Z1bGxzY3JlZW4sIHNldElzRnVsbHNjcmVlbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIFxuICAvLyBDb2xvciBQYWxldHRlIFN0YXRlXG4gIGNvbnN0IFtzaG93UGFsZXR0ZSwgc2V0U2hvd1BhbGV0dGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAvLyBXZSBrZWVwIGEgbG9jYWwgbWFwIG9mIHJlcGxhY2VtZW50cyB0byBhcHBseTogb2xkQ29sb3IgLT4gbmV3Q29sb3JcbiAgY29uc3QgW2NvbG9yUmVwbGFjZW1lbnRzLCBzZXRDb2xvclJlcGxhY2VtZW50c10gPSB1c2VTdGF0ZTxSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+Pih7fSk7XG4gIC8vIFdlIGtlZXAgdHJhY2sgb2YgZ2xvYmFsIHRoZW1lIHZhcmlhYmxlIGVkaXRzXG4gIGNvbnN0IFt0aGVtZUVkaXRzLCBzZXRUaGVtZUVkaXRzXSA9IHVzZVN0YXRlPHsgdGV4dENvbG9yOiBzdHJpbmcsIHByaW1hcnlDb2xvcjogc3RyaW5nLCBsaW5lQ29sb3I6IHN0cmluZyB9Pih7XG4gICAgdGV4dENvbG9yOiAnJyxcbiAgICBwcmltYXJ5Q29sb3I6ICcnLFxuICAgIGxpbmVDb2xvcjogJydcbiAgfSk7XG4gIFxuICAvLyBDaGF0IERpYWxvZyBTdGF0ZVxuICBjb25zdCBbc2hvd0NoYXREaWFsb2csIHNldFNob3dDaGF0RGlhbG9nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NoYXRJbnB1dCwgc2V0Q2hhdElucHV0XSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2lzQ2hhdExvYWRpbmcsIHNldElzQ2hhdExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIC8vIEV4dHJhY3QgZGV0ZWN0ZWQgaGFyZGNvZGVkIGhleCBjb2xvcnNcbiAgY29uc3QgZGV0ZWN0ZWRDb2xvcnMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBoZXhSZWdleCA9IC8jKFswLTlhLWZBLUZdezMsNn0pXFxiL2c7XG4gICAgY29uc3QgbWF0Y2hlcyA9IGNvZGUubWF0Y2goaGV4UmVnZXgpIHx8IFtdO1xuICAgIHJldHVybiBBcnJheS5mcm9tKG5ldyBTZXQobWF0Y2hlcykpO1xuICB9LCBbY29kZV0pO1xuXG4gIC8vIFN5bmMgdGhlbWUgZWRpdHMgd2l0aCBjdXJyZW50IGNvZGUgd2hlbiBwYWxldHRlIG9wZW5zXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNob3dQYWxldHRlKSB7XG4gICAgICBzZXRUaGVtZUVkaXRzKHtcbiAgICAgICAgdGV4dENvbG9yOiBnZXRJbml0VmFyaWFibGUoY29kZSwgJ3RleHRDb2xvcicpIHx8ICcjMzMzMzMzJyxcbiAgICAgICAgcHJpbWFyeUNvbG9yOiBnZXRJbml0VmFyaWFibGUoY29kZSwgJ3ByaW1hcnlDb2xvcicpIHx8ICcjZmZmZmZmJyxcbiAgICAgICAgbGluZUNvbG9yOiBnZXRJbml0VmFyaWFibGUoY29kZSwgJ2xpbmVDb2xvcicpIHx8ICcjMzMzMzMzJyxcbiAgICAgIH0pO1xuICAgICAgc2V0Q29sb3JSZXBsYWNlbWVudHMoe30pO1xuICAgIH1cbiAgfSwgW3Nob3dQYWxldHRlLCBjb2RlXSk7XG5cbiAgLy8gSGFuZGxlIEVTQ1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZUtleURvd24gPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgICAgaWYgKHNob3dQYWxldHRlKSBzZXRTaG93UGFsZXR0ZShmYWxzZSk7XG4gICAgICAgICBlbHNlIGlmIChpc0Z1bGxzY3JlZW4pIHRvZ2dsZUZ1bGxzY3JlZW4oKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5RG93bik7XG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5RG93bik7XG4gIH0sIFtpc0Z1bGxzY3JlZW4sIHNob3dQYWxldHRlXSk7XG5cbiAgLy8gVXBkYXRlIGdyaWQgdmlzaWJpbGl0eSBiYXNlZCBvbiBkYXJrIG1vZGVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB1cGRhdGVHcmlkU3R5bGUgPSAoKSA9PiB7XG4gICAgICBjb25zdCBjb250YWluZXIgPSBjb250YWluZXJSZWYuY3VycmVudDtcbiAgICAgIGlmIChjb250YWluZXIpIHtcbiAgICAgICAgY29uc3QgaXNEYXJrID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnZGFyaycpO1xuICAgICAgICBpZiAoaXNEYXJrKSB7XG4gICAgICAgICAgY29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjMGYxNzJhJztcbiAgICAgICAgICBjb250YWluZXIuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYFxuICAgICAgICAgICAgbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCByZ2JhKDk5LCAxMDIsIDI0MSwgMC4xNSkgMXB4LCB0cmFuc3BhcmVudCAxcHgpLFxuICAgICAgICAgICAgbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgcmdiYSg5OSwgMTAyLCAyNDEsIDAuMTUpIDFweCwgdHJhbnNwYXJlbnQgMXB4KVxuICAgICAgICAgIGA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjZmZmZmZmJztcbiAgICAgICAgICBjb250YWluZXIuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYFxuICAgICAgICAgICAgbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCByZ2JhKDk5LCAxMDIsIDI0MSwgMC4wOCkgMXB4LCB0cmFuc3BhcmVudCAxcHgpLFxuICAgICAgICAgICAgbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgcmdiYSg5OSwgMTAyLCAyNDEsIDAuMDgpIDFweCwgdHJhbnNwYXJlbnQgMXB4KVxuICAgICAgICAgIGA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdXBkYXRlR3JpZFN0eWxlKCk7XG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcih1cGRhdGVHcmlkU3R5bGUpO1xuICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCB7IGF0dHJpYnV0ZXM6IHRydWUsIGF0dHJpYnV0ZUZpbHRlcjogWydjbGFzcyddIH0pO1xuICAgIHJldHVybiAoKSA9PiBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gIH0sIFtdKTtcblxuICAvLyBSZW5kZXIgTG9naWNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQgYWN0aXZlID0gdHJ1ZTtcbiAgICBjb25zdCByZW5kZXJEaWFncmFtID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFjb2RlIHx8ICFjb250YWluZXJSZWYuY3VycmVudCB8fCAhd2luZG93Lm1lcm1haWQpIHJldHVybjtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICAgIGNvbnN0IGlzRGFyayA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2RhcmsnKTtcbiAgICAgICAgXG4gICAgICAgIC8vIElmIHRoZSB1c2VyIGhhcyBleHBsaWNpdGx5IHNldCB0aGVtZSB2YXJpYWJsZXMgaW4gdGhlIGNvZGUgKHZpYSBvdXIgdG9vbCksIHVzZSAnYmFzZScgdG8gcmVzcGVjdCB0aGVtLlxuICAgICAgICAvLyBPdGhlcndpc2UgdXNlIGRlZmF1bHQvZGFyay5cbiAgICAgICAgY29uc3QgaGFzSW5pdCA9IC8lJVxce2luaXQ6Ly50ZXN0KGNvZGUpO1xuICAgICAgICBjb25zdCB0aGVtZSA9IGhhc0luaXQgPyAnYmFzZScgOiAoaXNEYXJrID8gJ2RhcmsnIDogJ2RlZmF1bHQnKTtcblxuICAgICAgICB3aW5kb3cubWVybWFpZC5pbml0aWFsaXplKHsgXG4gICAgICAgICAgc3RhcnRPbkxvYWQ6IGZhbHNlLCBcbiAgICAgICAgICB0aGVtZTogdGhlbWUsIFxuICAgICAgICAgIHNlY3VyaXR5TGV2ZWw6ICdsb29zZScsXG4gICAgICAgICAgZm9udEZhbWlseTogJ0ZpcmEgQ29kZSwgbW9ub3NwYWNlJyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgdW5pcXVlSWQgPSBgbWVybWFpZC0ke3VpZCB8fCBEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA2KX1gO1xuICAgICAgICBjb25zdCB7IHN2ZyB9ID0gYXdhaXQgd2luZG93Lm1lcm1haWQucmVuZGVyKHVuaXF1ZUlkLCBjb2RlKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChhY3RpdmUpIHtcbiAgICAgICAgICBzZXRTdmdDb250ZW50KHN2Zyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICAgIGlmIChhY3RpdmUpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJNZXJtYWlkIFJlbmRlciBFcnJvcjpcIiwgZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgIHNldEVycm9yKGVyci5tZXNzYWdlIHx8IFwi6K+t5rOV6ZSZ6K+vIChTeW50YXggRXJyb3IpXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHRpbWVvdXRJZCA9IHNldFRpbWVvdXQocmVuZGVyRGlhZ3JhbSwgMTAwKTsgXG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihyZW5kZXJEaWFncmFtKTtcbiAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgeyBhdHRyaWJ1dGVzOiB0cnVlLCBhdHRyaWJ1dGVGaWx0ZXI6IFsnY2xhc3MnXSB9KTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBhY3RpdmUgPSBmYWxzZTtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgIH07XG4gIH0sIFtjb2RlLCB1aWRdKTtcblxuICAvLyBDb250cm9sc1xuICBjb25zdCBoYW5kbGVXaGVlbCA9IChlOiBSZWFjdC5XaGVlbEV2ZW50KSA9PiB7XG4gICAgaWYgKGUuY3RybEtleSB8fCBlLm1ldGFLZXkgfHwgaXNGdWxsc2NyZWVuIHx8IHRydWUpIHsgXG4gICAgICBjb25zdCBzZW5zaXRpdml0eSA9IDAuMDAxO1xuICAgICAgY29uc3QgbmV3U2NhbGUgPSBNYXRoLm1pbihNYXRoLm1heCgwLjEsIHNjYWxlIC0gZS5kZWx0YVkgKiBzZW5zaXRpdml0eSksIDEwKTtcbiAgICAgIHNldFNjYWxlKG5ld1NjYWxlKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGhhbmRsZU1vdXNlRG93biA9IChlOiBSZWFjdC5Nb3VzZUV2ZW50KSA9PiB7XG4gICAgaWYgKGUuYnV0dG9uICE9PSAwKSByZXR1cm47IFxuICAgIHNldElzRHJhZ2dpbmcodHJ1ZSk7XG4gICAgc2V0RHJhZ1N0YXJ0KHsgeDogZS5jbGllbnRYIC0gcG9zaXRpb24ueCwgeTogZS5jbGllbnRZIC0gcG9zaXRpb24ueSB9KTtcbiAgfTtcbiAgY29uc3QgaGFuZGxlTW91c2VNb3ZlID0gKGU6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHtcbiAgICBpZiAoaXNEcmFnZ2luZykge1xuICAgICAgc2V0UG9zaXRpb24oeyB4OiBlLmNsaWVudFggLSBkcmFnU3RhcnQueCwgeTogZS5jbGllbnRZIC0gZHJhZ1N0YXJ0LnkgfSk7XG4gICAgfVxuICB9O1xuICBjb25zdCBoYW5kbGVNb3VzZVVwID0gKCkgPT4gc2V0SXNEcmFnZ2luZyhmYWxzZSk7XG4gIGNvbnN0IHpvb21JbiA9ICgpID0+IHNldFNjYWxlKHMgPT4gTWF0aC5taW4ocyArIDAuMiwgMTApKTtcbiAgY29uc3Qgem9vbU91dCA9ICgpID0+IHNldFNjYWxlKHMgPT4gTWF0aC5tYXgocyAtIDAuMiwgMC4xKSk7XG4gIGNvbnN0IHJlc2V0VmlldyA9ICgpID0+IHsgc2V0U2NhbGUoMSk7IHNldFBvc2l0aW9uKHsgeDogMCwgeTogMCB9KTsgfTtcbiAgY29uc3QgdG9nZ2xlRnVsbHNjcmVlbiA9ICgpID0+IHtcbiAgICBpZiAoIWFsbG93RnVsbHNjcmVlbikgcmV0dXJuO1xuICAgIHNldElzRnVsbHNjcmVlbighaXNGdWxsc2NyZWVuKTtcbiAgICBpZiAoIWlzRnVsbHNjcmVlbikgeyBzZXRTY2FsZSgxKTsgc2V0UG9zaXRpb24oeyB4OiAwLCB5OiAwIH0pOyB9XG4gIH07XG5cbiAgLy8gQ29sb3IgTG9naWNcbiAgY29uc3QgYXBwbHlDb2xvcnMgPSAoKSA9PiB7XG4gICAgaWYgKCFvblVwZGF0ZUNvZGUpIHJldHVybjtcbiAgICBsZXQgbmV3Q29kZSA9IGNvZGU7XG5cbiAgICAvLyAxLiBBcHBseSBnbG9iYWwgdGhlbWUgZWRpdHNcbiAgICBjb25zdCB1cGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgaWYgKHRoZW1lRWRpdHMudGV4dENvbG9yKSB1cGRhdGVzWydwcmltYXJ5VGV4dENvbG9yJ10gPSB0aGVtZUVkaXRzLnRleHRDb2xvcjtcbiAgICBpZiAodGhlbWVFZGl0cy5wcmltYXJ5Q29sb3IpIHVwZGF0ZXNbJ3ByaW1hcnlDb2xvciddID0gdGhlbWVFZGl0cy5wcmltYXJ5Q29sb3I7XG4gICAgaWYgKHRoZW1lRWRpdHMubGluZUNvbG9yKSB1cGRhdGVzWydsaW5lQ29sb3InXSA9IHRoZW1lRWRpdHMubGluZUNvbG9yO1xuICAgIFxuICAgIC8vIE9ubHkgdXBkYXRlIGlmIHdlIGhhdmUgdmFsdWVzXG4gICAgaWYgKE9iamVjdC5rZXlzKHVwZGF0ZXMpLmxlbmd0aCA+IDApIHtcbiAgICAgICBuZXdDb2RlID0gdXBkYXRlSW5pdENvbmZpZyhuZXdDb2RlLCB1cGRhdGVzKTtcbiAgICB9XG5cbiAgICAvLyAyLiBBcHBseSBleHBsaWNpdCBoZXggcmVwbGFjZW1lbnRzXG4gICAgT2JqZWN0LmVudHJpZXMoY29sb3JSZXBsYWNlbWVudHMpLmZvckVhY2goKFtvbGRDb2xvciwgbmV3Q29sb3JdKSA9PiB7XG4gICAgICBuZXdDb2RlID0gbmV3Q29kZS5yZXBsYWNlQWxsKG9sZENvbG9yLCBuZXdDb2xvcik7XG4gICAgfSk7XG5cbiAgICBvblVwZGF0ZUNvZGUobmV3Q29kZSk7XG4gICAgc2V0U2hvd1BhbGV0dGUoZmFsc2UpO1xuICB9O1xuXG4gIGNvbnN0IGNhbmNlbENvbG9ycyA9ICgpID0+IHtcbiAgICBzZXRTaG93UGFsZXR0ZShmYWxzZSk7XG4gICAgc2V0Q29sb3JSZXBsYWNlbWVudHMoe30pO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUNoYXRTdWJtaXQgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFjaGF0SW5wdXQudHJpbSgpIHx8IGlzQ2hhdExvYWRpbmcpIHJldHVybjtcbiAgICBcbiAgICBzZXRJc0NoYXRMb2FkaW5nKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICAvLyDov5nph4zlj6/ku6Xmt7vliqDkuI5BSeeahOS6pOS6kumAu+i+kVxuICAgICAgLy8g5pqC5pe25YWI5qih5ouf5LiA5Liq5ZON5bqUXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgLy8g5YWz6Zet5a+56K+d5qGGXG4gICAgICAgIHNldFNob3dDaGF0RGlhbG9nKGZhbHNlKTtcbiAgICAgICAgc2V0Q2hhdElucHV0KCcnKTtcbiAgICAgICAgXG4gICAgICAgIC8vIOiwg+eUqG9uUmVxdWVzdENoYW5nZeWbnuiwg++8jOmAmuefpeeItue7hOS7tueUqOaIt+eahOiBiuWkqeWGheWuuVxuICAgICAgICBpZiAob25SZXF1ZXN0Q2hhbmdlKSB7XG4gICAgICAgICAgb25SZXF1ZXN0Q2hhbmdlKGNvZGUpO1xuICAgICAgICB9XG4gICAgICB9LCAxMDAwKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignQ2hhdCBlcnJvcjonLCBlcnJvcik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzQ2hhdExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBjb250YWluZXJDbGFzcyA9IGlzRnVsbHNjcmVlbiBcbiAgICA/IFwiZml4ZWQgaW5zZXQtMCB6LTUwIGJnLXNsYXRlLTUwIGRhcms6Ymctc2xhdGUtOTUwIGZsZXggZmxleC1jb2xcIiBcbiAgICA6IFwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdy1mdWxsIGgtZnVsbCBiZy1zbGF0ZS0xMDAgZGFyazpiZy1zbGF0ZS05MDAvNTAgcmVsYXRpdmUgZ3JvdXAgb3ZlcmZsb3ctaGlkZGVuIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTMwMFwiO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2NvbnRhaW5lckNsYXNzfT5cbiAgICAgIFxuICAgICAgey8qIFRvcCBDb250cm9scyAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtgYWJzb2x1dGUgdG9wLTQgcmlnaHQtNCB6LTIwIGZsZXggZmxleC1jb2wgaXRlbXMtZW5kIGdhcC0yIHRyYW5zaXRpb24tb3BhY2l0eSAkeyFpc0Z1bGxzY3JlZW4gJiYgJ29wYWNpdHktMCBncm91cC1ob3ZlcjpvcGFjaXR5LTEwMCd9ICR7ZXJyb3IgPyAnaGlkZGVuJyA6ICcnfWB9PlxuICAgICAgICBcbiAgICAgICAgey8qIEZ1bGxzY3JlZW4vRXhpdCBCdXR0b25zICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICB7aXNGdWxsc2NyZWVuICYmIChcbiAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RvZ2dsZUZ1bGxzY3JlZW59XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctc2xhdGUtMjAwLzgwIGRhcms6Ymctc2xhdGUtODAwLzgwIGJhY2tkcm9wLWJsdXIgdGV4dC14cyBweC00IHB5LTIgcm91bmRlZC1mdWxsIGJvcmRlciBib3JkZXItc2xhdGUtMzAwIGRhcms6Ym9yZGVyLXNsYXRlLTcwMCB0ZXh0LXNsYXRlLTcwMCBkYXJrOnRleHQtc2xhdGUtMzAwIGhvdmVyOnRleHQtd2hpdGUgaG92ZXI6YmctcmVkLTUwMCBkYXJrOmhvdmVyOmJnLXJlZC02MDAgc2hhZG93LWxnIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIGZvbnQtYm9sZCB0cmFuc2l0aW9uLWFsbFwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxBcnJvd0xlZnRJY29uIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICAgIOmAgOWHuiAoRVNDKVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHshaXNGdWxsc2NyZWVuICYmIGFsbG93RnVsbHNjcmVlbiAmJiAoXG4gICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RvZ2dsZUZ1bGxzY3JlZW59XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctd2hpdGUvODAgZGFyazpiZy1zbGF0ZS04MDAvODAgYmFja2Ryb3AtYmx1ciB0ZXh0LXhzIHB4LTMgcHktMS41IHJvdW5kZWQtZnVsbCBib3JkZXIgYm9yZGVyLXNsYXRlLTMwMCBkYXJrOmJvcmRlci1zbGF0ZS03MDAgdGV4dC1zbGF0ZS02MDAgZGFyazp0ZXh0LXNsYXRlLTMwMCBob3Zlcjp0ZXh0LWJyYW5kLTYwMCBkYXJrOmhvdmVyOnRleHQtd2hpdGUgaG92ZXI6Ymctc2xhdGUtMTAwIGRhcms6aG92ZXI6Ymctc2xhdGUtNzAwIHNoYWRvdy1sZyBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMS41XCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8TGlua0ljb24gY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+XG4gICAgICAgICAgICAgICAg5a6e5pe26aKE6KeIXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBUb29sYmFyICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xIGJnLXdoaXRlLzkwIGRhcms6Ymctc2xhdGUtODAwLzkwIGJhY2tkcm9wLWJsdXIgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXNsYXRlLTMwMCBkYXJrOmJvcmRlci1zbGF0ZS03MDAgcC0xIHNoYWRvdy14bFwiPlxuICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldFNob3dQYWxldHRlKCFzaG93UGFsZXR0ZSl9IGNsYXNzTmFtZT17YHAtMS41IGhvdmVyOmJnLXNsYXRlLTEwMCBkYXJrOmhvdmVyOmJnLXNsYXRlLTcwMCByb3VuZGVkIHRyYW5zaXRpb24tY29sb3JzICR7c2hvd1BhbGV0dGUgPyAndGV4dC1icmFuZC01MDAgYmctYnJhbmQtNTAgZGFyazpiZy1icmFuZC05MDAvMjAnIDogJ3RleHQtc2xhdGUtNTAwIGRhcms6dGV4dC1zbGF0ZS00MDAnfWB9IHRpdGxlPVwi6aKc6Imy57yW6L6R5ZmoXCI+XG4gICAgICAgICAgICAgPFdyZW5jaEljb24gY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctcHggaC00IGJnLXNsYXRlLTMwMCBkYXJrOmJnLXNsYXRlLTYwMCBteC0xXCIgLz5cbiAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXt6b29tT3V0fSBjbGFzc05hbWU9XCJwLTEuNSBob3ZlcjpiZy1zbGF0ZS0xMDAgZGFyazpob3ZlcjpiZy1zbGF0ZS03MDAgcm91bmRlZCB0ZXh0LXNsYXRlLTUwMCBkYXJrOnRleHQtc2xhdGUtNDAwXCIgdGl0bGU9XCLnvKnlsI9cIj5cbiAgICAgICAgICAgICA8TWludXNJY29uIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtyZXNldFZpZXd9IGNsYXNzTmFtZT1cInAtMS41IGhvdmVyOmJnLXNsYXRlLTEwMCBkYXJrOmhvdmVyOmJnLXNsYXRlLTcwMCByb3VuZGVkIHRleHQtc2xhdGUtNTAwIGRhcms6dGV4dC1zbGF0ZS00MDBcIiB0aXRsZT1cIuWkjeS9jVwiPlxuICAgICAgICAgICAgIDxzcGFuPvCflIQ8L3NwYW4+XG4gICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3pvb21Jbn0gY2xhc3NOYW1lPVwicC0xLjUgaG92ZXI6Ymctc2xhdGUtMTAwIGRhcms6aG92ZXI6Ymctc2xhdGUtNzAwIHJvdW5kZWQgdGV4dC1zbGF0ZS01MDAgZGFyazp0ZXh0LXNsYXRlLTQwMFwiIHRpdGxlPVwi5pS+5aSnXCI+XG4gICAgICAgICAgICAgPFBsdXNJY29uIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LXB4IGgtNCBiZy1zbGF0ZS0zMDAgZGFyazpiZy1zbGF0ZS02MDAgbXgtMVwiIC8+XG4gICAgICAgICAgIHtvblJlcXVlc3RDaGFuZ2UgJiYgKFxuICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gc2V0U2hvd0NoYXREaWFsb2codHJ1ZSl9IGNsYXNzTmFtZT1cInAtMS41IGhvdmVyOmJnLXNsYXRlLTEwMCBkYXJrOmhvdmVyOmJnLXNsYXRlLTcwMCByb3VuZGVkIHRleHQtc2xhdGUtNTAwIGRhcms6dGV4dC1zbGF0ZS00MDAgYm9yZGVyLWwgYm9yZGVyLXNsYXRlLTIwMCBkYXJrOmJvcmRlci1zbGF0ZS03MDAgbWwtMVwiIHRpdGxlPVwi5o+Q6ZyA5rGCXCI+XG4gICAgICAgICAgICAgICA8c3Bhbj7wn5KsPC9zcGFuPlxuICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICApfVxuICAgICAgICAgICB7YWxsb3dGdWxsc2NyZWVuICYmIChcbiAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3RvZ2dsZUZ1bGxzY3JlZW59IGNsYXNzTmFtZT1cInAtMS41IGhvdmVyOmJnLXNsYXRlLTEwMCBkYXJrOmhvdmVyOmJnLXNsYXRlLTcwMCByb3VuZGVkIHRleHQtc2xhdGUtNTAwIGRhcms6dGV4dC1zbGF0ZS00MDAgYm9yZGVyLWwgYm9yZGVyLXNsYXRlLTIwMCBkYXJrOmJvcmRlci1zbGF0ZS03MDAgbWwtMVwiPlxuICAgICAgICAgICAgICAge2lzRnVsbHNjcmVlbiA/IDxBcnJvd0xlZnRJY29uIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPiA6IDxMaW5rSWNvbiBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz59XG4gICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBJbXByb3ZlZCBDb2xvciBQYWxldHRlIFBvcG92ZXIgKi99XG4gICAgICAgIHtzaG93UGFsZXR0ZSAmJiBvblVwZGF0ZUNvZGUgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSBkYXJrOmJnLXNsYXRlLTgwMCByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIGRhcms6Ym9yZGVyLXNsYXRlLTcwMCBzaGFkb3ctMnhsIG10LTIgdy02NCBhbmltYXRlLWluIHNsaWRlLWluLWZyb20tdG9wLTIgZHVyYXRpb24tMjAwIGZsZXggZmxleC1jb2wgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTMgYm9yZGVyLWIgYm9yZGVyLXNsYXRlLTEwMCBkYXJrOmJvcmRlci1zbGF0ZS03MDAgYmctc2xhdGUtNTAgZGFyazpiZy1zbGF0ZS04MDAvNTBcIj5cbiAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC14cyBmb250LWJvbGQgdGV4dC1zbGF0ZS04MDAgZGFyazp0ZXh0LXNsYXRlLTIwMCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXJcIj7lm77ooajphY3oibI8L2gzPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IHNwYWNlLXktNCBtYXgtaC1bMzAwcHhdIG92ZXJmbG93LXktYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICB7LyogR2xvYmFsIFNldHRpbmdzICovfVxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS00MDAgbWItMiB1cHBlcmNhc2VcIj7lhajlsYDorr7nva48L3A+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNjAwIGRhcms6dGV4dC1zbGF0ZS0zMDBcIj7mlofmnKzpopzoibI8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY29sb3JcIiBjbGFzc05hbWU9XCJ3LTYgaC02IHJvdW5kZWQgY3Vyc29yLXBvaW50ZXIgYm9yZGVyLTAgcC0wIGJnLXRyYW5zcGFyZW50XCIgdmFsdWU9e3RoZW1lRWRpdHMudGV4dENvbG9yfSBvbkNoYW5nZT17ZSA9PiBzZXRUaGVtZUVkaXRzKHsuLi50aGVtZUVkaXRzLCB0ZXh0Q29sb3I6IGUudGFyZ2V0LnZhbHVlfSl9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXNsYXRlLTYwMCBkYXJrOnRleHQtc2xhdGUtMzAwXCI+57q/5p2hL+i+ueahhjwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY29sb3JcIiBjbGFzc05hbWU9XCJ3LTYgaC02IHJvdW5kZWQgY3Vyc29yLXBvaW50ZXIgYm9yZGVyLTAgcC0wIGJnLXRyYW5zcGFyZW50XCIgdmFsdWU9e3RoZW1lRWRpdHMubGluZUNvbG9yfSBvbkNoYW5nZT17ZSA9PiBzZXRUaGVtZUVkaXRzKHsuLi50aGVtZUVkaXRzLCBsaW5lQ29sb3I6IGUudGFyZ2V0LnZhbHVlfSl9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1zbGF0ZS02MDAgZGFyazp0ZXh0LXNsYXRlLTMwMFwiPum7mOiupOWhq+WFhTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY29sb3JcIiBjbGFzc05hbWU9XCJ3LTYgaC02IHJvdW5kZWQgY3Vyc29yLXBvaW50ZXIgYm9yZGVyLTAgcC0wIGJnLXRyYW5zcGFyZW50XCIgdmFsdWU9e3RoZW1lRWRpdHMucHJpbWFyeUNvbG9yfSBvbkNoYW5nZT17ZSA9PiBzZXRUaGVtZUVkaXRzKHsuLi50aGVtZUVkaXRzLCBwcmltYXJ5Q29sb3I6IGUudGFyZ2V0LnZhbHVlfSl9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIHsvKiBEZXRlY3RlZCBIZXggQ29sb3JzICovfVxuICAgICAgICAgICAgICAgICAgICB7ZGV0ZWN0ZWRDb2xvcnMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS00MDAgbWItMiB1cHBlcmNhc2VcIj7mm7/mjaLnjrDmnInpopzoibI8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTUgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZGV0ZWN0ZWRDb2xvcnMubWFwKChjb2xvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhY3RpdmVDb2xvciA9IGNvbG9yUmVwbGFjZW1lbnRzW2NvbG9yXSB8fCBjb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17Y29sb3J9IGNsYXNzTmFtZT1cInJlbGF0aXZlIGdyb3VwIHctOCBoLTggcm91bmRlZC1mdWxsIHNoYWRvdy1zbSBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCBkYXJrOmJvcmRlci1zbGF0ZS02MDAgb3ZlcmZsb3ctaGlkZGVuIHJpbmctb2Zmc2V0LTEgZGFyazpyaW5nLW9mZnNldC1zbGF0ZS04MDAgaG92ZXI6cmluZy0yIHJpbmctYnJhbmQtNTAwIHRyYW5zaXRpb24tYWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjb2xvclwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2FjdGl2ZUNvbG9yfSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtgUmVwbGFjZSAke2NvbG9yfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldENvbG9yUmVwbGFjZW1lbnRzKHByZXYgPT4gKHsgLi4ucHJldiwgW2NvbG9yXTogZS50YXJnZXQudmFsdWUgfSkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCB3LVsxNTAlXSBoLVsxNTAlXSAtdG9wLTEvNCAtbGVmdC0xLzQgY3Vyc29yLXBvaW50ZXIgcC0wIGJvcmRlci0wXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgey8qIEFjdGlvbnMgKi99XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTMgYmctc2xhdGUtNTAgZGFyazpiZy1zbGF0ZS04MDAvNTAgYm9yZGVyLXQgYm9yZGVyLXNsYXRlLTEwMCBkYXJrOmJvcmRlci1zbGF0ZS03MDAgZmxleCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtjYW5jZWxDb2xvcnN9XG4gICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgcHktMS41IHB4LTMgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LXNsYXRlLTYwMCBkYXJrOnRleHQtc2xhdGUtMzAwIGJnLXdoaXRlIGRhcms6Ymctc2xhdGUtNzAwIGJvcmRlciBib3JkZXItc2xhdGUtMzAwIGRhcms6Ym9yZGVyLXNsYXRlLTYwMCByb3VuZGVkIGhvdmVyOmJnLXNsYXRlLTUwIGRhcms6aG92ZXI6Ymctc2xhdGUtNjAwIHRyYW5zaXRpb24tY29sb3JzIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0xXCJcbiAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICA8WE1hcmtJY29uIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPiDlj5bmtohcbiAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17YXBwbHlDb2xvcnN9XG4gICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgcHktMS41IHB4LTMgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LXdoaXRlIGJnLWJyYW5kLTYwMCBob3ZlcjpiZy1icmFuZC01MDAgcm91bmRlZCBzaGFkb3ctc20gdHJhbnNpdGlvbi1jb2xvcnMgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTFcIlxuICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgIDxDaGVja0ljb24gY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+IOW6lOeUqOabtOaUuVxuICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIEVycm9yIERpc3BsYXkgKi99XG4gICAgICB7ZXJyb3IgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC00IGxlZnQtNCByaWdodC00IGJnLXJlZC01MCBib3JkZXIgYm9yZGVyLXJlZC0yMDAgZGFyazpiZy1yZWQtNTAwLzEwIGRhcms6Ym9yZGVyLXJlZC01MDAvNTAgdGV4dC1yZWQtNzAwIGRhcms6dGV4dC1yZWQtMjAwIHAtMyByb3VuZGVkIGJhY2tkcm9wLWJsdXItbWQgei0zMCB0ZXh0LXhzIGZvbnQtbW9ubyBicmVhay1hbGwgZmxleCBpdGVtcy1zdGFydCBqdXN0aWZ5LWJldHdlZW4gZ2FwLTQgc2hhZG93LWxnXCI+XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmb250LWJvbGQgbWItMVwiPua4suafk+mUmeivrzo8L3A+XG4gICAgICAgICAgICAgPHA+e2Vycm9yfTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7b25GaXhFcnJvciAmJiAoXG4gICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvbkZpeEVycm9yKGNvZGUsIGVycm9yKX1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzRml4aW5nfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSBiZy1yZWQtMTAwIGhvdmVyOmJnLXJlZC0yMDAgZGFyazpiZy1yZWQtNTAwLzIwIGRhcms6aG92ZXI6YmctcmVkLTUwMC80MCBib3JkZXIgYm9yZGVyLXJlZC0yMDAgZGFyazpib3JkZXItcmVkLTUwMC81MCB0ZXh0LXJlZC04MDAgZGFyazp0ZXh0LXJlZC0xMDAgcHgtMyBweS0xLjUgcm91bmRlZCB0cmFuc2l0aW9uLWNvbG9ycyB3aGl0ZXNwYWNlLW5vd3JhcCB0ZXh0LXhzIGZvbnQtYm9sZFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxXcmVuY2hJY29uIGNsYXNzTmFtZT17YHctNCBoLTQgJHtpc0ZpeGluZyA/ICdhbmltYXRlLXNwaW4nIDogJyd9YH0gLz5cbiAgICAgICAgICAgICAge2lzRml4aW5nID8gJ+S/ruWkjeS4rS4uLicgOiAnQUkg6Ieq5Yqo5L+u5aSNJ31cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICAgIFxuICAgICAgey8qIENhbnZhcyBBcmVhICovfVxuICAgICAgPGRpdiBcbiAgICAgICAgcmVmPXtjb250YWluZXJSZWZ9XG4gICAgICAgIGNsYXNzTmFtZT17YHctZnVsbCBoLWZ1bGwgb3ZlcmZsb3ctaGlkZGVuIGN1cnNvci1ncmFiIGFjdGl2ZTpjdXJzb3ItZ3JhYmJpbmcgJHtlcnJvciA/ICdvcGFjaXR5LTMwIHBvaW50ZXItZXZlbnRzLW5vbmUnIDogJ29wYWNpdHktMTAwJ31gfVxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNmZmZmZmYnLFxuICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogYFxuICAgICAgICAgICAgbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCByZ2JhKDk5LCAxMDIsIDI0MSwgMC4wOCkgMXB4LCB0cmFuc3BhcmVudCAxcHgpLFxuICAgICAgICAgICAgbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgcmdiYSg5OSwgMTAyLCAyNDEsIDAuMDgpIDFweCwgdHJhbnNwYXJlbnQgMXB4KVxuICAgICAgICAgIGAsXG4gICAgICAgICAgYmFja2dyb3VuZFNpemU6ICcyMHB4IDIwcHgnLFxuICAgICAgICAgIGJhY2tncm91bmRQb3NpdGlvbjogJzAgMCwgMCAwJ1xuICAgICAgICB9fVxuICAgICAgICBvbldoZWVsPXtoYW5kbGVXaGVlbH1cbiAgICAgICAgb25Nb3VzZURvd249e2hhbmRsZU1vdXNlRG93bn1cbiAgICAgICAgb25Nb3VzZU1vdmU9e2hhbmRsZU1vdXNlTW92ZX1cbiAgICAgICAgb25Nb3VzZVVwPXtoYW5kbGVNb3VzZVVwfVxuICAgICAgICBvbk1vdXNlTGVhdmU9e2hhbmRsZU1vdXNlVXB9XG4gICAgICA+XG4gICAgICAgIDxkaXYgXG4gICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgb3JpZ2luLWNlbnRlciB0cmFuc2l0aW9uLXRyYW5zZm9ybSBkdXJhdGlvbi03NSBlYXNlLW91dFwiXG4gICAgICAgICAgIHN0eWxlPXt7IFxuICAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgke3Bvc2l0aW9uLnh9cHgsICR7cG9zaXRpb24ueX1weCkgc2NhbGUoJHtzY2FsZX0pYCxcbiAgICAgICAgICAgfX1cbiAgICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBzdmdDb250ZW50IH19XG4gICAgICAgICAgIGlkPVwibWVybWFpZC1jaGFydC1jb250YWluZXJcIlxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBCb3R0b20gSGludCAqL31cbiAgICAgIHshaXNGdWxsc2NyZWVuICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tNCBsZWZ0LTQgdGV4dC1bMTBweF0gdGV4dC1zbGF0ZS00MDAgZGFyazp0ZXh0LXNsYXRlLTUwMCBzZWxlY3Qtbm9uZSBwb2ludGVyLWV2ZW50cy1ub25lXCI+XG4gICAgICAgICAgICBDdHJsICsg5rua6L2u57yp5pS+IHwg5ouW5ou956e75YqoXG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgey8qIENoYXQgRGlhbG9nICovfVxuICAgICAge3Nob3dDaGF0RGlhbG9nICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIHotNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcC00IGJnLWJsYWNrLzUwIGJhY2tkcm9wLWJsdXItc21cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIGRhcms6Ymctc2xhdGUtOTAwIHJvdW5kZWQtbGcgc2hhZG93LTJ4bCBtYXgtdy1tZCB3LWZ1bGwgbWF4LWgtWzgwdmhdIGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgIHsvKiBEaWFsb2cgSGVhZGVyICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgYm9yZGVyLWIgYm9yZGVyLXNsYXRlLTIwMCBkYXJrOmJvcmRlci1zbGF0ZS03MDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC1sZyB0ZXh0LXNsYXRlLTgwMCBkYXJrOnRleHQtc2xhdGUtMjAwXCI+5o+Q6ZyA5rGCPC9oMz5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93Q2hhdERpYWxvZyhmYWxzZSl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicC0xLjUgaG92ZXI6Ymctc2xhdGUtMTAwIGRhcms6aG92ZXI6Ymctc2xhdGUtODAwIHJvdW5kZWQtZnVsbCB0ZXh0LXNsYXRlLTUwMCBkYXJrOnRleHQtc2xhdGUtNDAwXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxYTWFya0ljb24gY2xhc3NOYW1lPVwidy01IGgtNVwiIC8+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIHsvKiBEaWFsb2cgQ29udGVudCAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IGZsZXgtMSBvdmVyZmxvdy15LWF1dG9cIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXNsYXRlLTYwMCBkYXJrOnRleHQtc2xhdGUtNDAwIG1iLTRcIj5cbiAgICAgICAgICAgICAgICDor7fmj4/ov7Dmgqjlr7nlvZPliY3mtYHnqIvlm77nmoTkv67mlLnpnIDmsYLvvIzmiJHkvJrmoLnmja7mgqjnmoTmj4/ov7Dov5vooYzosIPmlbTjgIJcbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgICAgICB2YWx1ZT17Y2hhdElucHV0fVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0Q2hhdElucHV0KGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIuS+i+Wmgu+8muaIkeaDs+WcqOa1geeoi+WbvuS4rea3u+WKoOS4gOS4quaWsOeahOatpemqpO+8jOeUqOS6jumqjOivgeeUqOaIt+i6q+S7vS4uLlwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHAtMyBib3JkZXIgYm9yZGVyLXNsYXRlLTMwMCBkYXJrOmJvcmRlci1zbGF0ZS03MDAgcm91bmRlZC1sZyBiZy1zbGF0ZS01MCBkYXJrOmJnLXNsYXRlLTgwMCB0ZXh0LXNsYXRlLTkwMCBkYXJrOnRleHQtc2xhdGUtMTAwIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1wcmltYXJ5LTUwMCByZXNpemUtbm9uZSBoLTQwXCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNDaGF0TG9hZGluZ31cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7LyogRGlhbG9nIEZvb3RlciAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IGJvcmRlci10IGJvcmRlci1zbGF0ZS0yMDAgZGFyazpib3JkZXItc2xhdGUtNzAwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktZW5kIGdhcC0zXCI+XG4gICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd0NoYXREaWFsb2coZmFsc2UpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtc2xhdGUtNzAwIGRhcms6dGV4dC1zbGF0ZS0zMDAgYmctc2xhdGUtMTAwIGRhcms6Ymctc2xhdGUtODAwIGhvdmVyOmJnLXNsYXRlLTIwMCBkYXJrOmhvdmVyOmJnLXNsYXRlLTcwMCByb3VuZGVkIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNDaGF0TG9hZGluZ31cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIOWPlua2iFxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDaGF0U3VibWl0fVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtd2hpdGUgYmctcHJpbWFyeS01MDAgaG92ZXI6YmctcHJpbWFyeS02MDAgcm91bmRlZCB0cmFuc2l0aW9uLWNvbG9ycyBkaXNhYmxlZDpvcGFjaXR5LTUwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZFwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzQ2hhdExvYWRpbmcgfHwgIWNoYXRJbnB1dC50cmltKCl9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7aXNDaGF0TG9hZGluZyA/ICflpITnkIbkuK0uLi4nIDogJ+aPkOS6pOmcgOaxgid9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsInVzZU1lbW8iLCJXcmVuY2hJY29uIiwiUGx1c0ljb24iLCJNaW51c0ljb24iLCJMaW5rSWNvbiIsIkFycm93TGVmdEljb24iLCJDaGVja0ljb24iLCJYTWFya0ljb24iLCJ1cGRhdGVJbml0Q29uZmlnIiwiY29kZSIsImNvbmZpZ1VwZGF0ZXMiLCJpbml0UmVnZXgiLCJtYXRjaCIsImNvbmZpZyIsInRoZW1lVmFyaWFibGVzIiwidGhlbWUiLCJwcmVmaXgiLCJzdWZmaXgiLCJleGlzdGluZ0NvbmZpZyIsIkpTT04iLCJwYXJzZSIsInN1YnN0cmluZyIsImluZGV4IiwibGVuZ3RoIiwiZSIsImNvbnNvbGUiLCJ3YXJuIiwiT2JqZWN0IiwiZW50cmllcyIsImZvckVhY2giLCJrZXkiLCJ2YWx1ZSIsIm5ld0luaXRCbG9jayIsInN0cmluZ2lmeSIsInRyaW0iLCJnZXRJbml0VmFyaWFibGUiLCJNZXJtYWlkUmVuZGVyZXIiLCJ1aWQiLCJvbkZpeEVycm9yIiwiaXNGaXhpbmciLCJhbGxvd0Z1bGxzY3JlZW4iLCJvblVwZGF0ZUNvZGUiLCJvblJlcXVlc3RDaGFuZ2UiLCJjb250YWluZXJSZWYiLCJzdmdDb250ZW50Iiwic2V0U3ZnQ29udGVudCIsImVycm9yIiwic2V0RXJyb3IiLCJzY2FsZSIsInNldFNjYWxlIiwicG9zaXRpb24iLCJzZXRQb3NpdGlvbiIsIngiLCJ5IiwiaXNEcmFnZ2luZyIsInNldElzRHJhZ2dpbmciLCJkcmFnU3RhcnQiLCJzZXREcmFnU3RhcnQiLCJpc0Z1bGxzY3JlZW4iLCJzZXRJc0Z1bGxzY3JlZW4iLCJzaG93UGFsZXR0ZSIsInNldFNob3dQYWxldHRlIiwiY29sb3JSZXBsYWNlbWVudHMiLCJzZXRDb2xvclJlcGxhY2VtZW50cyIsInRoZW1lRWRpdHMiLCJzZXRUaGVtZUVkaXRzIiwidGV4dENvbG9yIiwicHJpbWFyeUNvbG9yIiwibGluZUNvbG9yIiwic2hvd0NoYXREaWFsb2ciLCJzZXRTaG93Q2hhdERpYWxvZyIsImNoYXRJbnB1dCIsInNldENoYXRJbnB1dCIsImlzQ2hhdExvYWRpbmciLCJzZXRJc0NoYXRMb2FkaW5nIiwiZGV0ZWN0ZWRDb2xvcnMiLCJoZXhSZWdleCIsIm1hdGNoZXMiLCJBcnJheSIsImZyb20iLCJTZXQiLCJoYW5kbGVLZXlEb3duIiwidG9nZ2xlRnVsbHNjcmVlbiIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidXBkYXRlR3JpZFN0eWxlIiwiY29udGFpbmVyIiwiY3VycmVudCIsImlzRGFyayIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJzdHlsZSIsImJhY2tncm91bmRDb2xvciIsImJhY2tncm91bmRJbWFnZSIsIm9ic2VydmVyIiwiTXV0YXRpb25PYnNlcnZlciIsIm9ic2VydmUiLCJhdHRyaWJ1dGVzIiwiYXR0cmlidXRlRmlsdGVyIiwiZGlzY29ubmVjdCIsImFjdGl2ZSIsInJlbmRlckRpYWdyYW0iLCJtZXJtYWlkIiwiaGFzSW5pdCIsInRlc3QiLCJpbml0aWFsaXplIiwic3RhcnRPbkxvYWQiLCJzZWN1cml0eUxldmVsIiwiZm9udEZhbWlseSIsInVuaXF1ZUlkIiwiRGF0ZSIsIm5vdyIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0ciIsInN2ZyIsInJlbmRlciIsImVyciIsIm1lc3NhZ2UiLCJ0aW1lb3V0SWQiLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiaGFuZGxlV2hlZWwiLCJjdHJsS2V5IiwibWV0YUtleSIsInNlbnNpdGl2aXR5IiwibmV3U2NhbGUiLCJtaW4iLCJtYXgiLCJkZWx0YVkiLCJoYW5kbGVNb3VzZURvd24iLCJidXR0b24iLCJjbGllbnRYIiwiY2xpZW50WSIsImhhbmRsZU1vdXNlTW92ZSIsImhhbmRsZU1vdXNlVXAiLCJ6b29tSW4iLCJzIiwiem9vbU91dCIsInJlc2V0VmlldyIsImFwcGx5Q29sb3JzIiwibmV3Q29kZSIsInVwZGF0ZXMiLCJrZXlzIiwib2xkQ29sb3IiLCJuZXdDb2xvciIsInJlcGxhY2VBbGwiLCJjYW5jZWxDb2xvcnMiLCJoYW5kbGVDaGF0U3VibWl0IiwiY29udGFpbmVyQ2xhc3MiLCJkaXYiLCJjbGFzc05hbWUiLCJvbkNsaWNrIiwidGl0bGUiLCJzcGFuIiwiaDMiLCJwIiwibGFiZWwiLCJpbnB1dCIsInR5cGUiLCJvbkNoYW5nZSIsInRhcmdldCIsIm1hcCIsImNvbG9yIiwiYWN0aXZlQ29sb3IiLCJwcmV2IiwiZGlzYWJsZWQiLCJyZWYiLCJiYWNrZ3JvdW5kU2l6ZSIsImJhY2tncm91bmRQb3NpdGlvbiIsIm9uV2hlZWwiLCJvbk1vdXNlRG93biIsIm9uTW91c2VNb3ZlIiwib25Nb3VzZVVwIiwib25Nb3VzZUxlYXZlIiwidHJhbnNmb3JtIiwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwiLCJfX2h0bWwiLCJpZCIsInRleHRhcmVhIiwicGxhY2Vob2xkZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/components/MermaidRenderer.tsx\n");

/***/ }),

/***/ "(ssr)/./src/constants.ts":
/*!**************************!*\
  !*** ./src/constants.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DIAGRAM_TYPES: () => (/* binding */ DIAGRAM_TYPES),\n/* harmony export */   EXAMPLES: () => (/* binding */ EXAMPLES),\n/* harmony export */   GALLERY_EXAMPLES: () => (/* binding */ GALLERY_EXAMPLES),\n/* harmony export */   SYSTEM_INSTRUCTION: () => (/* binding */ SYSTEM_INSTRUCTION)\n/* harmony export */ });\nconst SYSTEM_INSTRUCTION = `\nä½ æ˜¯ Mermaid.js èµ„æ·±æž¶æž„å¸ˆä¸Žè‹æ ¼æ‹‰åº•å¼å¯¼å¸ˆã€‚\nä½ çš„æ ¸å¿ƒç›®æ ‡æ˜¯å¸®åŠ©ç”¨æˆ·ç”Ÿæˆæœ€ä¸“ä¸šã€æœ€å‡†ç¡®çš„å›¾è¡¨ã€‚\n\n**äº¤äº’æ¨¡å¼ä¸Žè¾“å‡ºè§„åˆ™ (JSON å¼ºåˆ¶)**ï¼š\nä½ å¿…é¡» **å§‹ç»ˆ** è¿”å›žç¬¦åˆä»¥ä¸‹ JSON Schema çš„çº¯æ–‡æœ¬ï¼š\n\\`\\`\\`json\n{\n  \"type\": \"code\" | \"message\",\n  \"content\": \"string\"\n}\n\\`\\`\\`\n\n**é€»è¾‘åˆ¤æ–­æµç¨‹**ï¼š\n1. **åˆ†æžç”¨æˆ·æ„å›¾**ï¼š\n   - å¦‚æžœç”¨æˆ·åªæ˜¯åœ¨æ‰“æ‹›å‘¼æˆ–é—²èŠ -> è¿”å›ž \\`type: \"message\"\\` è¿›è¡Œæ­£å¸¸å¯¹è¯ã€‚\n   - å¦‚æžœç”¨æˆ·æè¿°äº†ä¸€ä¸ªå›¾è¡¨éœ€æ±‚ï¼Œä½†**ç»†èŠ‚éžå¸¸æ¨¡ç³Š**ï¼ˆä¾‹å¦‚åªè¯´â€œç”»ä¸ªç³»ç»Ÿâ€æˆ–â€œç”»ä¸ªæµç¨‹å›¾â€ï¼‰ -> è¿”å›ž \\`type: \"message\"\\`ã€‚è¯·ä½¿ç”¨**è‹æ ¼æ‹‰åº•æé—®æ³•**ï¼Œæå‡º 2-3 ä¸ªå…³é”®é—®é¢˜æ¥å¼•å¯¼ç”¨æˆ·å®Œå–„ç»†èŠ‚ï¼ˆä¾‹å¦‚ï¼šâ€œè¿™ä¸ªç³»ç»Ÿæ˜¯å•ä½“è¿˜æ˜¯å¾®æœåŠ¡ï¼Ÿâ€â€œä¸»è¦æ¶‰åŠå“ªäº›è§’è‰²ï¼Ÿâ€ï¼‰ã€‚\n   - å¦‚æžœç”¨æˆ·æä¾›äº†è¶³å¤Ÿçš„ä¿¡æ¯ï¼Œæˆ–è€…ä¸Šä¼ äº†æ–‡ä»¶/å›¾ç‰‡ -> è¿”å›ž \\`type: \"code\"\\` å¹¶ç”Ÿæˆ Mermaid ä»£ç ã€‚\n\n2. **å½“ type ä¸º \"code\" æ—¶çš„è§„åˆ™**ï¼š\n   - \\`content\\` å­—æ®µå¿…é¡»æ˜¯**çº¯ç²¹çš„ Mermaid ä»£ç **ã€‚\n   - **ä¸è¦**åœ¨ content ä¸­åŒ…å« markdown ä»£ç å—æ ‡è®°ï¼ˆå¦‚ \\`\\`\\`mermaidï¼‰ã€‚\n   - **åº•å±‚ä¼˜åŒ–**ï¼šä½¿ç”¨ 'flowchart' ä»£æ›¿ 'graph'ã€‚\n   - **ç‰ˆæœ¬å¼ºåˆ¶ (CRITICAL)**ï¼š\n     - **å¿…é¡»ä¸¥æ ¼éµå®ˆ Mermaid.js v10.9.0 è¯­æ³•æ ‡å‡†**ã€‚\n     - **âŒ ä¸¥ç¦ä½¿ç”¨** v11.0+ çš„æ–°ç‰¹æ€§ï¼Œä¾‹å¦‚ \\`architecture\\`, \\`packet-beta\\`, \\`block-beta\\`, \\`xychart-beta\\` ç­‰ã€‚å¦‚æžœç”¨æˆ·è¯·æ±‚äº†è¿™äº›ç±»åž‹ï¼Œè¯·ç¤¼è²Œå‘ŠçŸ¥å½“å‰ç‰ˆæœ¬ä»…æ”¯æŒ v10.9.0 æ ‡å‡†å›¾è¡¨ï¼Œå¹¶å°è¯•ç”¨çŽ°æœ‰çš„ \\`flowchart\\` æˆ– \\`classDiagram\\` æ›¿ä»£ã€‚\n     - **âœ… ä»…ä½¿ç”¨** v10.9.0 ç¨³å®šæ”¯æŒçš„å›¾è¡¨ç±»åž‹ï¼š\\`flowchart\\`, \\`sequenceDiagram\\`, \\`classDiagram\\`, \\`stateDiagram-v2\\`, \\`erDiagram\\`, \\`gantt\\`, \\`mindmap\\`, \\`pie\\`, \\`gitGraph\\`, \\`timeline\\`, \\`quadrantChart\\`ã€‚\n   - **è¯­æ³•å®‰å…¨**ï¼šèŠ‚ç‚¹æ ‡ç­¾å¿…é¡»ç”¨åŒå¼•å·åŒ…è£¹ï¼Œå¦‚ A[\"æè¿°\"]ã€‚\n\n3. **å½“ type ä¸º \"message\" æ—¶çš„è§„åˆ™**ï¼š\n   - \\`content\\` å­—æ®µä¸ºå›žå¤ç”¨æˆ·çš„è‡ªç„¶è¯­è¨€æ–‡æœ¬ã€‚\n   - ä¿æŒä¸“ä¸šã€å‹å–„ã€å¼•å¯¼æ€§ã€‚\n\n**ç¤ºä¾‹**ï¼š\nç”¨æˆ·ï¼š\"ç”»ä¸€ä¸ªç™»å½•\"\nå›žå¤ï¼š\n{\n  \"type\": \"message\",\n  \"content\": \"å¥½çš„ã€‚ä¸ºäº†è®©å›¾è¡¨æ›´å‡†ç¡®ï¼Œè¯·é—®è¿™æ˜¯ä¸€ä¸ªç®€å•çš„è´¦å·å¯†ç ç™»å½•ï¼Œè¿˜æ˜¯åŒ…å« OAuth/SSO çš„å¤æ‚æµç¨‹ï¼Ÿæ˜¯å¦éœ€è¦ä½“çŽ°æ•°æ®åº“æ ¡éªŒæ­¥éª¤ï¼Ÿ\"\n}\n\nç”¨æˆ·ï¼š\"ç®€å•çš„è´¦å·å¯†ç ç™»å½•\"\nå›žå¤ï¼š\n{\n  \"type\": \"code\",\n  \"content\": \"sequenceDiagram\\nparticipant U as \\\"ç”¨æˆ·\\\"...\"\n}\n`;\nconst DIAGRAM_TYPES = [\n    {\n        value: \"auto\",\n        label: \"è‡ªåŠ¨è¯†åˆ« (Auto)\"\n    },\n    {\n        value: \"graph\",\n        label: \"æµç¨‹å›¾ (Flowchart)\"\n    },\n    {\n        value: \"sequence\",\n        label: \"æ—¶åºå›¾ (Sequence)\"\n    },\n    {\n        value: \"class\",\n        label: \"ç±»å›¾ (Class)\"\n    },\n    {\n        value: \"state\",\n        label: \"çŠ¶æ€å›¾ (State)\"\n    },\n    {\n        value: \"gantt\",\n        label: \"ç”˜ç‰¹å›¾ (Gantt)\"\n    },\n    {\n        value: \"mindmap\",\n        label: \"æ€ç»´å¯¼å›¾ (Mindmap)\"\n    },\n    {\n        value: \"er\",\n        label: \"ER å›¾ (Entity Relationship)\"\n    },\n    {\n        value: \"journey\",\n        label: \"ç”¨æˆ·æ—…ç¨‹ (Journey)\"\n    }\n];\nconst GALLERY_EXAMPLES = [\n    {\n        name: \"æµç¨‹å›¾ (Flowchart)\",\n        type: \"graph\",\n        description: \"å±•ç¤ºå†³ç­–è·¯å¾„å’Œæµç¨‹æ­¥éª¤ (ä½¿ç”¨æ–°ç‰ˆå¼•æ“Ž)\",\n        code: `flowchart TD\n    A[\"å¼€å§‹\"] --> B{\"æ˜¯å¦æ³¨å†Œ?\"}\n    B -- \"æ˜¯\" --> C[\"ç™»å½•ç³»ç»Ÿ\"]\n    B -- \"å¦\" --> D[\"è·³è½¬æ³¨å†Œé¡µ\"]\n    C --> E[\"è¿›å…¥é¦–é¡µ\"]\n    D --> B\n    style A fill:#22c55e,stroke:#333,stroke-width:2px`\n    },\n    {\n        name: \"æ—¶åºå›¾ (Sequence)\",\n        type: \"sequence\",\n        description: \"å±•ç¤ºå¯¹è±¡ä¹‹é—´çš„äº¤äº’é¡ºåº\",\n        code: `sequenceDiagram\n    participant U as \"ç”¨æˆ·\"\n    participant S as \"æœåŠ¡å™¨\"\n    participant D as \"æ•°æ®åº“\"\n    U->>S: \"è¯·æ±‚æ•°æ®\"\n    S->>D: \"æŸ¥è¯¢ SQL\"\n    D-->>S: \"è¿”å›žç»“æžœ\"\n    S-->>U: \"æ¸²æŸ“é¡µé¢\"`\n    },\n    {\n        name: \"ç”˜ç‰¹å›¾ (Gantt)\",\n        type: \"gantt\",\n        description: \"é¡¹ç›®è¿›åº¦ä¸Žæ—¶é—´ç®¡ç†\",\n        code: `gantt\n    title \"é¡¹ç›®å¼€å‘è®¡åˆ’\"\n    dateFormat YYYY-MM-DD\n    section \"è®¾è®¡\"\n    \"åŽŸåž‹è®¾è®¡\" :a1, 2024-01-01, 5d\n    \"UIè®¾è®¡\"   :after a1, 5d\n    section \"å¼€å‘\"\n    \"åŽç«¯API\"  :2024-01-06, 10d\n    \"å‰ç«¯è”è°ƒ\" :after a1, 8d`\n    },\n    {\n        name: \"ç±»å›¾ (Class)\",\n        type: \"class\",\n        description: \"é¢å‘å¯¹è±¡çš„ç±»ç»“æž„\",\n        code: `classDiagram\n    class åŠ¨ç‰© {\n      +String åå­—\n      +eat()\n    }\n    class é¸­å­ {\n      +swim()\n    }\n    åŠ¨ç‰© <|-- é¸­å­`\n    },\n    {\n        name: \"çŠ¶æ€å›¾ (State)\",\n        type: \"state\",\n        description: \"ç³»ç»ŸçŠ¶æ€æµè½¬\",\n        code: `stateDiagram-v2\n    [*] --> é—²ç½®\n    é—²ç½® --> å¤„ç†ä¸­ : \"æŽ¥æ”¶ä»»åŠ¡\"\n    å¤„ç†ä¸­ --> å®Œæˆ : \"ä»»åŠ¡ç»“æŸ\"\n    å¤„ç†ä¸­ --> é”™è¯¯ : \"å¼‚å¸¸å‘ç”Ÿ\"\n    é”™è¯¯ --> é—²ç½® : \"é‡ç½®\"\n    å®Œæˆ --> [*]`\n    },\n    {\n        name: \"å®žä½“å…³ç³»å›¾ (ER)\",\n        type: \"er\",\n        description: \"æ•°æ®åº“ç»“æž„å…³ç³»\",\n        code: `erDiagram\n    CUSTOMER ||--o{ ORDER : places\n    ORDER ||--|{ LINE-ITEM : contains\n    CUSTOMER {\n      string name\n      string email\n    }`\n    },\n    {\n        name: \"é¥¼å›¾ (Pie)\",\n        type: \"pie\",\n        description: \"æ•°æ®å æ¯”ç»Ÿè®¡\",\n        code: `pie title \"å¸‚åœºä»½é¢\"\n    \"äº§å“ A\" : 40\n    \"äº§å“ B\" : 30\n    \"äº§å“ C\" : 20\n    \"å…¶ä»–\" : 10`\n    },\n    {\n        name: \"ç”¨æˆ·æ—…ç¨‹ (Journey)\",\n        type: \"journey\",\n        description: \"ç”¨æˆ·ä½“éªŒè·¯å¾„\",\n        code: `journey\n    title \"è´­ç‰©ä½“éªŒ\"\n    section \"æµè§ˆ\"\n      \"æœç´¢å•†å“\": 5: \"ç”¨æˆ·\"\n      \"æŸ¥çœ‹è¯¦æƒ…\": 4: \"ç”¨æˆ·\"\n    section \"è´­ä¹°\"\n      \"åŠ å…¥è´­ç‰©è½¦\": 5: \"ç”¨æˆ·\"\n      \"æ”¯ä»˜å¤±è´¥\": 2: \"ç”¨æˆ·\", \"ç³»ç»Ÿ\"`\n    },\n    {\n        name: \"Git æäº¤å›¾ (GitGraph)\",\n        type: \"git\",\n        description: \"ç‰ˆæœ¬æŽ§åˆ¶åˆ†æ”¯è®°å½•\",\n        code: `gitGraph\n    commit\n    commit\n    branch develop\n    checkout develop\n    commit\n    commit\n    checkout main\n    merge develop`\n    },\n    {\n        name: \"æ€ç»´å¯¼å›¾ (Mindmap)\",\n        type: \"mindmap\",\n        description: \"è„‘æš´ä¸Žå±‚çº§ç»“æž„\",\n        code: `mindmap\n  root((\"äººå·¥æ™ºèƒ½\"))\n    \"æœºå™¨å­¦ä¹ \"\n      \"ç›‘ç£å­¦ä¹ \"\n      \"æ— ç›‘ç£å­¦ä¹ \"\n    \"æ·±åº¦å­¦ä¹ \"\n      \"CNN\"\n      \"RNN\"\n    \"è‡ªç„¶è¯­è¨€å¤„ç†\"`\n    },\n    {\n        name: \"æ—¶é—´è½´ (Timeline)\",\n        type: \"timeline\",\n        description: \"åŽ†å²äº‹ä»¶è®°å½•\",\n        code: `timeline\n    title \"å…¬å¸å‘å±•å²\"\n    2020 : \"æˆç«‹\" : \"èŽ·å¾—å¤©ä½¿è½®\"\n    2021 : \"å‘å¸ƒ 1.0\" : \"ç”¨æˆ·ç ´ä¸‡\"\n    2022 : \"æ‰©å¼ \" : \"èžèµ„ A è½®\"`\n    },\n    {\n        name: \"è±¡é™å›¾ (Quadrant)\",\n        type: \"quadrant\",\n        description: \"å››è±¡é™åˆ†æžçŸ©é˜µ\",\n        code: `quadrantChart\n    x-axis \"ä½ŽæŠ•å…¥\" --> \"é«˜æŠ•å…¥\"\n    y-axis \"ä½Žå›žæŠ¥\" --> \"é«˜å›žæŠ¥\"\n    quadrant-1 \"é‡ç‚¹æ”»å…‹\"\n    quadrant-2 \"å¿«é€Ÿèµ¢å–\"\n    quadrant-3 \"åº”å½“æ”¾å¼ƒ\"\n    quadrant-4 \"ç¼“æ…¢ç§¯ç´¯\"\n    \"é¡¹ç›® A\": [0.3, 0.6]\n    \"é¡¹ç›® B\": [0.45, 0.23]`\n    }\n];\nconst EXAMPLES = GALLERY_EXAMPLES.slice(0, 3);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29uc3RhbnRzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFFTyxNQUFNQSxxQkFBcUIsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUErQ25DLENBQUMsQ0FBQztBQUVLLE1BQU1DLGdCQUFnQjtJQUMzQjtRQUFFQyxPQUFPO1FBQVFDLE9BQU87SUFBYztJQUN0QztRQUFFRCxPQUFPO1FBQVNDLE9BQU87SUFBa0I7SUFDM0M7UUFBRUQsT0FBTztRQUFZQyxPQUFPO0lBQWlCO0lBQzdDO1FBQUVELE9BQU87UUFBU0MsT0FBTztJQUFhO0lBQ3RDO1FBQUVELE9BQU87UUFBU0MsT0FBTztJQUFjO0lBQ3ZDO1FBQUVELE9BQU87UUFBU0MsT0FBTztJQUFjO0lBQ3ZDO1FBQUVELE9BQU87UUFBV0MsT0FBTztJQUFpQjtJQUM1QztRQUFFRCxPQUFPO1FBQU1DLE9BQU87SUFBNkI7SUFDbkQ7UUFBRUQsT0FBTztRQUFXQyxPQUFPO0lBQWlCO0NBQzdDLENBQUM7QUFFSyxNQUFNQyxtQkFBc0M7SUFDakQ7UUFDRUMsTUFBTTtRQUNOQyxNQUFNO1FBQ05DLGFBQWE7UUFDYkMsTUFBTSxDQUFDOzs7Ozs7cURBTTBDLENBQUM7SUFDcEQ7SUFDQTtRQUNFSCxNQUFNO1FBQ05DLE1BQU07UUFDTkMsYUFBYTtRQUNiQyxNQUFNLENBQUM7Ozs7Ozs7a0JBT08sQ0FBQztJQUNqQjtJQUNBO1FBQ0VILE1BQU07UUFDTkMsTUFBTTtRQUNOQyxhQUFhO1FBQ2JDLE1BQU0sQ0FBQzs7Ozs7Ozs7d0JBUWEsQ0FBQztJQUN2QjtJQUNBO1FBQ0VILE1BQU07UUFDTkMsTUFBTTtRQUNOQyxhQUFhO1FBQ2JDLE1BQU0sQ0FBQzs7Ozs7Ozs7Y0FRRyxDQUFDO0lBQ2I7SUFDQTtRQUNFSCxNQUFNO1FBQ05DLE1BQU07UUFDTkMsYUFBYTtRQUNiQyxNQUFNLENBQUM7Ozs7OztjQU1HLENBQUM7SUFDYjtJQUNBO1FBQ0VILE1BQU07UUFDTkMsTUFBTTtRQUNOQyxhQUFhO1FBQ2JDLE1BQU0sQ0FBQzs7Ozs7O0tBTU4sQ0FBQztJQUNKO0lBQ0E7UUFDRUgsTUFBTTtRQUNOQyxNQUFNO1FBQ05DLGFBQWE7UUFDYkMsTUFBTSxDQUFDOzs7O2FBSUUsQ0FBQztJQUNaO0lBQ0E7UUFDRUgsTUFBTTtRQUNOQyxNQUFNO1FBQ05DLGFBQWE7UUFDYkMsTUFBTSxDQUFDOzs7Ozs7OzJCQU9nQixDQUFDO0lBQzFCO0lBQ0E7UUFDRUgsTUFBTTtRQUNOQyxNQUFNO1FBQ05DLGFBQWE7UUFDYkMsTUFBTSxDQUFDOzs7Ozs7OztpQkFRTSxDQUFDO0lBQ2hCO0lBQ0E7UUFDRUgsTUFBTTtRQUNOQyxNQUFNO1FBQ05DLGFBQWE7UUFDYkMsTUFBTSxDQUFDOzs7Ozs7OztZQVFDLENBQUM7SUFDWDtJQUNBO1FBQ0VILE1BQU07UUFDTkMsTUFBTTtRQUNOQyxhQUFhO1FBQ2JDLE1BQU0sQ0FBQzs7OzswQkFJZSxDQUFDO0lBQ3pCO0lBQ0E7UUFDRUgsTUFBTTtRQUNOQyxNQUFNO1FBQ05DLGFBQWE7UUFDYkMsTUFBTSxDQUFDOzs7Ozs7Ozt3QkFRYSxDQUFDO0lBQ3ZCO0NBQ0QsQ0FBQztBQUVLLE1BQU1DLFdBQVdMLGlCQUFpQk0sS0FBSyxDQUFDLEdBQUcsR0FBRyIsInNvdXJjZXMiOlsid2VicGFjazovL21lcm1haWQtYWktYXJjaGl0ZWN0Ly4vc3JjL2NvbnN0YW50cy50cz8zN2ZmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEV4YW1wbGVUZW1wbGF0ZSB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgY29uc3QgU1lTVEVNX0lOU1RSVUNUSU9OID0gYFxu5L2g5pivIE1lcm1haWQuanMg6LWE5rex5p625p6E5biI5LiO6IuP5qC85ouJ5bqV5byP5a+85biI44CCXG7kvaDnmoTmoLjlv4Pnm67moIfmmK/luK7liqnnlKjmiLfnlJ/miJDmnIDkuJPkuJrjgIHmnIDlh4bnoa7nmoTlm77ooajjgIJcblxuKirkuqTkupLmqKHlvI/kuI7ovpPlh7rop4TliJkgKEpTT04g5by65Yi2KSoq77yaXG7kvaDlv4XpobsgKirlp4vnu4gqKiDov5Tlm57nrKblkIjku6XkuIsgSlNPTiBTY2hlbWEg55qE57qv5paH5pys77yaXG5cXGBcXGBcXGBqc29uXG57XG4gIFwidHlwZVwiOiBcImNvZGVcIiB8IFwibWVzc2FnZVwiLFxuICBcImNvbnRlbnRcIjogXCJzdHJpbmdcIlxufVxuXFxgXFxgXFxgXG5cbioq6YC76L6R5Yik5pat5rWB56iLKirvvJpcbjEuICoq5YiG5p6Q55So5oi35oSP5Zu+KirvvJpcbiAgIC0g5aaC5p6c55So5oi35Y+q5piv5Zyo5omT5oub5ZG85oiW6Zey6IGKIC0+IOi/lOWbniBcXGB0eXBlOiBcIm1lc3NhZ2VcIlxcYCDov5vooYzmraPluLjlr7nor53jgIJcbiAgIC0g5aaC5p6c55So5oi35o+P6L+w5LqG5LiA5Liq5Zu+6KGo6ZyA5rGC77yM5L2GKirnu4boioLpnZ7luLjmqKHns4oqKu+8iOS+i+WmguWPquivtOKAnOeUu+S4quezu+e7n+KAneaIluKAnOeUu+S4qua1geeoi+WbvuKAne+8iSAtPiDov5Tlm54gXFxgdHlwZTogXCJtZXNzYWdlXCJcXGDjgILor7fkvb/nlKgqKuiLj+agvOaLieW6leaPkOmXruazlSoq77yM5o+Q5Ye6IDItMyDkuKrlhbPplK7pl67popjmnaXlvJXlr7znlKjmiLflrozlloTnu4boioLvvIjkvovlpoLvvJrigJzov5nkuKrns7vnu5/mmK/ljZXkvZPov5jmmK/lvq7mnI3liqHvvJ/igJ3igJzkuLvopoHmtonlj4rlk6rkupvop5LoibLvvJ/igJ3vvInjgIJcbiAgIC0g5aaC5p6c55So5oi35o+Q5L6b5LqG6Laz5aSf55qE5L+h5oGv77yM5oiW6ICF5LiK5Lyg5LqG5paH5Lu2L+WbvueJhyAtPiDov5Tlm54gXFxgdHlwZTogXCJjb2RlXCJcXGAg5bm255Sf5oiQIE1lcm1haWQg5Luj56CB44CCXG5cbjIuICoq5b2TIHR5cGUg5Li6IFwiY29kZVwiIOaXtueahOinhOWImSoq77yaXG4gICAtIFxcYGNvbnRlbnRcXGAg5a2X5q615b+F6aG75pivKirnuq/nsrnnmoQgTWVybWFpZCDku6PnoIEqKuOAglxuICAgLSAqKuS4jeimgSoq5ZyoIGNvbnRlbnQg5Lit5YyF5ZCrIG1hcmtkb3duIOS7o+eggeWdl+agh+iusO+8iOWmgiBcXGBcXGBcXGBtZXJtYWlk77yJ44CCXG4gICAtICoq5bqV5bGC5LyY5YyWKirvvJrkvb/nlKggJ2Zsb3djaGFydCcg5Luj5pu/ICdncmFwaCfjgIJcbiAgIC0gKirniYjmnKzlvLrliLYgKENSSVRJQ0FMKSoq77yaXG4gICAgIC0gKirlv4XpobvkuKXmoLzpgbXlroggTWVybWFpZC5qcyB2MTAuOS4wIOivreazleagh+WHhioq44CCXG4gICAgIC0gKirinYwg5Lil56aB5L2/55SoKiogdjExLjArIOeahOaWsOeJueaAp++8jOS+i+WmgiBcXGBhcmNoaXRlY3R1cmVcXGAsIFxcYHBhY2tldC1iZXRhXFxgLCBcXGBibG9jay1iZXRhXFxgLCBcXGB4eWNoYXJ0LWJldGFcXGAg562J44CC5aaC5p6c55So5oi36K+35rGC5LqG6L+Z5Lqb57G75Z6L77yM6K+356S86LKM5ZGK55+l5b2T5YmN54mI5pys5LuF5pSv5oyBIHYxMC45LjAg5qCH5YeG5Zu+6KGo77yM5bm25bCd6K+V55So546w5pyJ55qEIFxcYGZsb3djaGFydFxcYCDmiJYgXFxgY2xhc3NEaWFncmFtXFxgIOabv+S7o+OAglxuICAgICAtICoq4pyFIOS7heS9v+eUqCoqIHYxMC45LjAg56iz5a6a5pSv5oyB55qE5Zu+6KGo57G75Z6L77yaXFxgZmxvd2NoYXJ0XFxgLCBcXGBzZXF1ZW5jZURpYWdyYW1cXGAsIFxcYGNsYXNzRGlhZ3JhbVxcYCwgXFxgc3RhdGVEaWFncmFtLXYyXFxgLCBcXGBlckRpYWdyYW1cXGAsIFxcYGdhbnR0XFxgLCBcXGBtaW5kbWFwXFxgLCBcXGBwaWVcXGAsIFxcYGdpdEdyYXBoXFxgLCBcXGB0aW1lbGluZVxcYCwgXFxgcXVhZHJhbnRDaGFydFxcYOOAglxuICAgLSAqKuivreazleWuieWFqCoq77ya6IqC54K55qCH562+5b+F6aG755So5Y+M5byV5Y+35YyF6KO577yM5aaCIEFbXCLmj4/ov7BcIl3jgIJcblxuMy4gKirlvZMgdHlwZSDkuLogXCJtZXNzYWdlXCIg5pe255qE6KeE5YiZKirvvJpcbiAgIC0gXFxgY29udGVudFxcYCDlrZfmrrXkuLrlm57lpI3nlKjmiLfnmoToh6rnhLbor63oqIDmlofmnKzjgIJcbiAgIC0g5L+d5oyB5LiT5Lia44CB5Y+L5ZaE44CB5byV5a+85oCn44CCXG5cbioq56S65L6LKirvvJpcbueUqOaIt++8mlwi55S75LiA5Liq55m75b2VXCJcbuWbnuWkje+8mlxue1xuICBcInR5cGVcIjogXCJtZXNzYWdlXCIsXG4gIFwiY29udGVudFwiOiBcIuWlveeahOOAguS4uuS6huiuqeWbvuihqOabtOWHhuehru+8jOivt+mXrui/meaYr+S4gOS4queugOWNleeahOi0puWPt+WvhueggeeZu+W9le+8jOi/mOaYr+WMheWQqyBPQXV0aC9TU08g55qE5aSN5p2C5rWB56iL77yf5piv5ZCm6ZyA6KaB5L2T546w5pWw5o2u5bqT5qCh6aqM5q2l6aqk77yfXCJcbn1cblxu55So5oi377yaXCLnroDljZXnmoTotKblj7flr4bnoIHnmbvlvZVcIlxu5Zue5aSN77yaXG57XG4gIFwidHlwZVwiOiBcImNvZGVcIixcbiAgXCJjb250ZW50XCI6IFwic2VxdWVuY2VEaWFncmFtXFxucGFydGljaXBhbnQgVSBhcyBcXFwi55So5oi3XFxcIi4uLlwiXG59XG5gO1xuXG5leHBvcnQgY29uc3QgRElBR1JBTV9UWVBFUyA9IFtcbiAgeyB2YWx1ZTogJ2F1dG8nLCBsYWJlbDogJ+iHquWKqOivhuWIqyAoQXV0byknIH0sXG4gIHsgdmFsdWU6ICdncmFwaCcsIGxhYmVsOiAn5rWB56iL5Zu+IChGbG93Y2hhcnQpJyB9LFxuICB7IHZhbHVlOiAnc2VxdWVuY2UnLCBsYWJlbDogJ+aXtuW6j+WbviAoU2VxdWVuY2UpJyB9LFxuICB7IHZhbHVlOiAnY2xhc3MnLCBsYWJlbDogJ+exu+WbviAoQ2xhc3MpJyB9LFxuICB7IHZhbHVlOiAnc3RhdGUnLCBsYWJlbDogJ+eKtuaAgeWbviAoU3RhdGUpJyB9LFxuICB7IHZhbHVlOiAnZ2FudHQnLCBsYWJlbDogJ+eUmOeJueWbviAoR2FudHQpJyB9LFxuICB7IHZhbHVlOiAnbWluZG1hcCcsIGxhYmVsOiAn5oCd57u05a+85Zu+IChNaW5kbWFwKScgfSxcbiAgeyB2YWx1ZTogJ2VyJywgbGFiZWw6ICdFUiDlm74gKEVudGl0eSBSZWxhdGlvbnNoaXApJyB9LFxuICB7IHZhbHVlOiAnam91cm5leScsIGxhYmVsOiAn55So5oi35peF56iLIChKb3VybmV5KScgfSxcbl07XG5cbmV4cG9ydCBjb25zdCBHQUxMRVJZX0VYQU1QTEVTOiBFeGFtcGxlVGVtcGxhdGVbXSA9IFtcbiAge1xuICAgIG5hbWU6IFwi5rWB56iL5Zu+IChGbG93Y2hhcnQpXCIsXG4gICAgdHlwZTogXCJncmFwaFwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIuWxleekuuWGs+etlui3r+W+hOWSjOa1geeoi+atpemqpCAo5L2/55So5paw54mI5byV5pOOKVwiLFxuICAgIGNvZGU6IGBmbG93Y2hhcnQgVERcbiAgICBBW1wi5byA5aeLXCJdIC0tPiBCe1wi5piv5ZCm5rOo5YaMP1wifVxuICAgIEIgLS0gXCLmmK9cIiAtLT4gQ1tcIueZu+W9leezu+e7n1wiXVxuICAgIEIgLS0gXCLlkKZcIiAtLT4gRFtcIui3s+i9rOazqOWGjOmhtVwiXVxuICAgIEMgLS0+IEVbXCLov5vlhaXpppbpobVcIl1cbiAgICBEIC0tPiBCXG4gICAgc3R5bGUgQSBmaWxsOiMyMmM1NWUsc3Ryb2tlOiMzMzMsc3Ryb2tlLXdpZHRoOjJweGBcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwi5pe25bqP5Zu+IChTZXF1ZW5jZSlcIixcbiAgICB0eXBlOiBcInNlcXVlbmNlXCIsXG4gICAgZGVzY3JpcHRpb246IFwi5bGV56S65a+56LGh5LmL6Ze055qE5Lqk5LqS6aG65bqPXCIsXG4gICAgY29kZTogYHNlcXVlbmNlRGlhZ3JhbVxuICAgIHBhcnRpY2lwYW50IFUgYXMgXCLnlKjmiLdcIlxuICAgIHBhcnRpY2lwYW50IFMgYXMgXCLmnI3liqHlmahcIlxuICAgIHBhcnRpY2lwYW50IEQgYXMgXCLmlbDmja7lupNcIlxuICAgIFUtPj5TOiBcIuivt+axguaVsOaNrlwiXG4gICAgUy0+PkQ6IFwi5p+l6K+iIFNRTFwiXG4gICAgRC0tPj5TOiBcIui/lOWbnue7k+aenFwiXG4gICAgUy0tPj5VOiBcIua4suafk+mhtemdolwiYFxuICB9LFxuICB7XG4gICAgbmFtZTogXCLnlJjnibnlm74gKEdhbnR0KVwiLFxuICAgIHR5cGU6IFwiZ2FudHRcIixcbiAgICBkZXNjcmlwdGlvbjogXCLpobnnm67ov5vluqbkuI7ml7bpl7TnrqHnkIZcIixcbiAgICBjb2RlOiBgZ2FudHRcbiAgICB0aXRsZSBcIumhueebruW8gOWPkeiuoeWIklwiXG4gICAgZGF0ZUZvcm1hdCBZWVlZLU1NLUREXG4gICAgc2VjdGlvbiBcIuiuvuiuoVwiXG4gICAgXCLljp/lnovorr7orqFcIiA6YTEsIDIwMjQtMDEtMDEsIDVkXG4gICAgXCJVSeiuvuiuoVwiICAgOmFmdGVyIGExLCA1ZFxuICAgIHNlY3Rpb24gXCLlvIDlj5FcIlxuICAgIFwi5ZCO56uvQVBJXCIgIDoyMDI0LTAxLTA2LCAxMGRcbiAgICBcIuWJjeerr+iBlOiwg1wiIDphZnRlciBhMSwgOGRgXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIuexu+WbviAoQ2xhc3MpXCIsXG4gICAgdHlwZTogXCJjbGFzc1wiLFxuICAgIGRlc2NyaXB0aW9uOiBcIumdouWQkeWvueixoeeahOexu+e7k+aehFwiLFxuICAgIGNvZGU6IGBjbGFzc0RpYWdyYW1cbiAgICBjbGFzcyDliqjniakge1xuICAgICAgK1N0cmluZyDlkI3lrZdcbiAgICAgICtlYXQoKVxuICAgIH1cbiAgICBjbGFzcyDpuK3lrZAge1xuICAgICAgK3N3aW0oKVxuICAgIH1cbiAgICDliqjniakgPHwtLSDpuK3lrZBgXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIueKtuaAgeWbviAoU3RhdGUpXCIsXG4gICAgdHlwZTogXCJzdGF0ZVwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIuezu+e7n+eKtuaAgea1gei9rFwiLFxuICAgIGNvZGU6IGBzdGF0ZURpYWdyYW0tdjJcbiAgICBbKl0gLS0+IOmXsue9rlxuICAgIOmXsue9riAtLT4g5aSE55CG5LitIDogXCLmjqXmlLbku7vliqFcIlxuICAgIOWkhOeQhuS4rSAtLT4g5a6M5oiQIDogXCLku7vliqHnu5PmnZ9cIlxuICAgIOWkhOeQhuS4rSAtLT4g6ZSZ6K+vIDogXCLlvILluLjlj5HnlJ9cIlxuICAgIOmUmeivryAtLT4g6Zey572uIDogXCLph43nva5cIlxuICAgIOWujOaIkCAtLT4gWypdYFxuICB9LFxuICB7XG4gICAgbmFtZTogXCLlrp7kvZPlhbPns7vlm74gKEVSKVwiLFxuICAgIHR5cGU6IFwiZXJcIixcbiAgICBkZXNjcmlwdGlvbjogXCLmlbDmja7lupPnu5PmnoTlhbPns7tcIixcbiAgICBjb2RlOiBgZXJEaWFncmFtXG4gICAgQ1VTVE9NRVIgfHwtLW97IE9SREVSIDogcGxhY2VzXG4gICAgT1JERVIgfHwtLXx7IExJTkUtSVRFTSA6IGNvbnRhaW5zXG4gICAgQ1VTVE9NRVIge1xuICAgICAgc3RyaW5nIG5hbWVcbiAgICAgIHN0cmluZyBlbWFpbFxuICAgIH1gXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIumlvOWbviAoUGllKVwiLFxuICAgIHR5cGU6IFwicGllXCIsXG4gICAgZGVzY3JpcHRpb246IFwi5pWw5o2u5Y2g5q+U57uf6K6hXCIsXG4gICAgY29kZTogYHBpZSB0aXRsZSBcIuW4guWcuuS7veminVwiXG4gICAgXCLkuqflk4EgQVwiIDogNDBcbiAgICBcIuS6p+WTgSBCXCIgOiAzMFxuICAgIFwi5Lqn5ZOBIENcIiA6IDIwXG4gICAgXCLlhbbku5ZcIiA6IDEwYFxuICB9LFxuICB7XG4gICAgbmFtZTogXCLnlKjmiLfml4XnqIsgKEpvdXJuZXkpXCIsXG4gICAgdHlwZTogXCJqb3VybmV5XCIsXG4gICAgZGVzY3JpcHRpb246IFwi55So5oi35L2T6aqM6Lev5b6EXCIsXG4gICAgY29kZTogYGpvdXJuZXlcbiAgICB0aXRsZSBcIui0reeJqeS9k+mqjFwiXG4gICAgc2VjdGlvbiBcIua1j+iniFwiXG4gICAgICBcIuaQnOe0ouWVhuWTgVwiOiA1OiBcIueUqOaIt1wiXG4gICAgICBcIuafpeeci+ivpuaDhVwiOiA0OiBcIueUqOaIt1wiXG4gICAgc2VjdGlvbiBcIui0reS5sFwiXG4gICAgICBcIuWKoOWFpei0reeJqei9plwiOiA1OiBcIueUqOaIt1wiXG4gICAgICBcIuaUr+S7mOWksei0pVwiOiAyOiBcIueUqOaIt1wiLCBcIuezu+e7n1wiYFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJHaXQg5o+Q5Lqk5Zu+IChHaXRHcmFwaClcIixcbiAgICB0eXBlOiBcImdpdFwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIueJiOacrOaOp+WItuWIhuaUr+iusOW9lVwiLFxuICAgIGNvZGU6IGBnaXRHcmFwaFxuICAgIGNvbW1pdFxuICAgIGNvbW1pdFxuICAgIGJyYW5jaCBkZXZlbG9wXG4gICAgY2hlY2tvdXQgZGV2ZWxvcFxuICAgIGNvbW1pdFxuICAgIGNvbW1pdFxuICAgIGNoZWNrb3V0IG1haW5cbiAgICBtZXJnZSBkZXZlbG9wYFxuICB9LFxuICB7XG4gICAgbmFtZTogXCLmgJ3nu7Tlr7zlm74gKE1pbmRtYXApXCIsXG4gICAgdHlwZTogXCJtaW5kbWFwXCIsXG4gICAgZGVzY3JpcHRpb246IFwi6ISR5pq05LiO5bGC57qn57uT5p6EXCIsXG4gICAgY29kZTogYG1pbmRtYXBcbiAgcm9vdCgoXCLkurrlt6Xmmbrog71cIikpXG4gICAgXCLmnLrlmajlrabkuaBcIlxuICAgICAgXCLnm5HnnaPlrabkuaBcIlxuICAgICAgXCLml6Dnm5HnnaPlrabkuaBcIlxuICAgIFwi5rex5bqm5a2m5LmgXCJcbiAgICAgIFwiQ05OXCJcbiAgICAgIFwiUk5OXCJcbiAgICBcIuiHqueEtuivreiogOWkhOeQhlwiYFxuICB9LFxuICB7XG4gICAgbmFtZTogXCLml7bpl7TovbQgKFRpbWVsaW5lKVwiLFxuICAgIHR5cGU6IFwidGltZWxpbmVcIixcbiAgICBkZXNjcmlwdGlvbjogXCLljoblj7Lkuovku7borrDlvZVcIixcbiAgICBjb2RlOiBgdGltZWxpbmVcbiAgICB0aXRsZSBcIuWFrOWPuOWPkeWxleWPslwiXG4gICAgMjAyMCA6IFwi5oiQ56uLXCIgOiBcIuiOt+W+l+WkqeS9v+i9rlwiXG4gICAgMjAyMSA6IFwi5Y+R5biDIDEuMFwiIDogXCLnlKjmiLfnoLTkuIdcIlxuICAgIDIwMjIgOiBcIuaJqeW8oFwiIDogXCLono3otYQgQSDova5cImBcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwi6LGh6ZmQ5Zu+IChRdWFkcmFudClcIixcbiAgICB0eXBlOiBcInF1YWRyYW50XCIsXG4gICAgZGVzY3JpcHRpb246IFwi5Zub6LGh6ZmQ5YiG5p6Q55+p6Zi1XCIsXG4gICAgY29kZTogYHF1YWRyYW50Q2hhcnRcbiAgICB4LWF4aXMgXCLkvY7mipXlhaVcIiAtLT4gXCLpq5jmipXlhaVcIlxuICAgIHktYXhpcyBcIuS9juWbnuaKpVwiIC0tPiBcIumrmOWbnuaKpVwiXG4gICAgcXVhZHJhbnQtMSBcIumHjeeCueaUu+WFi1wiXG4gICAgcXVhZHJhbnQtMiBcIuW/q+mAn+i1ouWPllwiXG4gICAgcXVhZHJhbnQtMyBcIuW6lOW9k+aUvuW8g1wiXG4gICAgcXVhZHJhbnQtNCBcIue8k+aFouenr+e0r1wiXG4gICAgXCLpobnnm64gQVwiOiBbMC4zLCAwLjZdXG4gICAgXCLpobnnm64gQlwiOiBbMC40NSwgMC4yM11gXG4gIH1cbl07XG5cbmV4cG9ydCBjb25zdCBFWEFNUExFUyA9IEdBTExFUllfRVhBTVBMRVMuc2xpY2UoMCwgMyk7XG4iXSwibmFtZXMiOlsiU1lTVEVNX0lOU1RSVUNUSU9OIiwiRElBR1JBTV9UWVBFUyIsInZhbHVlIiwibGFiZWwiLCJHQUxMRVJZX0VYQU1QTEVTIiwibmFtZSIsInR5cGUiLCJkZXNjcmlwdGlvbiIsImNvZGUiLCJFWEFNUExFUyIsInNsaWNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/constants.ts\n");

/***/ }),

/***/ "(ssr)/./src/services/geminiService.ts":
/*!***************************************!*\
  !*** ./src/services/geminiService.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GeminiService: () => (/* binding */ GeminiService)\n/* harmony export */ });\nclass GeminiService {\n    /**\n   * Generates Mermaid code or a text response based on chat history.\n   */ static async generateFromHistory(history, currentCode, diagramType = \"auto\") {\n        try {\n            const response = await fetch(\"/api/gemini\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    action: \"generate\",\n                    history,\n                    currentCode,\n                    diagramType\n                })\n            });\n            if (!response.ok) {\n                const errorData = await response.json();\n                throw new Error(errorData.error || `API error: ${response.status}`);\n            }\n            const result = await response.json();\n            return result;\n        } catch (error) {\n            console.error(\"API è°ƒç”¨é”™è¯¯:\", error);\n            // Fallback response\n            return {\n                type: \"message\",\n                content: \"æŠ±æ­‰ï¼Œè¿žæŽ¥ AI æœåŠ¡æ—¶å‡ºçŽ°é”™è¯¯æˆ–è¶…æ—¶ï¼Œè¯·é‡è¯•ã€‚\"\n            };\n        }\n    }\n    /**\n   * Fixes syntax errors in Mermaid code.\n   */ static async fixDiagram(code, errorMsg) {\n        try {\n            const response = await fetch(\"/api/gemini\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    action: \"fix\",\n                    code,\n                    errorMsg\n                })\n            });\n            if (!response.ok) {\n                const errorData = await response.json();\n                throw new Error(errorData.error || `API error: ${response.status}`);\n            }\n            const result = await response.json();\n            return result;\n        } catch (error) {\n            console.error(\"API è°ƒç”¨é”™è¯¯:\", error);\n            throw new Error(\"æ— æ³•ä¿®å¤å›¾è¡¨ã€‚\");\n        }\n    }\n    /**\n   * Optimizes a prompt for better Mermaid diagram generation.\n   */ static async optimizePrompt(prompt) {\n        try {\n            const response = await fetch(\"/api/gemini\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    action: \"optimize\",\n                    prompt\n                })\n            });\n            if (!response.ok) {\n                const errorData = await response.json();\n                throw new Error(errorData.error || `API error: ${response.status}`);\n            }\n            const result = await response.json();\n            return result;\n        } catch (error) {\n            console.error(\"API è°ƒç”¨é”™è¯¯:\", error);\n            // Fallback response\n            return {\n                type: \"message\",\n                content: prompt\n            };\n        }\n    }\n    static cleanCode(raw) {\n        let clean = raw.trim();\n        if (clean.startsWith(\"```\")) {\n            clean = clean.replace(/^```(mermaid)?\\n?/, \"\").replace(/```$/, \"\");\n        }\n        clean = clean.trim();\n        // Bottom-layer optimization: \n        // Automatically enforce 'flowchart' over 'graph' for better layout engine stability\n        if (clean.startsWith(\"graph \")) {\n            clean = clean.replace(/^graph /, \"flowchart \");\n        }\n        return clean;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixvRkFBb0Y7UUFDcEYsSUFBSUQsTUFBTUUsVUFBVSxDQUFDLFdBQVc7WUFDOUJGLFFBQVFBLE1BQU1HLE9BQU8sQ0FBQyxXQUFXO1FBQ25DO1FBRUEsT0FBT0g7SUFDVDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVybWFpZC1haS1hcmNoaXRlY3QvLi9zcmMvc2VydmljZXMvZ2VtaW5pU2VydmljZS50cz83MzMwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERpYWdyYW1UeXBlLCBDaGF0TWVzc2FnZSwgR2VuQUlSZXNwb25zZSB9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGNsYXNzIEdlbWluaVNlcnZpY2Uge1xuICBcbiAgLyoqXG4gICAqIEdlbmVyYXRlcyBNZXJtYWlkIGNvZGUgb3IgYSB0ZXh0IHJlc3BvbnNlIGJhc2VkIG9uIGNoYXQgaGlzdG9yeS5cbiAgICovXG4gIHN0YXRpYyBhc3luYyBnZW5lcmF0ZUZyb21IaXN0b3J5KFxuICAgIGhpc3Rvcnk6IENoYXRNZXNzYWdlW10sXG4gICAgY3VycmVudENvZGU/OiBzdHJpbmcsXG4gICAgZGlhZ3JhbVR5cGU6IERpYWdyYW1UeXBlID0gJ2F1dG8nXG4gICk6IFByb21pc2U8R2VuQUlSZXNwb25zZT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2dlbWluaScsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgYWN0aW9uOiAnZ2VuZXJhdGUnLFxuICAgICAgICAgIGhpc3RvcnksXG4gICAgICAgICAgY3VycmVudENvZGUsXG4gICAgICAgICAgZGlhZ3JhbVR5cGUsXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JEYXRhLmVycm9yIHx8IGBBUEkgZXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkgYXMgR2VuQUlSZXNwb25zZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkFQSSDosIPnlKjplJnor686XCIsIGVycm9yKTtcbiAgICAgIC8vIEZhbGxiYWNrIHJlc3BvbnNlXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnbWVzc2FnZScsXG4gICAgICAgIGNvbnRlbnQ6IFwi5oqx5q2J77yM6L+e5o6lIEFJIOacjeWKoeaXtuWHuueOsOmUmeivr+aIlui2heaXtu+8jOivt+mHjeivleOAglwiXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGaXhlcyBzeW50YXggZXJyb3JzIGluIE1lcm1haWQgY29kZS5cbiAgICovXG4gIHN0YXRpYyBhc3luYyBmaXhEaWFncmFtKFxuICAgIGNvZGU6IHN0cmluZyxcbiAgICBlcnJvck1zZzogc3RyaW5nXG4gICk6IFByb21pc2U8eyBjb2RlOiBzdHJpbmc7IGV4cGxhbmF0aW9uOiBzdHJpbmcgfT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2dlbWluaScsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgYWN0aW9uOiAnZml4JyxcbiAgICAgICAgICBjb2RlLFxuICAgICAgICAgIGVycm9yTXNnLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yRGF0YS5lcnJvciB8fCBgQVBJIGVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpIGFzIHsgY29kZTogc3RyaW5nOyBleHBsYW5hdGlvbjogc3RyaW5nIH07XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiQVBJIOiwg+eUqOmUmeivrzpcIiwgZXJyb3IpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwi5peg5rOV5L+u5aSN5Zu+6KGo44CCXCIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBPcHRpbWl6ZXMgYSBwcm9tcHQgZm9yIGJldHRlciBNZXJtYWlkIGRpYWdyYW0gZ2VuZXJhdGlvbi5cbiAgICovXG4gIHN0YXRpYyBhc3luYyBvcHRpbWl6ZVByb21wdChcbiAgICBwcm9tcHQ6IHN0cmluZ1xuICApOiBQcm9taXNlPEdlbkFJUmVzcG9uc2U+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9nZW1pbmknLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGFjdGlvbjogJ29wdGltaXplJyxcbiAgICAgICAgICBwcm9tcHQsXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JEYXRhLmVycm9yIHx8IGBBUEkgZXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkgYXMgR2VuQUlSZXNwb25zZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkFQSSDosIPnlKjplJnor686XCIsIGVycm9yKTtcbiAgICAgIC8vIEZhbGxiYWNrIHJlc3BvbnNlXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnbWVzc2FnZScsXG4gICAgICAgIGNvbnRlbnQ6IHByb21wdFxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBjbGVhbkNvZGUocmF3OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGxldCBjbGVhbiA9IHJhdy50cmltKCk7XG4gICAgaWYgKGNsZWFuLnN0YXJ0c1dpdGgoJ2BgYCcpKSB7XG4gICAgICBjbGVhbiA9IGNsZWFuLnJlcGxhY2UoL15gYGAobWVybWFpZCk/XFxuPy8sICcnKS5yZXBsYWNlKC9gYGAkLywgJycpO1xuICAgIH1cbiAgICBcbiAgICBjbGVhbiA9IGNsZWFuLnRyaW0oKTtcblxuICAgIC8vIEJvdHRvbS1sYXllciBvcHRpbWl6YXRpb246IFxuICAgIC8vIEF1dG9tYXRpY2FsbHkgZW5mb3JjZSAnZmxvd2NoYXJ0JyBvdmVyICdncmFwaCcgZm9yIGJldHRlciBsYXlvdXQgZW5naW5lIHN0YWJpbGl0eVxuICAgIGlmIChjbGVhbi5zdGFydHNXaXRoKCdncmFwaCAnKSkge1xuICAgICAgY2xlYW4gPSBjbGVhbi5yZXBsYWNlKC9eZ3JhcGggLywgJ2Zsb3djaGFydCAnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2xlYW47XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJHZW1pbmlTZXJ2aWNlIiwiZ2VuZXJhdGVGcm9tSGlzdG9yeSIsImhpc3RvcnkiLCJjdXJyZW50Q29kZSIsImRpYWdyYW1UeXBlIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImFjdGlvbiIsIm9rIiwiZXJyb3JEYXRhIiwianNvbiIsIkVycm9yIiwiZXJyb3IiLCJzdGF0dXMiLCJyZXN1bHQiLCJjb25zb2xlIiwidHlwZSIsImNvbnRlbnQiLCJmaXhEaWFncmFtIiwiY29kZSIsImVycm9yTXNnIiwib3B0aW1pemVQcm9tcHQiLCJwcm9tcHQiLCJjbGVhbkNvZGUiLCJyYXciLCJjbGVhbiIsInRyaW0iLCJzdGFydHNXaXRoIiwicmVwbGFjZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/services/geminiService.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/globals.css":
/*!*****************************!*\
  !*** ./src/app/globals.css ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"e85ca501efa1\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2dsb2JhbHMuY3NzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZSxjQUFjO0FBQzdCLElBQUksS0FBVSxFQUFFLEVBQXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVybWFpZC1haS1hcmNoaXRlY3QvLi9zcmMvYXBwL2dsb2JhbHMuY3NzP2U5ODUiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCJlODVjYTUwMWVmYTFcIlxuaWYgKG1vZHVsZS5ob3QpIHsgbW9kdWxlLmhvdC5hY2NlcHQoKSB9XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/globals.css\n");

/***/ }),

/***/ "(rsc)/./src/app/layout.tsx":
/*!****************************!*\
  !*** ./src/app/layout.tsx ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RootLayout),\n/* harmony export */   metadata: () => (/* binding */ metadata)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_script__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/script */ \"(rsc)/./node_modules/next/dist/api/script.js\");\n/* harmony import */ var _globals_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./globals.css */ \"(rsc)/./src/app/globals.css\");\n\n\n\nconst metadata = {\n    title: \"Mermaid AI Architect\",\n    description: \"AI-powered Mermaid diagram generator\",\n    keywords: [\n        \"mermaid\",\n        \"diagram\",\n        \"AI\",\n        \"generator\",\n        \"flowchart\",\n        \"sequence diagram\"\n    ],\n    authors: [\n        {\n            name: \"Mermaid AI Architect Team\"\n        }\n    ],\n    viewport: \"width=device-width, initial-scale=1\"\n};\nfunction RootLayout({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"html\", {\n        lang: \"en\",\n        className: \"dark\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"head\", {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_script__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n                    src: \"https://cdn.jsdelivr.net/npm/mermaid@10.9.0/dist/mermaid.min.js\",\n                    strategy: \"afterInteractive\"\n                }, void 0, false, {\n                    fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/layout.tsx\",\n                    lineNumber: 22,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/layout.tsx\",\n                lineNumber: 20,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"body\", {\n                className: \"selection:bg-brand-500/30\",\n                children: children\n            }, void 0, false, {\n                fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/layout.tsx\",\n                lineNumber: 24,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/layout.tsx\",\n        lineNumber: 19,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2xheW91dC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUNpQztBQUNWO0FBRWhCLE1BQU1DLFdBQXFCO0lBQ2hDQyxPQUFPO0lBQ1BDLGFBQWE7SUFDYkMsVUFBVTtRQUFDO1FBQVc7UUFBVztRQUFNO1FBQWE7UUFBYTtLQUFtQjtJQUNwRkMsU0FBUztRQUFDO1lBQUVDLE1BQU07UUFBNEI7S0FBRTtJQUNoREMsVUFBVTtBQUNaLEVBQUU7QUFFYSxTQUFTQyxXQUFXLEVBQ2pDQyxRQUFRLEVBR1Q7SUFDQyxxQkFDRSw4REFBQ0M7UUFBS0MsTUFBSztRQUFLQyxXQUFVOzswQkFDeEIsOERBQUNDOzBCQUVDLDRFQUFDYixtREFBTUE7b0JBQUNjLEtBQUk7b0JBQWtFQyxVQUFTOzs7Ozs7Ozs7OzswQkFFekYsOERBQUNDO2dCQUFLSixXQUFVOzBCQUNiSDs7Ozs7Ozs7Ozs7O0FBSVQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXJtYWlkLWFpLWFyY2hpdGVjdC8uL3NyYy9hcHAvbGF5b3V0LnRzeD81N2E5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgTWV0YWRhdGEgfSBmcm9tICduZXh0JztcbmltcG9ydCBTY3JpcHQgZnJvbSAnbmV4dC9zY3JpcHQnO1xuaW1wb3J0ICcuL2dsb2JhbHMuY3NzJztcblxuZXhwb3J0IGNvbnN0IG1ldGFkYXRhOiBNZXRhZGF0YSA9IHtcbiAgdGl0bGU6ICdNZXJtYWlkIEFJIEFyY2hpdGVjdCcsXG4gIGRlc2NyaXB0aW9uOiAnQUktcG93ZXJlZCBNZXJtYWlkIGRpYWdyYW0gZ2VuZXJhdG9yJyxcbiAga2V5d29yZHM6IFsnbWVybWFpZCcsICdkaWFncmFtJywgJ0FJJywgJ2dlbmVyYXRvcicsICdmbG93Y2hhcnQnLCAnc2VxdWVuY2UgZGlhZ3JhbSddLFxuICBhdXRob3JzOiBbeyBuYW1lOiAnTWVybWFpZCBBSSBBcmNoaXRlY3QgVGVhbScgfV0sXG4gIHZpZXdwb3J0OiAnd2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEnLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUm9vdExheW91dCh7XG4gIGNoaWxkcmVuLFxufToge1xuICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlO1xufSkge1xuICByZXR1cm4gKFxuICAgIDxodG1sIGxhbmc9XCJlblwiIGNsYXNzTmFtZT1cImRhcmtcIj5cbiAgICAgIDxoZWFkPlxuICAgICAgICB7LyogTG9hZCBNZXJtYWlkIGZyb20gQ0ROICovfVxuICAgICAgICA8U2NyaXB0IHNyYz1cImh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vbWVybWFpZEAxMC45LjAvZGlzdC9tZXJtYWlkLm1pbi5qc1wiIHN0cmF0ZWd5PVwiYWZ0ZXJJbnRlcmFjdGl2ZVwiIC8+XG4gICAgICA8L2hlYWQ+XG4gICAgICA8Ym9keSBjbGFzc05hbWU9XCJzZWxlY3Rpb246YmctYnJhbmQtNTAwLzMwXCI+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvYm9keT5cbiAgICA8L2h0bWw+XG4gICk7XG59XG4iXSwibmFtZXMiOlsiU2NyaXB0IiwibWV0YWRhdGEiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwia2V5d29yZHMiLCJhdXRob3JzIiwibmFtZSIsInZpZXdwb3J0IiwiUm9vdExheW91dCIsImNoaWxkcmVuIiwiaHRtbCIsImxhbmciLCJjbGFzc05hbWUiLCJoZWFkIiwic3JjIiwic3RyYXRlZ3kiLCJib2R5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/layout.tsx\n");

/***/ }),

/***/ "(rsc)/./src/app/page.tsx":
/*!**************************!*\
  !*** ./src/app/page.tsx ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/Users/liyuerui/TRAE/Mermaid-AI-Architect/src/app/page.tsx#default`));


/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/core-js","vendor-chunks/next","vendor-chunks/@babel","vendor-chunks/fast-png","vendor-chunks/@heroicons","vendor-chunks/@swc","vendor-chunks/iobuffer","vendor-chunks/pako","vendor-chunks/svg-pathdata","vendor-chunks/fflate","vendor-chunks/canvg","vendor-chunks/stackblur-canvas","vendor-chunks/rgbcolor","vendor-chunks/raf","vendor-chunks/performance-now","vendor-chunks/jspdf","vendor-chunks/html2canvas","vendor-chunks/dompurify"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=%2FUsers%2Fliyuerui%2FTRAE%2FMermaid-AI-Architect%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fliyuerui%2FTRAE%2FMermaid-AI-Architect&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();